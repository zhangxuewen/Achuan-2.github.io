<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>é˜¿å·›çš„Hexoåšå®¢æ­å»º</title>
      <link href="posts/a881.html"/>
      <url>posts/a881.html</url>
      
        <content type="html"><![CDATA[<ul><li>å›¾ç‰‡åŠ è½½ä¼˜åŒ–</li><li>æ»šåŠ¨æ¡ç¾åŒ–</li><li>å¢åŠ artitalkè¯´è¯´é¡µé¢</li><li>åšå®¢ä¼˜åŒ–</li><li>CDNåŠ é€Ÿ</li><li>ç»‘å®šåŸŸå(githubã€codingåŒç»‘å®š)</li><li>è¯ä¹¦è®¤è¯</li><li>æ»šåŠ¨æ¡ç¾åŒ–</li></ul><pre class=" language-css"><code class="language-css"><span class="token comment" spellcheck="true">/***** æ»šåŠ¨æ¡ *****/</span><span class="token comment" spellcheck="true">/* æ»šåŠ¨æ¡é‡Œé¢çš„å°æ–¹å— */</span><span class="token selector"><span class="token pseudo-element">::-webkit-scrollbar-thumb</span> </span><span class="token punctuation">{</span>    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token hexcode">#FF2A68</span><span class="token punctuation">;</span>    <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token function">-webkit-linear-gradient</span><span class="token punctuation">(</span><span class="token number">45</span>deg,<span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">255</span>,<span class="token number">255</span>,<span class="token number">255</span>,<span class="token number">.4</span><span class="token punctuation">)</span> <span class="token number">25%</span>,transparent <span class="token number">25%</span>,transparent <span class="token number">50%</span>,<span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">255</span>,<span class="token number">255</span>,<span class="token number">255</span>,<span class="token number">.4</span><span class="token punctuation">)</span> <span class="token number">50%</span>,<span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">255</span>,<span class="token number">255</span>,<span class="token number">255</span>,<span class="token number">.4</span><span class="token punctuation">)</span> <span class="token number">75%</span>,transparent <span class="token number">75%</span>,transparent<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">border-radius</span><span class="token punctuation">:</span> <span class="token number">3</span>em<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/* æ»šåŠ¨æ¡çš„è½¨é“ */</span><span class="token selector"><span class="token pseudo-element">::-webkit-scrollbar-track</span> </span><span class="token punctuation">{</span>    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token hexcode">#ffcaca</span>ff<span class="token punctuation">;</span>    <span class="token property">border-radius</span><span class="token punctuation">:</span> <span class="token number">3</span>em<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/* æ»šåŠ¨æ¡æ•´ä½“éƒ¨åˆ† */</span><span class="token selector"><span class="token pseudo-element">::-webkit-scrollbar</span> </span><span class="token punctuation">{</span>    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">8</span>px<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">15</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="å…¨ç«™CDNåŠ é€Ÿ"><a href="#å…¨ç«™CDNåŠ é€Ÿ" class="headerlink" title="å…¨ç«™CDNåŠ é€Ÿ"></a>å…¨ç«™CDNåŠ é€Ÿ</h2><p>CDNçš„å…¨ç§°æ˜¯Content Delivery Networkï¼Œå³å†…å®¹åˆ†å‘ç½‘ç»œã€‚CDNæ˜¯æ„å»ºåœ¨ç½‘ç»œä¹‹ä¸Šçš„å†…å®¹åˆ†å‘ç½‘ç»œï¼Œä¾é éƒ¨ç½²åœ¨å„åœ°çš„è¾¹ç¼˜æœåŠ¡å™¨ï¼Œé€šè¿‡ä¸­å¿ƒå¹³å°çš„è´Ÿè½½å‡è¡¡ã€å†…å®¹åˆ†å‘ã€è°ƒåº¦ç­‰åŠŸèƒ½æ¨¡å—ï¼Œä½¿ç”¨æˆ·å°±è¿‘è·å–æ‰€éœ€å†…å®¹ï¼Œé™ä½ç½‘ç»œæ‹¥å¡ï¼Œæé«˜ç”¨æˆ·è®¿é—®å“åº”é€Ÿåº¦å’Œå‘½ä¸­ç‡ã€‚CDNçš„å…³é”®æŠ€æœ¯ä¸»è¦æœ‰å†…å®¹å­˜å‚¨å’Œåˆ†å‘æŠ€æœ¯ã€‚â€”â€”ç™¾åº¦ç™¾ç§‘<br>ç”¨æ³•ï¼š</p><pre class=" language-http"><code class="language-http"><span class="token header-name keyword">https:</span>//cdn.jsdelivr.net/gh/ä½ çš„ç”¨æˆ·å/ä½ çš„ä»“åº“å@å‘å¸ƒçš„ç‰ˆæœ¬å·/æ–‡ä»¶è·¯å¾„</code></pre><h2 id="SEOä¼˜åŒ–"><a href="#SEOä¼˜åŒ–" class="headerlink" title="SEOä¼˜åŒ–"></a>SEOä¼˜åŒ–</h2><p>SEOï¼ˆSearch Engine Optimizationï¼‰ï¼šæ±‰è¯‘ä¸ºæœç´¢å¼•æ“ä¼˜åŒ–ã€‚æ˜¯ä¸€ç§æ–¹å¼ï¼šåˆ©ç”¨æœç´¢å¼•æ“çš„è§„åˆ™æé«˜ç½‘ç«™åœ¨æœ‰å…³æœç´¢å¼•æ“å†…çš„è‡ªç„¶æ’åã€‚ â€”â€”ç™¾åº¦ç™¾ç§‘<br>è¯·å‚è€ƒè¿™ç¯‡åšæ–‡ï¼š<a href="https://blog.sky03.cn/posts/42790.html#toc-heading-18">https://blog.sky03.cn/posts/42790.html#toc-heading-18</a></p><h2 id="æ–°å»ºæ–‡ç« è‡ªåŠ¨æ‰“å¼€æœ¬åœ°-Markdown-ç¼–è¾‘å™¨"><a href="#æ–°å»ºæ–‡ç« è‡ªåŠ¨æ‰“å¼€æœ¬åœ°-Markdown-ç¼–è¾‘å™¨" class="headerlink" title="æ–°å»ºæ–‡ç« è‡ªåŠ¨æ‰“å¼€æœ¬åœ° Markdown ç¼–è¾‘å™¨"></a>æ–°å»ºæ–‡ç« è‡ªåŠ¨æ‰“å¼€æœ¬åœ° Markdown ç¼–è¾‘å™¨</h2><p>å†™æ–°æ–‡ç« æ—¶ï¼Œéœ€è¦æ§åˆ¶å°æ‰§è¡Œ hexo new â€œæ–‡ç« åå­—â€ï¼Œè¿™æ ·å°±ä¼šåœ¨_posts ä¸‹ç”Ÿæˆä¸€ç¯‡æ–°æ–‡ç« ï¼Œä½†éœ€è¦æ‰‹åŠ¨æ‰“å¼€ï¼ŒæŒºéº»çƒ¦ï¼Œåªéœ€è¦åœ¨ç«™ç‚¹æ ¹ç›®å½•ä¸‹æ–°å»º scripts ç›®å½•ï¼Œç„¶åå†æ–°å»º auto_open.jsï¼Œåœ¨æ–‡ä»¶å¡«å…¥ä¸€ä¸‹å†…å®¹</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> spawn <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'child_process'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>exec<span class="token punctuation">;</span><span class="token comment" spellcheck="true">// Hexo 2.x ç”¨æˆ·å¤åˆ¶è¿™æ®µ</span><span class="token comment" spellcheck="true">//hexo.on('new', function(path){</span>  <span class="token comment" spellcheck="true">//spawn('start  "markdownç¼–è¾‘å™¨ç»å¯¹è·¯å¾„.exe" ' + path);</span><span class="token comment" spellcheck="true">//});</span><span class="token comment" spellcheck="true">// Hexo 3 ç”¨æˆ·å¤åˆ¶è¿™æ®µ</span>hexo<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'new'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//   spawn('start  "D:\Program Files\Typora\Typora.exe" ' + data.path); // Typora</span>  <span class="token function">spawn</span><span class="token punctuation">(</span><span class="token string">'start  "D:\\Program_Files\\Microsoft VS Code\\Code.exe" '</span> <span class="token operator">+</span> data<span class="token punctuation">.</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//VSCode</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>The Python Challenge Daily Record</title>
      <link href="posts/c134.html"/>
      <url>posts/c134.html</url>
      
        <content type="html"><![CDATA[<p><a href="http://www.pythonchallenge.com/">Python Challenge</a>æ˜¯é¦–ä¸ªè°œè¯­ç¼–ç¨‹ç½‘ç«™ã€‚æŒ‘æˆ˜è€…éœ€è¦è¿ç»­æŒ‘æˆ˜33ä¸ªéœ€è¦ç¼–ç¨‹æ‰èƒ½è§£å¼€çš„è°œé¢˜ä»¥é”»ç‚¼è‡ªå·±çš„ç¼–ç¨‹èƒ½åŠ›ã€‚</p><p>è¯¥ç½‘ç«™å»ºç«‹äº2005å¹´ï¼Œè‡³ä»Šå·²ç»æœ‰ä¸‰ç™¾å¤šä¸‡ä½è®¿å®¢æµè§ˆå¹¶å°è¯•è§£å†³è¯¥ç½‘ç«™çš„è°œé¢˜ã€‚</p><blockquote><p>Python Challenge is a game in which each level can be solved by a bit of (Python) programming.</p><p>The Python Challenge was written by Nadav Samet.</p><p>All levels can be solved by straightforward and very short scripts.(well, except of level 32.)</p><p>Python Challenge welcomes programmers of all languages. You will be able to solve most riddles in any programming language, but some of them will require Python.</p><p>Sometimes youâ€™ll need extra modules. All can be downloaded for free from the internet.</p><p>It is just for fun - nothing waits for you at the end.</p><p>Keep the scripts you write - they might become useful.</p></blockquote><p>å¸Œæœ›æ¯å¤©éƒ½èƒ½åšæŒåˆ·é¢˜å“ˆï¼ğŸš©</p><h2 id="level-0-2020-10-28"><a href="#level-0-2020-10-28" class="headerlink" title="level_0_2020.10.28"></a>level_0_2020.10.28</h2><p><img src="https://i.loli.net/2020/11/14/HC8xwDEoN4hPyvn.png" alt="image-20201030232558358"></p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#! level 0</span><span class="token comment" spellcheck="true"># http://www.pythonchallenge.com/pc/def/0.html</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">**</span><span class="token number">38</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># http://www.pythonchallenge.com/pc/def/274877906944.html</span></code></pre><blockquote><p>ç°åœ¨å›è¿‡å¤´æ¥çœ‹level 0ï¼Œ æƒ³å“­ â€”â€”2020.11.3 è®°</p></blockquote><h2 id="level-1-map-2020-10-27"><a href="#level-1-map-2020-10-27" class="headerlink" title="level 1_map_2020.10.27"></a>level 1_map_2020.10.27</h2><p><img src="https://i.loli.net/2020/11/14/Y2EqrAsKB9lHtQi.png" alt="image-20201030232612255"></p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> stringhttp<span class="token punctuation">:</span> <span class="token operator">//</span> www<span class="token punctuation">.</span>pythonchallenge<span class="token punctuation">.</span>com<span class="token operator">/</span>pc<span class="token operator">/</span><span class="token keyword">def</span><span class="token operator">/</span>map<span class="token punctuation">.</span>htmlorginal_str <span class="token operator">=</span> "g fmnc wms bgblr rpylqjyrc gr zw fylb<span class="token punctuation">.</span> rfyrq ufyr amknsrcpq ypc dmp<span class="token punctuation">.</span> bmgle \gr gl zw fylb gq glcddgagclr ylb rfyr'q ufw rfgq rcvr gq qm jmle<span class="token punctuation">.</span> sqgle qrpgle<span class="token punctuation">.</span>kyicrpylq<span class="token punctuation">(</span><span class="token punctuation">)</span> gq pcamkkclbcb<span class="token punctuation">.</span> lmu ynnjw ml rfc spj<span class="token punctuation">.</span>"trans <span class="token operator">=</span> str<span class="token punctuation">.</span>maketrans<span class="token punctuation">(</span>string<span class="token punctuation">.</span>ascii_lowercase<span class="token punctuation">,</span>                      string<span class="token punctuation">.</span>ascii_lowercase<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token operator">+</span> string<span class="token punctuation">.</span>ascii_lowercase<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># string.ascii_lowercase abcdefghijklmnopqrstuvwxyz</span><span class="token comment" spellcheck="true"># string.ascii_lowercase[2:] + string.ascii_lowercase[:2] cdefghijklmnopqrstuvwxyzab</span><span class="token keyword">print</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span>ascii_lowercase<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token operator">+</span> string<span class="token punctuation">.</span>ascii_lowercase<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>changed_str <span class="token operator">=</span> orginal_str<span class="token punctuation">.</span>translate<span class="token punctuation">(</span>trans<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># output i hope you didnt translate it by hand. thats what computers are for. doing it in by hand is inefficient and that's why this text is so long.</span><span class="token comment" spellcheck="true"># using string.maketrans() is recommended. now apply on the url.</span><span class="token keyword">print</span><span class="token punctuation">(</span>changed_str<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># http://www.pythonchallenge.com/pc/def/map.html</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'map'</span><span class="token punctuation">.</span>translate<span class="token punctuation">(</span>trans<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># http://www.pythonchallenge.com/pc/def/ocr.html</span></code></pre><p>å…¶å®è¿˜å¯ä»¥ç”¨mapæ–¹æ³•ï¼Œä½†æ˜¯éœ€è¦ç”¨ifåˆ¤æ–­ï¼Œä¸ç„¶ç©ºæ ¼æ‹¬å·ä¹Ÿè¢«ç¿»è¯‘äº†ã€‚<br>ord(char):è¿”å›charçš„ASCIIåºåˆ—å€¼</p><p>chr(num):è¿”å›numå¯¹åº”çš„ASCIIå­—ç¬¦</p><h2 id="level-2-ocr-2020-10-28"><a href="#level-2-ocr-2020-10-28" class="headerlink" title="level 2_ocr_2020.10.28"></a>level 2_ocr_2020.10.28</h2><p><img src="https://i.loli.net/2020/11/14/RL6ucAMmJ3k4vNn.png" alt="image-20201030232643852"></p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># ! level2</span><span class="token triple-quoted-string string">"""? requestå’Œurllibçš„åŒºåˆ«æˆ‘ä»¬åœ¨ä½¿ç”¨pythonçˆ¬è™«æ—¶ï¼Œéœ€è¦æ¨¡æ‹Ÿå‘èµ·ç½‘ç»œè¯·æ±‚ï¼Œä¸»è¦ç”¨åˆ°çš„åº“æœ‰requestsåº“å’Œpythonå†…ç½®çš„urllibåº“ï¼Œä¸€èˆ¬å»ºè®®ä½¿ç”¨requestsï¼Œå®ƒæ˜¯å¯¹urllibçš„å†æ¬¡å°è£…ï¼Œå®ƒä»¬ä½¿ç”¨çš„ä¸»è¦åŒºåˆ«ï¼šrequestså¯ä»¥ç›´æ¥æ„å»ºå¸¸ç”¨çš„getå’Œpostè¯·æ±‚å¹¶å‘èµ·ï¼Œurllibä¸€èˆ¬è¦å…ˆæ„å»ºgetæˆ–è€…postè¯·æ±‚ï¼Œç„¶åå†å‘èµ·è¯·æ±‚ã€‚ """</span><span class="token keyword">import</span> requests<span class="token keyword">import</span> re<span class="token keyword">from</span> collections <span class="token keyword">import</span> Counterhtml <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>    <span class="token string">"http://www.pythonchallenge.com/pc/def/ocr.html"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text  <span class="token comment" spellcheck="true"># è·å–HTMLæ–‡æ¡£</span><span class="token comment" spellcheck="true"># re.search æ‰¾åˆ°åŒ¹é…çš„å­—ç¬¦ä¸²ï¼ŒåªåŒ¹é…ä¸€æ¬¡</span><span class="token comment" spellcheck="true"># è·å¾—éœ€è¦å¤„ç†çš„å†…å®¹ï¼Œ\så¯ä»¥åŒ¹é…ç©ºæ ¼ã€Tabç©ºç™½ç¬¦ï¼‰</span><span class="token comment" spellcheck="true"># match.group()è¿”å›å­å­—ç¬¦ä¸²</span><span class="token comment" spellcheck="true"># æ³¨æ„åˆ°group(0)æ°¸è¿œæ˜¯åŸå§‹å­—ç¬¦ä¸²ï¼Œgroup(1)ã€group(2)â€¦â€¦è¡¨ç¤ºç¬¬1ã€2ã€â€¦â€¦ä¸ªå­ä¸²ã€‚</span>text <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span>r<span class="token string">"&lt;!--\n(%(.|\s)+)?\n-->"</span><span class="token punctuation">,</span> html<span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>file <span class="token operator">=</span> open<span class="token punctuation">(</span><span class="token string">'level_2_data.txt'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span>file<span class="token punctuation">.</span>write<span class="token punctuation">(</span>text<span class="token punctuation">)</span>final_text <span class="token operator">=</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">"[a-z]"</span><span class="token punctuation">,</span> text<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># findall è¿”å›å­—ç¬¦ä¸²åˆ—è¡¨</span><span class="token keyword">print</span><span class="token punctuation">(</span>final_text<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># æˆ–è€…ç›´æ¥å¯¹æ‰€æœ‰å­—ç¬¦è®¡æ•°</span><span class="token comment" spellcheck="true"># final_text = re.search("&lt;!--\n%(.|\s)+", text).group()</span><span class="token comment" spellcheck="true"># q = Counter(final_text)  # å¯¹é‡Œé¢çš„æ‰€æœ‰å­—ç¬¦è®¡æ•°</span><span class="token comment" spellcheck="true"># print(q)</span><span class="token comment" spellcheck="true"># t = [i for i in q if q[i] == 1]  # æ‰¾å‡ºåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦</span><span class="token comment" spellcheck="true"># print("".join(t))</span><span class="token comment" spellcheck="true"># è¾“å‡ºäº†equality</span><span class="token triple-quoted-string string">""" å¦ä¸€ç§æ–¹æ³•ï¼Œä½¿ç”¨äº†urllibimport urllib.request as urimport reurl = "http://www.pythonchallenge.com/pc/def/ocr.html"def main():    global url    response = ur.urlopen(url)    body = response.read()    print(body)    text = re.search("&lt;!--\n%(.|\s)+", body.decode())    dic = {}    # print(text.group(0))    for x in text.group(0):        if x not in dic:            dic[x] = 1        else:            dic[x] += 1    for k,v in dic.items():        print(k,v)    for i in dic:        if (dic[i] == 1 and 'a' &lt;= i &lt;= 'z'):            print(i, end='')if __name__ == '__main__':    main()"""</span></code></pre><h2 id="level-3-equality-2020-10-29"><a href="#level-3-equality-2020-10-29" class="headerlink" title="level 3_equality_2020.10.29"></a>level 3_equality_2020.10.29</h2><p><img src="https://i.loli.net/2020/11/14/dXmwRVtqJkvEosO.png" alt="image-20201030232718170"></p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># http://www.pythonchallenge.com/pc/def/equality.html</span><span class="token keyword">import</span> requests<span class="token keyword">import</span> rehtml <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"http://www.pythonchallenge.com/pc/def/equality.html"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>texttext <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span>r<span class="token string">'&lt;!--\n((.|\s)+)?\n-->'</span><span class="token punctuation">,</span> html<span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>file <span class="token operator">=</span> open<span class="token punctuation">(</span><span class="token string">'level_3_data.txt'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span>file<span class="token punctuation">.</span>write<span class="token punctuation">(</span>text<span class="token punctuation">)</span>results <span class="token operator">=</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span>r<span class="token string">'[^A-Z][A-Z]{3}([a-z])[A-Z]{3}[^A-Z]'</span><span class="token punctuation">,</span> text<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>results<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#linkedlist</span><span class="token comment" spellcheck="true"># ? å¦‚æœä¸æ‹¬å·èµ·æ¥ï¼Œå¾—åˆ°çš„ç»“æœä¼šæ˜¯</span><span class="token comment" spellcheck="true"># !['qIQNlQSLi', 'eOEKiVEYj', 'aZADnMCZq', 'bZUTkLYNg', 'uCNDeHSBj', 'kOIXdKBFh', 'dXJVlGZVm', 'gZAGiLQZx', 'vCJAsACFl', 'qKWGtIDCj']</span><span class="token comment" spellcheck="true"># æ‰€ä»¥è¯´findallç”¨æ‹¬å·è‡ªåŠ¨è¿”å›å­ä¸²ï¼Œå½“ç»™å‡ºçš„æ­£åˆ™è¡¨è¾¾å¼ä¸­å¸¦æœ‰å¤šä¸ªæ‹¬å·æ—¶ï¼Œåˆ—è¡¨çš„å…ƒç´ ä¸ºå¤šä¸ªå­—ç¬¦ä¸²ç»„æˆçš„tuple</span><span class="token comment" spellcheck="true">#æ‰“å¼€ http://www.pythonchallenge.com/pc/def/linkedlist.html å¾—åˆ°linkedlist.php</span><span class="token comment" spellcheck="true">#å†æ‰“å¼€ http://www.pythonchallenge.com/pc/def/linkedlist.php</span></code></pre><h2 id="level-4-linkedlist-2020-10-30"><a href="#level-4-linkedlist-2020-10-30" class="headerlink" title="level 4_linkedlist_2020.10.30"></a>level 4_linkedlist_2020.10.30</h2><p><img src="https://i.loli.net/2020/11/14/1a8I2zg9c3CShUB.png" alt="image-20201030232815229"></p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> re<span class="token keyword">import</span> requests<span class="token keyword">def</span> <span class="token function">next_page</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">global</span> steps    html <span class="token operator">=</span> gethtml<span class="token punctuation">(</span><span class="token string">"http://www.pythonchallenge.com/pc/def/linkedlist.php?nothing=%s"</span> <span class="token operator">%</span>        link<span class="token punctuation">)</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>        hint <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span>r<span class="token string">'.*\s(\d+)'</span><span class="token punctuation">,</span> html<span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>    <span class="token keyword">except</span> AttributeError<span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"å°å¿ƒå‰é¢æœ‰è¯¡è®¡ï¼"</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token string">'stop'</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        steps <span class="token operator">+=</span><span class="token number">1</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>steps<span class="token punctuation">,</span> hint<span class="token punctuation">)</span>        <span class="token keyword">return</span> hint<span class="token keyword">def</span> <span class="token function">gethtml</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">'''    å› ä¸ºå‘ç°requestç»å¸¸ä¼šå¡ä½æ— å“åº”ï¼Œæ‰€ä»¥å°è£…äº†è¿™ä¸ªå‡½æ•°ï¼Œç”¨äºé‡è¯•    '''</span>    i <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">while</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">:</span>        <span class="token keyword">try</span><span class="token punctuation">:</span>            html <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">,</span> timeout<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text            <span class="token keyword">return</span> html        <span class="token keyword">except</span> requests<span class="token punctuation">.</span>exceptions<span class="token punctuation">.</span>RequestException<span class="token punctuation">:</span>            i <span class="token operator">+=</span> <span class="token number">1</span><span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        link <span class="token operator">=</span> next_page<span class="token punctuation">(</span>link<span class="token punctuation">)</span>        <span class="token keyword">if</span> link <span class="token operator">==</span> <span class="token string">'stop'</span><span class="token punctuation">:</span>            <span class="token keyword">break</span>steps <span class="token operator">=</span> <span class="token number">1</span>link <span class="token operator">=</span> <span class="token number">12345</span>run<span class="token punctuation">(</span>link<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># Yes. Divide by two and keep going.</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'æ€•å•¥ï¼Œé‚£æˆ‘å°±è¾“å…¥8022ç»§ç»­è·‘'</span><span class="token punctuation">)</span>run<span class="token punctuation">(</span><span class="token number">8022</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 16044//2=8022</span><span class="token comment" spellcheck="true"># æœ€ç»ˆè¾“å‡ºç»“æœpeak.htmlï¼Œæ‰“å¼€http://www.pythonchallenge.com/pc/def/peak.html</span></code></pre><h2 id="level-5-peak-2020-10-31"><a href="#level-5-peak-2020-10-31" class="headerlink" title="level 5_peak_2020.10.31"></a>level 5_peak_2020.10.31</h2><p><img src="https://i.loli.net/2020/10/31/gGHW3n5NeKUZBY9.png" alt="The Python Challenge Daily Record.9-2020-10-31-21-46-09"><br>ä»Šæ—¥æ”¶è·<br><code>requests.get(url).text</code> æ˜¯è·å¾—çº¯æ–‡æœ¬å†…å®¹<br><code>requests.get(url).content</code>æ˜¯äºŒè¿›åˆ¶å†…å®¹<br><code>urllib.urlopen(url)</code> è¿”å›çš„æ˜¯æ–‡ä»¶å¯¹è±¡ï¼Œç”¨read()æŸ¥çœ‹</p><p>pickle hell çš„è¯»éŸ³æ˜¯pickleï¼Œpickleæ˜¯pythonè¯­è¨€çš„ä¸€ä¸ªæ ‡å‡†æ¨¡å—ï¼Œèƒ½å¯¹æ•°æ®è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼Œåºåˆ—åŒ–è¿‡ç¨‹å°†æ–‡æœ¬ä¿¡æ¯è½¬å˜ä¸ºäºŒè¿›åˆ¶æ•°æ®æµã€‚ååºåˆ—åŒ–ä¾¿å¯ä»¥å¾—åˆ°åŸå§‹çš„æ•°æ®<br>è¿™æ ·ä¾¿äºå­˜å‚¨æ•°æ®å’Œå‘é€æ•°æ®<br><code>pickle.dump() </code>åºåˆ—åŒ–<br><code>pickle.load()</code> ååºåˆ—åŒ–æ–¹æ³•</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># http://www.pythonchallenge.com/pc/def/peak.html</span><span class="token keyword">import</span> re<span class="token keyword">import</span> requests<span class="token keyword">import</span> pickle<span class="token comment" spellcheck="true"># è·å–äºŒè¿›åˆ¶çš„æ•°æ®</span>content<span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"http://www.pythonchallenge.com/pc/def/banner.p"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>content<span class="token comment" spellcheck="true"># æˆ–è€…ç”¨pythonå†…ç½®çš„urllibæ¨¡å—ï¼Œurllib.urlopen(url).read()ï¼Œæ‰“å¼€ä¸€ä¸ªurlçš„æ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªæ–‡ä»¶å¯¹è±¡ï¼Œç„¶åç”¨read()é˜…è¯»æ–‡ä»¶å†…å®¹</span><span class="token comment" spellcheck="true"># print(content)</span>data <span class="token operator">=</span> pickle<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># å‘ç°æ˜¯ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œä»¥[(' ', 95)]è¿™ç§å½¢å¼å­˜æ”¾å†…å®¹å•ä½</span><span class="token keyword">for</span> line <span class="token keyword">in</span> data<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># æ¯è¡Œç›¸åŠ éƒ½ä¸º95ï¼ŒçŒœæµ‹å‰é¢æ˜¯æ‰“å°çš„å†…å®¹ï¼Œåé¢è·Ÿç€æ˜¯æ‰“å°çš„æ•°é‡</span><span class="token keyword">for</span> line <span class="token keyword">in</span> data<span class="token punctuation">:</span>    output <span class="token operator">=</span> <span class="token string">''</span>    <span class="token keyword">for</span> c <span class="token keyword">in</span> line<span class="token punctuation">:</span>        output <span class="token operator">+=</span>c<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>c<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>output<span class="token punctuation">)</span></code></pre><pre><code>              #####                                                                      #####               ####                                                                       ####               ####                                                                       ####               ####                                                                       ####               ####                                                                       ####               ####                                                                       ####               ####                                                                       ####               ####                                                                       ####      ###      ####   ###         ###       #####   ###    #####   ###          ###       ####   ###   ##    #### #######     ##  ###      #### #######   #### #######     ###  ###     ####  ###     ###  #####    ####   ###   ####    #####    ####  #####    ####   ###     ###   #### ###           ####     ####   ###    ###    ####     ####  ####     ####  ###      ####  #### ###           ####     ####          ###    ####     ####  ####     ####  ###       ###  ########           ####     ####     ##   ###    ####     ####  ####     #### ####       ###  ########           ####     ####   ##########    ####     ####  ####     #### ##############  ########           ####     ####  ###    ####    ####     ####  ####     #### ####            ########           ####     #### ####     ###    ####     ####  ####     #### ####            #### ###           ####     #### ####     ###    ####     ####  ####     ####  ###            ####  ###      ##  ####     ####  ###    ####    ####     ####  ####     ####   ###      ##   ####   ###    ##   ####     ####   ###########   ####     ####  ####     ####    ###    ##    ####      ###     ######    #####    ##    #### ######    ###########    #####      ###      ######</code></pre><h2 id="level-6-channel-2020-11-1"><a href="#level-6-channel-2020-11-1" class="headerlink" title="level 6_channel_2020.11.1"></a>level 6_channel_2020.11.1</h2><p><a href="http://www.pythonchallenge.com/pc/def/channel.html">http://www.pythonchallenge.com/pc/def/channel.html</a></p><p><img src="https://i.loli.net/2020/11/14/Iu7NkRG8coOTPZs.jpg" alt="img"></p><p>æŸ¥çœ‹æºä»£ç </p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span> <span class="token comment" spellcheck="true">&lt;!-- &lt;-- zip --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>now there are pairs<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../style.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>center</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>channel.jpg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span><span class="token comment" spellcheck="true">&lt;!-- The following has nothing to do with the riddle itself. I justthought it would be the right point to offer you to donate to thePython Challenge project. Any amount will be greatly appreciated.-thesamet--></span></code></pre> <!-- <-- zip --><p>å¦‚æœæŠŠæ³¨é‡Šå»æ‰å°±æ˜¯html &lt;â€“ zipï¼Œæš—ç¤ºæŠŠhtmlæ”¹ä¸ºzip</p><p>æç¤ºæ˜¯zipï¼Œäºæ˜¯æ”¹urlï¼Œå‘ç°å¯ä¸‹è½½zipï¼ï¼ˆåŸä¼šç©ï¼ï¼‰</p><p><img src="https://i.loli.net/2020/11/14/8RCsjhBYHVJLSTt.png" alt="image-20201101215708117"></p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> requests<span class="token keyword">import</span> io<span class="token keyword">import</span> re<span class="token keyword">import</span> zipfile  <span class="token comment" spellcheck="true"># #å¯¼å…¥å¯¹zipæ–‡ä»¶å¤„ç†çš„æ¨¡å— zipfile</span><span class="token comment" spellcheck="true">##è·å–äºŒè¿›åˆ¶æ•°æ®</span>zip_get <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>    <span class="token string">"http://www.pythonchallenge.com/pc/def/channel.zip"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>content<span class="token comment" spellcheck="true"># StringIOå’ŒBytesIOæ˜¯åœ¨å†…å­˜ä¸­æ“ä½œstrå’Œbytesçš„æ–¹æ³•ï¼Œä½¿å¾—å’Œè¯»å†™æ–‡ä»¶å…·æœ‰ä¸€è‡´çš„æ¥å£</span>zip_file <span class="token operator">=</span> io<span class="token punctuation">.</span>BytesIO<span class="token punctuation">(</span>zip_get<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#å°†å‡½æ•°è¿”å›çš„å‹ç¼©åŒ…çš„äºŒè¿›åˆ¶æ•°æ®åœ¨å†…å­˜ä¸­è¯»</span>channel_zip <span class="token operator">=</span> zipfile<span class="token punctuation">.</span>ZipFile<span class="token punctuation">(</span>zip_file<span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#ä»¥åªè¯»æ–¹å¼æ‰“å¼€å‹ç¼©åŒ…</span><span class="token keyword">print</span><span class="token punctuation">(</span>channel_zip<span class="token punctuation">.</span>namelist<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#æ‰“å°å‹ç¼©åŒ…å†…çš„æ–‡ä»¶ååˆ—è¡¨</span><span class="token comment" spellcheck="true">#é˜…è¯» readme.txt</span><span class="token keyword">with</span> channel_zip<span class="token punctuation">.</span>open<span class="token punctuation">(</span><span class="token string">'readme.txt'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#æ–‡ä»¶é‡Œçš„å†…å®¹æ˜¯byteå­—èŠ‚ï¼Œæ‰€ä»¥ç”¨utf-8è¯»å–</span> <span class="token triple-quoted-string string">"""å¾—åˆ°å¦‚ä¸‹æç¤º welcome to my zipped list.# hint1: start from 90052# hint2: answer is inside the zip"""</span>file_name_next <span class="token operator">=</span> <span class="token string">"90052"</span>  <span class="token comment" spellcheck="true"># é˜…è¯»readme.txtçš„æç¤º</span>comment <span class="token operator">=</span> <span class="token string">''</span>  <span class="token comment" spellcheck="true"># é˜…è¯» 46145.txtï¼Œè¯´è¦collect the comments</span><span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>    file_comment <span class="token operator">=</span> channel_zip<span class="token punctuation">.</span>getinfo<span class="token punctuation">(</span>file_name_next <span class="token operator">+</span> <span class="token string">".txt"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>comment<span class="token punctuation">.</span>decode<span class="token punctuation">(</span>        <span class="token string">"utf-8"</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># ä»¥utf-8æ–¹å¼è¯»å–å‹ç¼©åŒ…å†…çš„å„ä¸ªæ–‡ä»¶</span>    <span class="token comment" spellcheck="true">#commentæ˜¯ä¸ªä»€ä¹ˆä¸œä¸œï¼Ÿï¼Ÿ</span>    comment <span class="token operator">+=</span> file_comment    <span class="token keyword">with</span> channel_zip<span class="token punctuation">.</span>open<span class="token punctuation">(</span>file_name_next <span class="token operator">+</span> <span class="token string">".txt"</span><span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>  <span class="token comment" spellcheck="true"># é˜…è¯»æ–‡ä»¶å†…å®¹</span>        file_content <span class="token operator">=</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>file_content<span class="token punctuation">)</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>  <span class="token comment" spellcheck="true"># å°è¯•æŸ¥æ‰¾ä¸‹ä¸€ä¸ªçº¿ç´¢ï¼Œç”¨æ­£åˆ™æŸ¥æ‰¾æ•°å­—</span>        file_name_next <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span>r<span class="token string">"\d+"</span><span class="token punctuation">,</span> file_content<span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>    <span class="token keyword">except</span><span class="token punctuation">:</span>  <span class="token comment" spellcheck="true">#æ²¡æœ‰åˆ™ä¸­æ–­</span>        <span class="token keyword">break</span><span class="token keyword">print</span><span class="token punctuation">(</span>comment<span class="token punctuation">)</span>zip_file<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>è¾“å‡ºç»“æœ</p><pre><code>**********************************************************************************************************************************                                                            ****   OO    OO    XX      YYYY    GG    GG  EEEEEE NN      NN  ****   OO    OO  XXXXXX   YYYYYY   GG   GG   EEEEEE  NN    NN   ****   OO    OO XXX  XXX YYY   YY  GG GG     EE       NN  NN    ****   OOOOOOOO XX    XX YY        GGG       EEEEE     NNNN     ****   OOOOOOOO XX    XX YY        GGG       EEEEE      NN      ****   OO    OO XXX  XXX YYY   YY  GG GG     EE         NN      ****   OO    OO  XXXXXX   YYYYYY   GG   GG   EEEEEE     NN      ****   OO    OO    XX      YYYY    GG    GG  EEEEEE     NN      ****                                                            ****************************************************************** **************************************************************</code></pre><p>æ‰€è°“çš„commentå…¶å®å¯ä»¥é€šè¿‡banzipæŸ¥çœ‹</p><p><img src="https://i.loli.net/2020/11/15/Bb4tqPk7efEyZho.png" alt="image-20201101215626895"></p><h2 id="level-7-oxygen-2020-11-2"><a href="#level-7-oxygen-2020-11-2" class="headerlink" title="level 7_oxygen_2020.11.2"></a>level 7_oxygen_2020.11.2</h2><p><img src="https://i.loli.net/2020/11/14/xiZeBmbaCh3L4oJ.png" alt="img"></p><p>æ ¹æ®æ˜¨å¤©çš„æç¤ºï¼Œæ‰“å¼€ <a href="http://www.pythonchallenge.com/pc/def/hockey.html%EF%BC%8C">http://www.pythonchallenge.com/pc/def/hockey.htmlï¼Œ</a></p><p>itâ€™s in the air. look at the letters. letteræŒ‡çš„æ˜¯hockeyï¼Œè¯´åœ¨ç©ºæ°”ä¸­ï¼Œç©ºæ°”é‚£å°±æ˜¯æ°®æ°”ã€æ°§æ°”ã€äºŒæ°§åŒ–ç¢³ç­‰ä¸œè¥¿ï¼ŒçŒœæµ‹æ˜¯æ°§æ°”oxygenã€‚</p><p>äºæ˜¯æ‰“å¼€<a href="http://www.pythonchallenge.com/pc/def/oxygen.html%EF%BC%8C%E5%8F%91%E7%8E%B0%E7%AC%AC%E4%B8%83%E5%85%B3%E8%B0%9C%E9%A2%98%EF%BC%8C%E5%8F%AA%E6%9C%89%E4%B8%80%E5%BC%A0%E5%9B%BE%EF%BC%8C%E4%B8%AD%E9%97%B4%E6%9C%89%E4%B8%AA%E7%81%B0%E5%B8%A6html%E4%BB%A3%E7%A0%81%E5%A6%82%E4%B8%8B">http://www.pythonchallenge.com/pc/def/oxygen.htmlï¼Œå‘ç°ç¬¬ä¸ƒå…³è°œé¢˜ï¼Œåªæœ‰ä¸€å¼ å›¾ï¼Œä¸­é—´æœ‰ä¸ªç°å¸¦htmlä»£ç å¦‚ä¸‹</a></p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>smarty<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../style.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>oxygen.png<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><p>è·å–å›¾ç‰‡ï¼Œå¯¹å…¶è¿›è¡Œå¤„ç†</p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> requests<span class="token keyword">import</span> io<span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image  <span class="token comment" spellcheck="true"># Python Imaging Libraryå¯¼å…¥Image</span>url <span class="token operator">=</span> <span class="token string">'http://www.pythonchallenge.com/pc/def/oxygen.png'</span>image <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>    <span class="token string">"http://www.pythonchallenge.com/pc/def/oxygen.png"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>contentimg_io <span class="token operator">=</span> io<span class="token punctuation">.</span>BytesIO<span class="token punctuation">(</span>image<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#äºŒè¿›åˆ¶æ•°æ®æ”¾å…¥å†…å­˜</span>img <span class="token operator">=</span> Image<span class="token punctuation">.</span>open<span class="token punctuation">(</span>img_io<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#æ‰“å¼€å›¾ç‰‡ï¼Œåˆ›å»ºå›¾ç‰‡å¯¹è±¡</span><span class="token comment" spellcheck="true"># img.show() # æ˜¾ç¤ºå›¾åƒï¼Œå¯åŠ¨ä¸€ä¸ªçª—å£</span><span class="token comment" spellcheck="true"># print(img.size)  #629,95</span><span class="token comment" spellcheck="true"># ç°è‰²å¸¦å¤§æ¦‚åœ¨å›¾ç‰‡ä¸­é—´éƒ¨ä½</span>width<span class="token punctuation">,</span> height <span class="token operator">=</span> img<span class="token punctuation">.</span>sizey <span class="token operator">=</span> height <span class="token operator">//</span> <span class="token number">2</span>  <span class="token comment" spellcheck="true">##ç°è‰²å¸¦çš„å¤§è‡´åŒºåŸŸè®¾ä¸ºy</span><span class="token keyword">print</span><span class="token punctuation">(</span>img<span class="token punctuation">.</span>mode<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># æŸ¥çœ‹å›¾ç‰‡åƒç´ æ¨¡å¼ï¼ŒRGBAï¼Œå¸¦alphaé€šé“</span><span class="token keyword">for</span> x <span class="token keyword">in</span> range<span class="token punctuation">(</span>width<span class="token punctuation">)</span><span class="token punctuation">:</span>    pixel <span class="token operator">=</span> img<span class="token punctuation">.</span>getpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>pixel<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#æ‰“å°å„ä¸ªç‚¹çš„åƒç´ ä¿¡æ¯</span></code></pre><p>å¾—åˆ°å„ä¸ªç‚¹çš„RGBAå€¼åï¼Œå…ˆå¯¹ç°è‰²åƒç´ å¸¦å¤„ç†</p><pre class=" language-python"><code class="language-python"><span class="token keyword">for</span> x <span class="token keyword">in</span> range<span class="token punctuation">(</span>width<span class="token punctuation">)</span><span class="token punctuation">:</span>    pixel <span class="token operator">=</span> img<span class="token punctuation">.</span>getpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> pixel<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> pixel<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">and</span> pixel<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> pixel<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>pixel<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>è¾“å‡ºç»“æœï¼šå¼€å¤´çš„115é‡å¤5æ¬¡ï¼Œä¸­é—´çš„é‡å¤7æ¬¡ï¼Œæœ€åé‡å¤8æ¬¡</p><pre><code>115 115 115 115 115 109 109 109 109 109 109 109 97 97 97 97 97 97 97 114 114 114 114 114 114 114 116 116 116 116 116 116 116 32 32 32 32 32 32 32 103 103 103 103 103 103 103 117 117 117 117 117 117 117 121 121 121 121 121 121 121 44 44 44 44 44 44 44 32 32 32 32 32 32 32 121 121 121 121 121 121 121 111 111 111 111 111 111 111 117 117 117 117 117 117 117 ... 52 52 52 52 52 52 52 44 44 44 44 44 44 44 32 32 32 332 32 32 32 49 49 49 49 49 49 49 48 48 48 48 48 48 48 53 53 53 53 53 53 53 44 44 44 4 4 44 44 44 32 32 32 32 32 32 32 49 49 49 49 49 49 49 49 49 49 49 49 49 49 54 54 54 544 54 54 54 44 44 44 44 44 44 44 32 32 32 32 32 32 32 49 49 49 49 49 49 49 50 50 50 50 550 50 50 49 49 49 49 49 49 49 93 93 93 93 93 93 93 93</code></pre><p>æŠŠæ¯ä¸ªç°åº¦å€¼æå–å‡ºæ¥</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#</span><span class="token comment" spellcheck="true">#å°è¯• ç»™å­—ç¬¦ä¸²å»é‡, ä½†æ˜¯å‘ç°ä¼šè‡ªåŠ¨æ’åºğŸ¤£ä¸¢å¤±ä¿¡æ¯</span><span class="token triple-quoted-string string">""" grey_list = []for x in range(width):    pixel = img.getpixel((x, y))    if pixel[1] == pixel[0] and pixel[0] == pixel[2]:        grey_list.append(pixel[0])grey_set = set(grey_list) #ç”¨setå»é‡print(grey_set) """</span><span class="token comment" spellcheck="true"># æ¯ä¸ƒä¸ªå–ä¸€ä¸ªæ•°å­—</span><span class="token keyword">for</span> x <span class="token keyword">in</span> range<span class="token punctuation">(</span>width<span class="token punctuation">)</span><span class="token punctuation">:</span>    pixel <span class="token operator">=</span> img<span class="token punctuation">.</span>getpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> pixel<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> pixel<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">and</span> pixel<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> pixel<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> x <span class="token operator">%</span> <span class="token number">7</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span>pixel<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>å¾—åˆ°æ•°å­—ä¸²</p><pre><code>115 109 97 114 116 32 103 117 121 44 32 121 111 117 32 109 97 100 101 32 105 116 46 32 116104 101 32 110 101 120 116 32 108 101 118 101 108 32 105 115 32 91 49 48 53 44 32 49 49 4844 32 49 49 54 44 32 49 48 49 44 32 49 48 51 44 32 49 49 52 44 32 49 48 53 44 32 49 49 54                         4432 49 50 49 93</code></pre><p>çŒœæµ‹æŠŠå­—ç¬¦ä¸²ç”¨ASCIIç ç¿»è¯‘</p><pre class=" language-python"><code class="language-python"><span class="token keyword">for</span> x <span class="token keyword">in</span> range<span class="token punctuation">(</span>width<span class="token punctuation">)</span><span class="token punctuation">:</span>    pixel <span class="token operator">=</span> img<span class="token punctuation">.</span>getpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> pixel<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> pixel<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">and</span> pixel<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> pixel<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> x <span class="token operator">%</span> <span class="token number">7</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span>chr<span class="token punctuation">(</span>pixel<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># ! å¾—åˆ° smart guy, you made it. the next level is [105, 110, 116, 101, 103, 114, 105, 116, 121]</span></code></pre><p>æœ€åçš„å¤„ç†, å¾—åˆ°integrity</p><pre class=" language-python"><code class="language-python">hint <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">105</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">116</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token number">103</span><span class="token punctuation">,</span> <span class="token number">114</span><span class="token punctuation">,</span> <span class="token number">105</span><span class="token punctuation">,</span> <span class="token number">116</span><span class="token punctuation">,</span> <span class="token number">121</span><span class="token punctuation">]</span><span class="token keyword">for</span> num <span class="token keyword">in</span> hint<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>chr<span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#integrity</span></code></pre><p><strong>å‚è€ƒï¼š</strong></p><p><a href="http://brieflyx.me/2015/python-module/PIL-intro/">ç”¨Pythonå¤„ç†å›¾åƒâ€”â€”PIL</a></p><p><a href="https://my.oschina.net/jianggushi/blog/2985978">Python Challengeé€šå…³ç¬¬7å…³ smarty</a></p><h2 id="level-8-integrity-2020-11-3"><a href="#level-8-integrity-2020-11-3" class="headerlink" title="level 8_integrity_2020.11.3"></a>level 8_integrity_2020.11.3</h2><p>æŸ¥çœ‹æºä»£ç </p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>working hard?<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../style.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>integrity.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>640<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>480<span class="token punctuation">"</span></span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">usemap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#notinsect<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>map</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>notinsect<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>area</span> <span class="token attr-name">shape</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>poly<span class="token punctuation">"</span></span>        <span class="token attr-name">coords</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>179,284,214,311,255,320,281,226,319,224,363,309,339,222,371,225,411,229,404,242,415,252,428,233,428,214,394,207,383,205,390,195,423,192,439,193,442,209,440,215,450,221,457,226,469,202,475,187,494,188,494,169,498,147,491,121,477,136,481,96,471,94,458,98,444,91,420,87,405,92,391,88,376,82,350,79,330,82,314,85,305,90,299,96,290,103,276,110,262,114,225,123,212,125,185,133,138,144,118,160,97,168,87,176,110,180,145,176,153,176,150,182,137,190,126,194,121,198,126,203,151,205,160,195,168,217,169,234,170,260,174,282<span class="token punctuation">"</span></span>        <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../return/good.html<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>map</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>font</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#303030<span class="token punctuation">"</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>+2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Where is the missing link?<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>font</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--un: 'BZh91AY&amp;SYA\xaf\x82\r\x00\x00\x01\x01\x80\x02\xc0\x02\x00 \x00!\x9ah3M\x07&lt;]\xc9\x14\xe1BA\x06\xbe\x084'pw: 'BZh91AY&amp;SY\x94$|\x0e\x00\x00\x00\x81\x00\x03$ \x00!\x9ah3M\x13&lt;]\xc9\x14\xe1BBP\x91\xf08'--></span></code></pre><p>Where is the missing link? é“¾æ¥ç¼ºå¤±ï¼Œareaæœ‰å±æ€§çš„coordså¥½åƒæœ‰é—®é¢˜ï¼Œè¾“å…¥è¿›å»</p><p>éš¾é“æœ‰é¬¼ï¼Ÿï¼Ÿï¼Ÿ</p><pre class=" language-python"><code class="language-python">may_hint <span class="token operator">=</span> <span class="token string">"179,284,214,311,255,320,281,226,319,224,363,309,339,222,371,225,411,229,404,242,415,252,428,233,428,214,394,207,383,205,390,195,423,192,439,193,442,209,440,215,450,221,457,226,469,202,475,187,494,188,494,169,498,147,491,121,477,136,481,96,471,94,458,98,444,91,420,87,405,92,391,88,376,82,350,79,330,82,314,85,305,90,299,96,290,103,276,110,262,114,225,123,212,125,185,133,138,144,118,160,97,168,87,176,110,180,145,176,153,176,150,182,137,190,126,194,121,198,126,203,151,205,160,195,168,217,169,234,170,260,174,282"</span>mh_list <span class="token operator">=</span> may_hint<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>mh_list<span class="token punctuation">)</span><span class="token keyword">for</span> num <span class="token keyword">in</span> mh_list<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>chr<span class="token punctuation">(</span>int<span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">"""output resultï¼šit seems terrible!!!Â³ÄœÃ–Ä·Ã¿Å€Ä™Ã¢Ä¿Ã Å«ÄµÅ“ÃÅ³Ã¡Æ›Ã¥Æ”Ã²ÆŸÃ¼Æ¬Ã©Æ¬Ã–ÆŠÃÅ¿ÃÆ†ÃƒÆ§Ã€Æ·ÃÆºÃ‘Æ¸Ã—Ç‚ÃÇ‰Ã¢Ç•ÃŠÇ›Â»Ç®Â¼Ç®Â©Ç²Ç«yÇÇ¡`Ç—^ÇŠbÆ¼[Æ¤WÆ•\Æ‡XÅ¸RÅOÅŠRÄºUÄ±ZÄ«`Ä¢gÄ”nÄ†rÃ¡{Ã”}Â¹Â°Â°Â¶Â¾~Ã‚yÃ†~Ã‹Ã ÃƒÂ¨Ã™Â©ÃªÂªÄ„Â®ÄšÂ³"""</span></code></pre><p>å¥½å§æ˜¯æˆ‘æƒ³å¤šäº†ï¼Œè¿˜æœ‰å…¶ä»–ä¿¡æ¯</p><p>ç‚¹å‡»è¶…é“¾æ¥ï¼Œçœ‹åˆ°è®©äººè¾“å‡ºç”¨æˆ·åå’Œå¯†ç </p><p><img src="https://i.loli.net/2020/11/14/mX5UOF8JTP6h3wW.png" alt="image-20201103203914070"></p><p>çœ‹åˆ°æœ€åä¸€æ®µçš„æ³¨é‡Šå¥½åƒå°±æ˜¯å¯¹åº”çš„ç”¨æˆ·åunå’Œå¯†ç pwï¼Œé—®é¢˜æ˜¯è¿™ç©æ„æ€ä¹ˆè§£ï¼ï¼ï¼</p><pre class=" language-html"><code class="language-html"><span class="token comment" spellcheck="true">&lt;!--un: 'BZh91AY&amp;SYA\xaf\x82\r\x00\x00\x01\x01\x80\x02\xc0\x02\x00 \x00!\x9ah3M\x07&lt;]\xc9\x14\xe1BA\x06\xbe\x084'pw: 'BZh91AY&amp;SY\x94$|\x0e\x00\x00\x00\x81\x00\x03$ \x00!\x9ah3M\x13&lt;]\xc9\x14\xe1BBP\x91\xf08'--></span></code></pre><p>æ³¨æ„åˆ°å¼€å¤´BZï¼ŒæŸ¥é˜…ä¹‹åå¾—çŸ¥æ˜¯bzip2å‹ç¼©</p><blockquote><p>bz2 æ¨¡å—æ˜¯ bzip2 åº“çš„æ¥å£ï¼Œç”¨äºå‹ç¼©æ•°æ®ä»¥è¿›è¡Œå­˜å‚¨æˆ–ä¼ è¾“ã€‚æä¾›äº†ä¸‰ç§ APIï¼š</p><p>â€‹    â€œä¸€æ¬¡æ€§â€ å‹ç¼© / è§£å‹ç¼©åŠŸèƒ½ï¼Œç”¨äºæ“ä½œå¤§å †æ•°æ®,<a href="https://docs.python.org/zh-cn/3/library/bz2.html#bz2.compress"><code>compress()</code></a> å’Œ <a href="https://docs.python.org/zh-cn/3/library/bz2.html#bz2.decompress"><code>decompress()</code></a> å‡½æ•°ã€‚<br>â€‹            ç”¨äºå¤„ç†æ•°æ®æµçš„è¿­ä»£å‹ç¼© / è§£å‹ç¼©å¯¹è±¡,<a href="https://docs.python.org/zh-cn/3/library/bz2.html#bz2.BZ2Compressor"><code>BZ2Compressor</code></a> å’Œ <a href="https://docs.python.org/zh-cn/3/library/bz2.html#bz2.BZ2Decompressor"><code>BZ2Decompressor</code></a> ç±»ã€‚<br>â€‹            ç±»ä¼¼æ–‡ä»¶çš„ç±»ï¼Œæ”¯æŒä¸æœªå‹ç¼©æ–‡ä»¶ä¸€æ ·çš„è¯»å†™,<a href="https://docs.python.org/zh-cn/3/library/bz2.html#bz2.open"><code>open()</code></a> å‡½æ•°å’Œ <a href="https://docs.python.org/zh-cn/3/library/bz2.html#bz2.BZ2File"><code>BZ2File</code></a> ç±»ã€‚</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p></blockquote><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> bz2un <span class="token operator">=</span> b<span class="token string">'BZh91AY&amp;SYA\xaf\x82\r\x00\x00\x01\x01\x80\x02\xc0\x02\x00 \x00!\x9ah3M\x07&lt;]\xc9\x14\xe1BA\x06\xbe\x084'</span>pw <span class="token operator">=</span> b<span class="token string">'BZh91AY&amp;SY\x94$|\x0e\x00\x00\x00\x81\x00\x03$ \x00!\x9ah3M\x13&lt;]\xc9\x14\xe1BBP\x91\xf08'</span><span class="token comment" spellcheck="true"># 1. é€æ­¥å¤„ç†</span><span class="token keyword">print</span><span class="token punctuation">(</span>bz2<span class="token punctuation">.</span>BZ2Decompressor<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decompress<span class="token punctuation">(</span>un<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>bz2<span class="token punctuation">.</span>BZ2Decompressor<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decompress<span class="token punctuation">(</span>pw<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 2. ä¸€æ¬¡æ€§å¤„ç†</span><span class="token keyword">print</span> <span class="token punctuation">(</span>bz2<span class="token punctuation">.</span>decompress<span class="token punctuation">(</span>un<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span> <span class="token punctuation">(</span>bz2<span class="token punctuation">.</span>decompress<span class="token punctuation">(</span>pw<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># output:</span><span class="token comment" spellcheck="true"># b'huge'</span><span class="token comment" spellcheck="true"># b'file'</span></code></pre><p>å…¶å®ä¹Ÿå¯ä»¥è¿™æ ·</p><p>ç„¶åå°±è¾“å…¥ç”¨æˆ·åhugeï¼Œå¯†ç fileè¿›å…¥ç¬¬ä¹å…³å•¦ï¼</p><p><a href="http://www.pythonchallenge.com/pc/return/good.html">ç‚¹å‡»è¿›å…¥ä¸‹ä¸€å…³</a></p><p>ç„¶åæ€»ç»“ä¸€ä¸‹bz2çš„ç”¨æ³•ï¼Œé¦–å…ˆè¾“å…¥çš„è§£å‹æ•°æ®å¾—æ˜¯äºŒè¿›åˆ¶ï¼Œ<code>bz2.BZ2Decompressor()</code>æ˜¯åˆ›å»ºä¸€ä¸ªDecompressorï¼Œè¿˜æ˜¯å¾—ç”¨decompressæ¥è§£å‹æ•°æ®ï¼Œä¸è¿‡è¿™æ˜¯é€æ­¥å¤„ç†è€Œä¸æ˜¯ä¸€æ¬¡æ€§å°†æ•°æ®å…¨æ”¾å…¥å†…å­˜ï¼</p><h2 id="level-9-good-2020-11-4"><a href="#level-9-good-2020-11-4" class="headerlink" title="level_9_good_2020.11.4"></a>level_9_good_2020.11.4</h2><p>ä»Šå¤©è¦å­¦ä¹ çš„å†…å®¹ï¼š</p><ul><li><a href="https://www.runoob.com/python/python-func-zip.html">Python zip() å‡½æ•°</a></li><li><a href="https://zhuanlan.zhihu.com/p/59849190">Python Pillow åº“ ImageDraw ç»˜åˆ¶å›¾åƒæ¨¡å—</a></li><li><a href="https://www.jianshu.com/p/171ce1d0656e">python Image</a></li></ul><p>PIL.Image.new(mode, size, color=0)</p><ul><li>mode é¢œè‰²æ¨¡å¼ï¼Œ9ç§ï¼Œåˆ†åˆ«ä¸º1(éé»‘å³ç™½)ï¼ŒL(ç°è‰²ï¼‰ï¼ŒPï¼ˆ8bit)ï¼ŒRGBï¼ŒRGBAï¼ŒCMYKï¼ŒYCbCrï¼ŒIï¼ŒFã€‚</li><li>size å¤§å°ï¼ˆ500ï¼Œ500ï¼‰</li><li>color é»˜è®¤é»‘è‰²</li></ul><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># http://www.pythonchallenge.com/pc/return/good.html</span><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token keyword">from</span> PIL <span class="token keyword">import</span> ImageDraw<span class="token comment" spellcheck="true">#æ”¹å¤©ç”¨æ­£åˆ™è¡¨è¾¾å¼æ”¹ä¸‹</span>first <span class="token operator">=</span> <span class="token punctuation">[</span>    <span class="token number">146</span><span class="token punctuation">,</span> <span class="token number">399</span><span class="token punctuation">,</span> <span class="token number">163</span><span class="token punctuation">,</span> <span class="token number">403</span><span class="token punctuation">,</span> <span class="token number">170</span><span class="token punctuation">,</span> <span class="token number">393</span><span class="token punctuation">,</span> <span class="token number">169</span><span class="token punctuation">,</span> <span class="token number">391</span><span class="token punctuation">,</span> <span class="token number">166</span><span class="token punctuation">,</span> <span class="token number">386</span><span class="token punctuation">,</span> <span class="token number">170</span><span class="token punctuation">,</span> <span class="token number">381</span><span class="token punctuation">,</span> <span class="token number">170</span><span class="token punctuation">,</span> <span class="token number">371</span><span class="token punctuation">,</span> <span class="token number">170</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>second <span class="token operator">=</span> <span class="token punctuation">[</span>    <span class="token number">156</span><span class="token punctuation">,</span> <span class="token number">141</span><span class="token punctuation">,</span> <span class="token number">165</span><span class="token punctuation">,</span> <span class="token number">135</span><span class="token punctuation">,</span> <span class="token number">169</span><span class="token punctuation">,</span> <span class="token number">131</span><span class="token punctuation">,</span> <span class="token number">176</span><span class="token punctuation">,</span> <span class="token number">130</span><span class="token punctuation">,</span> <span class="token number">187</span><span class="token punctuation">,</span> <span class="token number">134</span><span class="token punctuation">,</span> <span class="token number">191</span><span class="token punctuation">,</span> <span class="token number">140</span><span class="token punctuation">,</span> <span class="token number">191</span><span class="token punctuation">,</span> <span class="token number">146</span><span class="token punctuation">,</span> <span class="token number">186</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token comment" spellcheck="true">#åˆ›å»ºå›¾ç‰‡å¯¹è±¡ï¼ŒèƒŒæ™¯ä¸ºç™½è‰²ï¼Œæ¨¡å¼ä¸ºéé»‘å³ç™½</span>img <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>draw <span class="token operator">=</span> ImageDraw<span class="token punctuation">.</span>Draw<span class="token punctuation">(</span>img<span class="token punctuation">)</span></code></pre><p>æ‰“å°first</p><pre class=" language-python"><code class="language-python">draw<span class="token punctuation">.</span>line<span class="token punctuation">(</span>list<span class="token punctuation">(</span>zip<span class="token punctuation">(</span>first<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> first<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>img<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><img src="https://i.loli.net/2020/11/14/niUgVLqSEk8sT3x.png" alt="image-20201104223353750" width="50%"><p>æ‰“å°second</p><pre class=" language-python"><code class="language-python">draw<span class="token punctuation">.</span>line<span class="token punctuation">(</span>list<span class="token punctuation">(</span>zip<span class="token punctuation">(</span>second<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> second<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>img<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><img src="https://i.loli.net/2020/11/14/XCBEkIuJLOo3pjH.png" alt="image-20201104223413150" width="50%;"><p>åˆå¹¶</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># draw.line(list(zip(first[0::2], first[1::2])))</span><span class="token comment" spellcheck="true"># draw.line(list(zip(second[0::2], second[1::2])))</span>draw<span class="token punctuation">.</span>line<span class="token punctuation">(</span>first<span class="token punctuation">)</span>draw<span class="token punctuation">.</span>line<span class="token punctuation">(</span>second<span class="token punctuation">)</span>img<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><img src="https://i.loli.net/2020/11/14/nlBoNPd1jp3GEvc.png" alt="image-20201104224200360" width="50%"><p>æ¢ä¸€ç§ç”»å›¾</p><pre class=" language-python"><code class="language-python">img <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">'RGB'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">)</span>draw <span class="token operator">=</span> ImageDraw<span class="token punctuation">.</span>Draw<span class="token punctuation">(</span>img<span class="token punctuation">)</span>draw<span class="token punctuation">.</span>polygon<span class="token punctuation">(</span>list<span class="token punctuation">(</span>zip<span class="token punctuation">(</span>first<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> first<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> fill<span class="token operator">=</span><span class="token string">"white"</span><span class="token punctuation">)</span>draw<span class="token punctuation">.</span>polygon<span class="token punctuation">(</span>list<span class="token punctuation">(</span>zip<span class="token punctuation">(</span>second<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> second<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> fill<span class="token operator">=</span><span class="token string">"white"</span><span class="token punctuation">)</span>img<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><img src="https://i.loli.net/2020/11/14/Lk6zgaTN2dYn1qI.png" alt="image-20201104223042040" width="50%"><p>æ‰€ä»¥ç­”æ¡ˆå°±æ˜¯bullå•¦</p><p>ç‚¹å‡»è¿›å…¥ä¸€ä¸‹å…³ï¼š<a href="http://www.pythonchallenge.com/pc/return/bull.html">http://www.pythonchallenge.com/pc/return/bull.html</a></p><h2 id="level-10-bull-2020-11-5"><a href="#level-10-bull-2020-11-5" class="headerlink" title="level_10_bull_2020.11.5"></a>level_10_bull_2020.11.5</h2><p><img src="https://i.loli.net/2020/11/14/g5mdp2QahHuecCU.png" alt="image-20201105110332514"></p><p>ç‚¹å‡»å›¾ç‰‡ï¼Œå¾—åˆ°</p><pre><code>a = [1, 11, 21, 1211, 111221,</code></pre><p>æ‰€ä»¥è¿™é¢˜çš„æ„æ€å°±æ˜¯æ‰¾è§„å¾‹</p><p>1ï¼Œ1ä¸ª1â†’11</p><p>2ä¸ª1â†’21</p><p>1ä¸ª2ä¸€ä¸ª1â†’1211</p><p>1ä¸ª1ï¼Œ1ä¸ª2ï¼Œ2ä¸ª1â†’111221</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># len(a[30]) = ?</span>a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">]</span>b <span class="token operator">=</span> <span class="token string">''</span><span class="token keyword">for</span> num <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment" spellcheck="true"># è¿è¡Œ29æ¬¡</span>    position <span class="token operator">=</span> <span class="token number">0</span>    repeats <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">while</span> position <span class="token operator">&lt;</span> len<span class="token punctuation">(</span>a<span class="token punctuation">[</span>num<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">while</span> repeats <span class="token operator">&lt;</span> len<span class="token punctuation">(</span>a<span class="token punctuation">[</span>num<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">and</span> a<span class="token punctuation">[</span>num<span class="token punctuation">]</span><span class="token punctuation">[</span>repeats<span class="token punctuation">]</span> <span class="token operator">==</span> a<span class="token punctuation">[</span>num<span class="token punctuation">]</span><span class="token punctuation">[</span>position<span class="token punctuation">]</span><span class="token punctuation">:</span>            repeats <span class="token operator">+=</span> <span class="token number">1</span>        b <span class="token operator">+=</span> str<span class="token punctuation">(</span>repeats <span class="token operator">-</span> position<span class="token punctuation">)</span> <span class="token operator">+</span> a<span class="token punctuation">[</span>num<span class="token punctuation">]</span><span class="token punctuation">[</span>position<span class="token punctuation">]</span>        position <span class="token operator">=</span> repeats    a<span class="token punctuation">.</span>append<span class="token punctuation">(</span>b<span class="token punctuation">)</span>    b <span class="token operator">=</span> <span class="token string">''</span><span class="token keyword">print</span><span class="token punctuation">(</span>len<span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p>å¾—åˆ°5080</p><p>æ‰€ä»¥ç‚¹å‡»è¿›å…¥ä¸‹ä¸€å…³ï¼š <a href="http://www.pythonchallenge.com/pc/return/5808.html">http://www.pythonchallenge.com/pc/return/5808.html</a></p><h2 id="level-11-5808-2020-11-6"><a href="#level-11-5808-2020-11-6" class="headerlink" title="level_11_5808_2020.11.6"></a>level_11_5808_2020.11.6</h2><p>ç¿»è¯‘äº†ä¸€æ•´å¤©çš„è¯å­¦ä½œä¸šçš„ä¸¤ç¯‡è®ºæ–‡ï¼Œcopyäº†ä¸¤ä¸‡å¤šå­—ï¼Œå·®ç‚¹åè¡€ğŸ¤®</p><p>å¥½äº†ï¼Œä»Šæ™šè¿˜æ˜¯ç»§ç»­æŒ‘æˆ˜pythonå§</p><p><img src="https://i.loli.net/2020/11/14/2yhrMLeH8QngKUC.jpg" alt="cave"></p><p>æŸ¥çœ‹ç½‘é¡µæºä»£ç ï¼Œodd even æç¤ºå¾ˆæ˜æ˜¾äº†ï¼Œå°±æ˜¯å¤„ç†å›¾ç‰‡å¶æ•°å’Œå¥‡æ•°åƒç´ ç‚¹</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>odd even<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../style.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>center</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>center</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cave.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>640<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>480<span class="token punctuation">"</span></span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>font</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>gold<span class="token punctuation">"</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>+1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>font</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><p>æŠŠå›¾ä¿å­˜åˆ°æœ¬åœ°ï¼Œå¦‚æœæŠŠè¿™å¼ å›¾æ”¾å¤§ï¼Œå°±ä¼šå‘ç°åƒç´ å—æ˜¯é—´éš”æ’åˆ—çš„</p><p><img src="https://i.loli.net/2020/11/14/5qYKj2CQuB4MswU.png" alt="image-20201107012016539"></p><p>äºæ˜¯å°±å¿«ä¹çš„ç ä»£ç å•¦ï¼</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># æœ¬æ¥æƒ³ç›´æ¥ç”¨requestsä½†æ˜¯è¿™ä¸ªç½‘ç«™http://www.pythonchallenge.com/pc/return/cave.jpgéœ€è¦è¾“å…¥è´¦å·å’Œå¯†ç æ‰èƒ½è®¿é—®</span><span class="token comment" spellcheck="true"># import requests</span><span class="token comment" spellcheck="true"># import io</span><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token comment" spellcheck="true"># å°±æš‚æ—¶ä¸çŸ¥é“å¦‚ä½•å¤„ç†ï¼Œå°±æŠŠå›¾ç‰‡å…ˆç›´æ¥ä¿å­˜åˆ°æœ¬åœ°äº†</span>img <span class="token operator">=</span> Image<span class="token punctuation">.</span>open<span class="token punctuation">(</span>r<span class="token string">"assets/cave.jpg"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># æ‰“å°å›¾ç‰‡æ ¼å¼ï¼Œå¤§å°ï¼Œé¢œè‰²æ¨¡å¼</span><span class="token keyword">print</span><span class="token punctuation">(</span>img<span class="token punctuation">.</span>format<span class="token punctuation">,</span> img<span class="token punctuation">.</span>size<span class="token punctuation">,</span> img<span class="token punctuation">.</span>mode<span class="token punctuation">)</span>width<span class="token punctuation">,</span> height <span class="token operator">=</span> img<span class="token punctuation">.</span>size<span class="token comment" spellcheck="true"># ? ä¸ºä»€ä¹ˆå®½åº¦å’Œé«˜åº¦è¦é™¤ä»¥2å‘¢ï¼Ÿ</span>odd_img <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">"RGB"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>width <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">,</span> height <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span>even_img <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">"RGB"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>width <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">,</span> height <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span>origin_img_1 <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">"RGB"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>width <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">,</span> height <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>origin_img_2 <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">"RGB"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>width <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">,</span> height <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># print(img.getpixel((640, 480)))</span><span class="token comment" spellcheck="true"># å¯¹xyéƒ½ä¸ºå¥‡æ•°ï¼Œxyéƒ½ä¸ºå¶æ•°å’Œå…¶ä»–éƒ½æ‰“å°</span><span class="token keyword">for</span> x <span class="token keyword">in</span> range<span class="token punctuation">(</span>width<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> y <span class="token keyword">in</span> range<span class="token punctuation">(</span>height<span class="token punctuation">)</span><span class="token punctuation">:</span>        color <span class="token operator">=</span> img<span class="token punctuation">.</span>getpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">and</span> <span class="token punctuation">(</span>y <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token comment" spellcheck="true"># è·å–å½“å‰å›¾ç‰‡çš„åƒç´ </span>            color <span class="token operator">=</span> img<span class="token punctuation">.</span>getpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token comment" spellcheck="true"># ç„¶åå†æ”¾å…¥æ–°åƒç´ é‡Œ</span>            even_img<span class="token punctuation">.</span>putpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>x <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">,</span> y <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> value<span class="token operator">=</span>color<span class="token punctuation">)</span>        <span class="token keyword">elif</span> <span class="token punctuation">(</span>x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">and</span> <span class="token punctuation">(</span>y <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            odd_img<span class="token punctuation">.</span>putpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>x <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">,</span> y <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> value<span class="token operator">=</span>color<span class="token punctuation">)</span>        <span class="token keyword">elif</span> <span class="token punctuation">(</span>x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">and</span> <span class="token punctuation">(</span>y <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            origin_img_1<span class="token punctuation">.</span>putpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>x <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">,</span> y <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> value<span class="token operator">=</span>color<span class="token punctuation">)</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            origin_img_2<span class="token punctuation">.</span>putpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">,</span> y <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> value<span class="token operator">=</span>color<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># æ˜¾ç¤ºå›¾ç‰‡</span>odd_img<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>even_img<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>origin_img_1<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>origin_img_2<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># ä¿å­˜å›¾ç‰‡</span>odd_img<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'output\level_11_odd.png'</span><span class="token punctuation">,</span> <span class="token string">'png'</span><span class="token punctuation">)</span>even_img<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'output\level_11_even.png'</span><span class="token punctuation">,</span> <span class="token string">'png'</span><span class="token punctuation">)</span>origin_img_1<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'output\level_11_origin_1.png'</span><span class="token punctuation">,</span> <span class="token string">'png'</span><span class="token punctuation">)</span>origin_img_2<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'output\level_11_origin_2.png'</span><span class="token punctuation">,</span> <span class="token string">'png'</span><span class="token punctuation">)</span></code></pre><p>å¾—åˆ°çš„ç»“æœä¼šå‘ç°oddå’Œevenæ˜¯åŒä¸€å¼ å›¾ï¼Œè€Œorigin_1å’Œorigin_2ä¹Ÿæ˜¯åŒä¸€å¼ å›¾ï¼Œç›¸å½“äºæ˜¯ç»™çš„å›¾ç‰‡é‡Œæ”¾äº†4å¼ å›¾ï¼Œä¸¤ç§å›¾</p><p><img src="https://i.loli.net/2020/11/15/hOt3bEveocDF9Sj.png" alt="è—æ–‡å­—çš„å›¾"></p><p><img src="https://i.loli.net/2020/11/14/2CImv51jyeGuRfM.png" alt="åŸå›¾"></p><p>åŸç†å¤§æ¦‚å°±æ˜¯è¿™æ ·ï¼Œç”¨OneNoteç”»çš„</p><p><img src="https://i.loli.net/2020/11/14/KqNaCX1TykZWD7I.png" alt="image-20201107012534685"></p><p>æ‰€ä»¥æ ¹æ®è¿™ä¸ªåŸç†ï¼Œå…¶å®å°è¯•è‡ªå·±ä¹Ÿå¯ä»¥æä¸€å¼ å›¾ï¼Œä½†æ˜¯æ•ˆæœå¹¶ä¸å¥½</p><p>æ³¨æ„è—æ–‡å­—çš„å›¾æ–‡å­—ä¸€å®šè¦æš—ï¼ˆå¦‚æœèƒŒæ™¯é»‘çš„è¯ï¼‰ï¼Œä¸»è¦è‡ªå·±æ˜¯ç›´æ¥ç”¨pythonç”»çš„ï¼Œæ²¡æœ‰æ¸å˜ï¼Œæ‰€ä»¥æœ‰ç‚¹ç”Ÿç¡¬ï¼Œåªå¥½æŠŠé¢œè‰²è°ƒçš„å¾ˆæš—æ‰ä¸é‚£ä¹ˆæ˜æ˜¾ã€‚</p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token keyword">from</span> PIL <span class="token keyword">import</span> ImageDraw<span class="token keyword">from</span> PIL <span class="token keyword">import</span> ImageFontimg <span class="token operator">=</span> Image<span class="token punctuation">.</span>open<span class="token punctuation">(</span>r<span class="token string">"assets/wallhaven-vg8mo8.jpg"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># print(w, h)</span><span class="token comment" spellcheck="true">###** è‡ªå·±ä¹Ÿåœ¨å›¾ç‰‡ä¸Šå†™ä¸€ä¸ªæ–‡å­—**###</span>draw_img <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">'RGB'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">480</span><span class="token punctuation">,</span> <span class="token number">270</span><span class="token punctuation">)</span><span class="token punctuation">)</span>draw <span class="token operator">=</span> ImageDraw<span class="token punctuation">.</span>Draw<span class="token punctuation">(</span>draw_img<span class="token punctuation">)</span><span class="token comment" spellcheck="true">#é€‰æ‹©æ–‡å­—å­—ä½“å’Œå¤§å°</span>setFont <span class="token operator">=</span> ImageFont<span class="token punctuation">.</span>truetype<span class="token punctuation">(</span><span class="token string">'C:/windows/fonts/msyh.ttc'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#è®¾ç½®æ–‡å­—é¢œè‰²</span>fillColor <span class="token operator">=</span> <span class="token string">"#030800"</span><span class="token comment" spellcheck="true">#å†™å…¥æ–‡å­—</span>draw<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">,</span> u<span class="token string">'å‚»é€¼'</span><span class="token punctuation">,</span> font<span class="token operator">=</span>setFont<span class="token punctuation">,</span> fill<span class="token operator">=</span>fillColor<span class="token punctuation">)</span>draw_img<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>w<span class="token punctuation">,</span> h <span class="token operator">=</span> img<span class="token punctuation">.</span>sizeoutput_img <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">"RGB"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">960</span><span class="token punctuation">,</span> <span class="token number">540</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># ç¼©æ”¾å¤§å°</span><span class="token comment" spellcheck="true"># img.thumbnail((320, 240)) å› ä¸ºthumbnailä¼šä¿æŒå®½é«˜æ¯”ï¼Œå®é™…å¤§å°ä¸º240*240</span>img <span class="token operator">=</span> img<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">480</span><span class="token punctuation">,</span> <span class="token number">270</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Image<span class="token punctuation">.</span>ANTIALIAS<span class="token punctuation">)</span>img<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">for</span> x <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">960</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> y <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">540</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">and</span> <span class="token punctuation">(</span>y <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token comment" spellcheck="true"># è·å–å½“å‰å›¾ç‰‡çš„åƒç´ </span>            color <span class="token operator">=</span> draw_img<span class="token punctuation">.</span>getpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>x <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">,</span> y <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token comment" spellcheck="true"># ç„¶åå†æ”¾å…¥æ–°åƒç´ é‡Œ</span>        <span class="token keyword">elif</span> <span class="token punctuation">(</span>x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">and</span> <span class="token punctuation">(</span>y <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            color <span class="token operator">=</span> draw_img<span class="token punctuation">.</span>getpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>x <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">,</span> y <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            color <span class="token operator">=</span> img<span class="token punctuation">.</span>getpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>x <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">,</span> y <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        output_img<span class="token punctuation">.</span>putpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">,</span> value<span class="token operator">=</span>color<span class="token punctuation">)</span>output_img<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>output_img<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">"output/try.png"</span><span class="token punctuation">)</span>draw_img<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">"output/draw.png"</span><span class="token punctuation">)</span></code></pre><p><img src="https://i.loli.net/2020/11/14/toJBKS8TMUdWv6s.png" alt="è—æ–‡å­—çš„å›¾"></p><p><img src="https://i.loli.net/2020/11/14/248rDqWKUiw3TJp.png" alt="åˆæˆçš„å›¾ç‰‡"></p><p>æ‰€ä»¥ç‚¹å‡»è¿›å…¥ä¸‹ä¸€å…³ï¼š <a href="http://www.pythonchallenge.com/pc/return/evil.html">http://www.pythonchallenge.com/pc/return/evil.html</a></p><h3 id="å­¦åˆ°çš„çŸ¥è¯†-pillowï¼š"><a href="#å­¦åˆ°çš„çŸ¥è¯†-pillowï¼š" class="headerlink" title="å­¦åˆ°çš„çŸ¥è¯†-pillowï¼š"></a>å­¦åˆ°çš„çŸ¥è¯†-pillowï¼š</h3><p>æ„Ÿè§‰å¥½å‡ å…³éƒ½å’Œå›¾åƒå¤„ç†æœ‰å…³æ¬¸ï¼å°±ç¨å¾®è¡¥ä¸€ç‚¹pillowåº“çš„çŸ¥è¯†å§</p><p><a href="https://liam.page/2015/04/22/pil-tutorial-basic-usage/">PIL ç®€æ˜æ•™ç¨‹ - åŸºæœ¬ç”¨æ³•</a></p><p><a href="https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/0014320027235877860c87af5544f25a8deeb55141d60c5000#0">å»–é›ªå³° - Pillow</a></p><p><a href="https://www.jianshu.com/p/e8d058767dfa#%E5%9B%BE%E5%83%8F%E9%80%9A%E9%81%93%E5%87%A0%E4%BD%95%E5%8F%98%E6%8D%A2%E8%A3%81%E5%89%AA">python PIL å›¾åƒå¤„ç†</a></p><p>PILï¼šPython Imaging Libraryï¼Œå·²ç»æ˜¯Pythonå¹³å°äº‹å®ä¸Šçš„å›¾åƒå¤„ç†æ ‡å‡†åº“äº†ã€‚PILåŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œä½†APIå´éå¸¸ç®€å•æ˜“ç”¨ã€‚ä½†ç”±äºPILä»…æ”¯æŒåˆ°Python 2.7ï¼ŒåŠ ä¸Šå¹´ä¹…å¤±ä¿®ï¼Œäºæ˜¯ä¸€ç¾¤å¿—æ„¿è€…åœ¨PILçš„åŸºç¡€ä¸Šåˆ›å»ºäº†å…¼å®¹çš„ç‰ˆæœ¬ï¼Œåå­—å«<a href="https://github.com/python-pillow/Pillow">Pillow</a>ï¼Œæ”¯æŒæœ€æ–°Python 3.xï¼ŒåˆåŠ å…¥äº†è®¸å¤šæ–°ç‰¹æ€§ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å®‰è£…ä½¿ç”¨Pillowã€‚</p><pre class=" language-python"><code class="language-python"> pip install pillow</code></pre><h4 id="å›¾åƒæ‰“å¼€ï¼Œä¿å­˜"><a href="#å›¾åƒæ‰“å¼€ï¼Œä¿å­˜" class="headerlink" title="å›¾åƒæ‰“å¼€ï¼Œä¿å­˜"></a>å›¾åƒæ‰“å¼€ï¼Œä¿å­˜</h4><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token comment" spellcheck="true"># æ‰“å¼€ä¸€ä¸ªjpgå›¾åƒæ–‡ä»¶ï¼Œæ³¨æ„æ˜¯å½“å‰è·¯å¾„:</span>im <span class="token operator">=</span> Image<span class="token punctuation">.</span>open<span class="token punctuation">(</span><span class="token string">'test.jpg'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># è·å¾—å›¾åƒå°ºå¯¸:</span>w<span class="token punctuation">,</span> h <span class="token operator">=</span> im<span class="token punctuation">.</span>size <span class="token comment" spellcheck="true"># æ³¨æ„ï¼Œæ¯”å¦‚å°ºå¯¸æ˜¯640ï¼Œ480ï¼Œå®é™…ä¸º0-639ï¼Œ0-479</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Original image size: %sx%s'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>w<span class="token punctuation">,</span> h<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Resize image to: %sx%s'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>w<span class="token operator">//</span><span class="token number">2</span><span class="token punctuation">,</span> h<span class="token operator">//</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># æŠŠç¼©æ”¾åçš„å›¾åƒç”¨jpegæ ¼å¼ä¿å­˜:</span>im<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'thumbnail.jpg'</span><span class="token punctuation">,</span> <span class="token string">'jpeg'</span><span class="token punctuation">)</span></code></pre><h4 id="å›¾ç‰‡åˆ‡ç‰‡"><a href="#å›¾ç‰‡åˆ‡ç‰‡" class="headerlink" title="å›¾ç‰‡åˆ‡ç‰‡"></a>å›¾ç‰‡åˆ‡ç‰‡</h4><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#boxå˜é‡æ˜¯ä¸€ä¸ªå››å…ƒç»„(å·¦ï¼Œä¸Šï¼Œå³ï¼Œä¸‹)ã€‚</span>box <span class="token operator">=</span> <span class="token punctuation">(</span>int<span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token punctuation">,</span> int<span class="token punctuation">(</span>top<span class="token punctuation">)</span><span class="token punctuation">,</span>int<span class="token punctuation">(</span>right<span class="token punctuation">)</span><span class="token punctuation">,</span>int<span class="token punctuation">(</span>bottom<span class="token punctuation">)</span><span class="token punctuation">)</span>region <span class="token operator">=</span> im<span class="token punctuation">.</span>crop<span class="token punctuation">(</span>box<span class="token punctuation">)</span></code></pre><h4 id="å›¾ç‰‡ç¼©æ”¾"><a href="#å›¾ç‰‡ç¼©æ”¾" class="headerlink" title="å›¾ç‰‡ç¼©æ”¾"></a>å›¾ç‰‡ç¼©æ”¾</h4><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># ç¼©æ”¾åˆ°50%:</span>im<span class="token punctuation">.</span>thumbnail<span class="token punctuation">(</span><span class="token punctuation">(</span>w<span class="token operator">//</span><span class="token number">2</span><span class="token punctuation">,</span> h<span class="token operator">//</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#  thumbnailä¼šä¿æŒå®½é«˜æ¯”</span><span class="token comment" spellcheck="true"># å¦‚æœè¦é‡è®¾å¤§å°å’Œæ¯”ä¾‹å¯ä»¥ç”¨resizeï¼ŒImage.ANTIALIASæ˜¯é«˜è´¨é‡æ»¤é•œ</span>img <span class="token operator">=</span> img<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">480</span><span class="token punctuation">,</span> <span class="token number">270</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Image<span class="token punctuation">.</span>ANTIALIAS<span class="token punctuation">)</span></code></pre><p>ä½¿ç”¨matplotlib.pyplot</p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> pltimg <span class="token operator">=</span> Image<span class="token punctuation">.</span>open<span class="token punctuation">(</span><span class="token string">'assets/cave.jpg'</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#æ‰“å¼€å›¾åƒ</span>plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token string">"beauty"</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'origin'</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token punctuation">,</span> plt<span class="token punctuation">.</span>axis<span class="token punctuation">(</span><span class="token string">'off'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#boxå˜é‡æ˜¯ä¸€ä¸ªå››å…ƒç»„(å·¦ï¼Œä¸Šï¼Œå³ï¼Œä¸‹)ã€‚</span>box <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">260</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>roi <span class="token operator">=</span> img<span class="token punctuation">.</span>crop<span class="token punctuation">(</span>box<span class="token punctuation">)</span>plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'roi'</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>roi<span class="token punctuation">)</span>plt<span class="token punctuation">.</span>axis<span class="token punctuation">(</span><span class="token string">'off'</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p><img src="https://i.loli.net/2020/11/14/7ISiFbVpC29mDTO.png" alt="image-20201107015557880"></p><h4 id="æ–°å»ºå›¾åƒ"><a href="#æ–°å»ºå›¾åƒ" class="headerlink" title="æ–°å»ºå›¾åƒ"></a>æ–°å»ºå›¾åƒ</h4><pre class=" language-python"><code class="language-python">odd_img <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">"RGB"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>width <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">,</span> height <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><h4 id="é«˜æ–¯æ¨¡ç³Š"><a href="#é«˜æ–¯æ¨¡ç³Š" class="headerlink" title="é«˜æ–¯æ¨¡ç³Š"></a>é«˜æ–¯æ¨¡ç³Š</h4><pre class=" language-python"><code class="language-python">im2 <span class="token operator">=</span> im<span class="token punctuation">.</span>filter<span class="token punctuation">(</span>ImageFilter<span class="token punctuation">.</span>BLUR<span class="token punctuation">)</span>im2<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'blur.jpg'</span><span class="token punctuation">,</span> <span class="token string">'jpeg'</span><span class="token punctuation">)</span></code></pre><h4 id="ç”Ÿæˆå­—æ¯éªŒè¯ç å›¾ç‰‡"><a href="#ç”Ÿæˆå­—æ¯éªŒè¯ç å›¾ç‰‡" class="headerlink" title="ç”Ÿæˆå­—æ¯éªŒè¯ç å›¾ç‰‡"></a>ç”Ÿæˆå­—æ¯éªŒè¯ç å›¾ç‰‡</h4><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token punctuation">,</span> ImageDraw<span class="token punctuation">,</span> ImageFont<span class="token punctuation">,</span> ImageFilter<span class="token keyword">import</span> random<span class="token comment" spellcheck="true"># éšæœºå­—æ¯:</span><span class="token keyword">def</span> <span class="token function">rndChar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> chr<span class="token punctuation">(</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># éšæœºé¢œè‰²1:</span><span class="token keyword">def</span> <span class="token function">rndColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># éšæœºé¢œè‰²2:</span><span class="token keyword">def</span> <span class="token function">rndColor2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">127</span><span class="token punctuation">)</span><span class="token punctuation">,</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">127</span><span class="token punctuation">)</span><span class="token punctuation">,</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">127</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 240 x 60:</span>width <span class="token operator">=</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">4</span>height <span class="token operator">=</span> <span class="token number">60</span>image <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">'RGB'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># åˆ›å»ºFontå¯¹è±¡:</span>setfont <span class="token operator">=</span> ImageFont<span class="token punctuation">.</span>truetype<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">'C:/windows/fonts/Arial.ttf'</span><span class="token punctuation">,</span> <span class="token number">36</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># åˆ›å»ºDrawå¯¹è±¡:</span>draw <span class="token operator">=</span> ImageDraw<span class="token punctuation">.</span>Draw<span class="token punctuation">(</span>image<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># å¡«å……æ¯ä¸ªåƒç´ :</span><span class="token keyword">for</span> x <span class="token keyword">in</span> range<span class="token punctuation">(</span>width<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> y <span class="token keyword">in</span> range<span class="token punctuation">(</span>height<span class="token punctuation">)</span><span class="token punctuation">:</span>        draw<span class="token punctuation">.</span>point<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">,</span> fill<span class="token operator">=</span>rndColor<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># è¾“å‡ºæ–‡å­—:</span><span class="token keyword">for</span> t <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    draw<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">60</span> <span class="token operator">*</span> t <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rndChar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> font<span class="token operator">=</span>setfont<span class="token punctuation">,</span> fill<span class="token operator">=</span>rndColor2<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># æ¨¡ç³Š:</span>image <span class="token operator">=</span> image<span class="token punctuation">.</span>filter<span class="token punctuation">(</span>ImageFilter<span class="token punctuation">.</span>BLUR<span class="token punctuation">)</span>image<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'code.jpg'</span><span class="token punctuation">,</span> <span class="token string">'jpeg'</span><span class="token punctuation">)</span></code></pre><h2 id="level-12-evil-2020-11-7"><a href="#level-12-evil-2020-11-7" class="headerlink" title="level_12_evil_2020.11.7"></a>level_12_evil_2020.11.7</h2><p>Link: <a href="http://www.pythonchallenge.com/pc/return/evil.html">http://www.pythonchallenge.com/pc/return/evil.html</a></p><p><img src="https://i.loli.net/2020/11/14/bkphDU3lxgujKGN.png" alt="level_12_evil"></p><p>ä¸€å¼€å§‹çœ‹è§è¿™å›¾ç‰‡çš„åƒç´ æœ‰é—®é¢˜ï¼Œè¯•ç€ç”¨level11çš„æ–¹æ³•å¤„ç†çš„ä¸€ä¸‹ï¼Œæœä¸å…¶ç„¶â€”â€”</p><p>è¿™å›¾æ˜¯ç”±4å¼ ä¸€æ ·å›¾åˆå¹¶å‡ºæ¥çš„ï¼Œç„¶è€Œå¹¶æ²¡æœ‰ä»€ä¹ˆç”¨ğŸ¤®</p><p>å‘ç°å°é¢å›¾ç‰‡è¢«å‘½åä¸ºevil1ï¼Œå› ä¸ºå›¾ç‰‡æè¿°çš„æ˜¯å‘ç‰Œï¼Œäºæ˜¯è‡ªç„¶æƒ³åˆ°evil2ï¼Œevil3ï¼Œevil4<br><a href="http://www.pythonchallenge.com/pc/return/evil2.jpg">http://www.pythonchallenge.com/pc/return/evil2.jpg</a></p><center><img src="https://pic4.zhimg.com/80/v2-4295e2a6ec61a263f61766c14f5b8d4d.png" alt="">evil2ï¼Œnot jpg-_.gfx</center>http://www.pythonchallenge.com/pc/return/evil3.jpg<center><img src="https://pic4.zhimg.com/80/v2-53c726abc92830402656ae038ad3994e.png" alt="">evil3ï¼Œno more evils...</center>http://www.pythonchallenge.com/pc/return/evil4.jpg<p>åœ¨edgeæ‰“å¼€æ˜¯è¿™æ ·æ»´</p><center><img src="https://pic4.zhimg.com/80/v2-b1123d20eb3cc1713f872d9e7309f33b.png" alt="">evil4</center><p>ä½†æ˜¯åˆ°äº†IEç«Ÿç„¶å°±æ˜¾ç¤ºâ€Bert is evil! go back!â€ è¿™å¥è¯æš‚æ—¶ä¸çŸ¥é“æœ‰ä»€ä¹ˆç”¨ï¼Œç•™ç€ï¼</p><p><img src="https://i.loli.net/2020/11/14/PSUwEAVN2fmOZrH.png" alt="image-20201108174053698"></p><p>ç›®å‰æ‰€ä»¥å…³é”®çº¿ç´¢åœ¨evil2èº«ä¸Šï¼Œç‚¹å‡»<a href="http://www.pythonchallenge.com/pc/return/evil2.gfx">http://www.pythonchallenge.com/pc/return/evil2.gfx</a><br>è‡ªåŠ¨ä¸‹è½½evil2.gfxæ–‡ä»¶ï¼Œæ‰“å¼€ä¹‹åå‘ç°æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶<br>æ ¹æ®å°é¢å›¾çš„ç‰Œè¢«åˆ†æˆäº†äº”ä»½ï¼Œäºæ˜¯çŒœæƒ³ä¹Ÿè¦å°†gfxæ–‡ä»¶åˆ†äº”ä»½</p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> io<span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token keyword">with</span> open<span class="token punctuation">(</span><span class="token string">"assets/evil2.gfx"</span><span class="token punctuation">,</span> <span class="token string">"rb"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> gfx<span class="token punctuation">:</span>    data <span class="token operator">=</span> gfx<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># print(data) äºŒè¿›åˆ¶æ•°æ®</span><span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    piece <span class="token operator">=</span> data<span class="token punctuation">[</span>i<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token comment" spellcheck="true"># ä¸ºä»€ä¹ˆè¦æ¯éš”5ä¸ªå–ä¸€ä¸ªå‘¢ï¼Ÿâ€”â€”dealing card ğŸ˜¶</span>    im <span class="token operator">=</span> Image<span class="token punctuation">.</span>open<span class="token punctuation">(</span>io<span class="token punctuation">.</span>BytesIO<span class="token punctuation">(</span>piece<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># ä¸ºçš„æ˜¯çœ‹å›¾ç‰‡ ï¼Œ</span>    <span class="token comment" spellcheck="true"># im.show() #å‘ç°é¢„è§ˆç¬¬å››å¼ å›¾æœ‰é—®é¢˜ï¼ŸOSError: image file is truncated è¯´å›¾åƒæ–‡ä»¶è¢«æˆªæ–­</span>    <span class="token keyword">with</span> open<span class="token punctuation">(</span><span class="token string">"output/level_12_%d.%s"</span> <span class="token operator">%</span> <span class="token punctuation">(</span>i<span class="token punctuation">,</span> im<span class="token punctuation">.</span>format<span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"wb"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> w<span class="token punctuation">:</span>        w<span class="token punctuation">.</span>write<span class="token punctuation">(</span>piece<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># å†™å…¥æ–‡ä»¶</span></code></pre><p>æœ€åå¾—åˆ°äº”å¼ å›¾<br><img src="https://pic4.zhimg.com/80/v2-38b1ac84d0132539796eae8d28c868f0.png" alt="Image"><br><img src="https://pic4.zhimg.com/80/v2-1efdebf7bd9810ef0e6588cb3577254b.png" alt="Image"><br><img src="https://pic4.zhimg.com/80/v2-0074b2fec9c4527d943cc69a006dd6c6.gif" alt="Image"></p><p>å°±æ˜¯è¿™ä¸€å¼ è¢«æˆªæ–­äº†ï¼</p><p><img src="https://pic4.zhimg.com/80/v2-c416f2bcc7b77c622cb2d12a0a1e6109.png" alt="Image"><br><img src="https://pic4.zhimg.com/80/v2-b1160b7d18a4a364af0c53416b89bab8.png" alt="Image"></p><p>æ‰€ä»¥ç­”æ¡ˆå°±æ˜¯disproportionalå•¦<br>ç‚¹å‡»è¿›å…¥ä¸‹ä¸€å…³ <a href="http://www.pythonchallenge.com/pc/return/disproportional.html">http://www.pythonchallenge.com/pc/return/disproportional.html</a></p><h2 id="level-13-disproportional-2020-11-8"><a href="#level-13-disproportional-2020-11-8" class="headerlink" title="level_13_disproportional_2020.11.8"></a>level_13_disproportional_2020.11.8</h2><p>æš‚æ—¶å†³å®šè™½ç„¶è¦åšæŒæ¯å¤©é—¯ä¸€å…³ï¼Œä½†æ˜¯å°±å°‘åºŸè¯äº†ï¼ŒèŠ±æ›´å¤šçš„æ—¶é—´è®°å½•pythonç›¸å…³çŸ¥è¯†ï¼Œå­¦å­¦pandasã€matplotlibå¯èƒ½æ›´ç†æ™ºç‚¹ï¼Œæ²¡å¿…è¦æŠŠè§£é¢˜è¿‡ç¨‹è¯¦ç»†ç å‡ºæ¥ï¼ˆåæ­£åŸºæœ¬éƒ½æ˜¯å‚è€ƒåˆ«äººçš„ï¼‰</p><p>ç½‘é¡µæºä»£ç ï¼Œphone that <remote> evilï¼Œæç¤ºæ‹¨æ‰“ç»™è¿œç¨‹çš„evil</remote></p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>call him<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../style.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>center</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>disprop.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>640<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>480<span class="token punctuation">"</span></span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">usemap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#evil<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>map</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>evil<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>area</span> <span class="token attr-name">shape</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>circle<span class="token punctuation">"</span></span> <span class="token attr-name">coords</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>326,177,45<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../phonebook.php<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>map</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>font</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>gold<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">></span></span>    phone that <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>remote</span> <span class="token punctuation">/></span></span> evil<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>br</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><p>æ‰“å¼€phonebook.phpï¼Œå¾—åˆ°ä¸€ä¸ªxmlä½†æ˜¯æŠ¥é”™äº†</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>methodResponse</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fault</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>struct</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>member</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>faultCode<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>int</span><span class="token punctuation">></span></span>105<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>int</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>member</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>member</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>faultString<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">></span></span>XML error: Invalid document end at line 1, column 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>member</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>struct</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fault</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>methodResponse</span><span class="token punctuation">></span></span></code></pre><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> xmlrpc<span class="token punctuation">.</span>clienturl <span class="token operator">=</span> <span class="token string">"http://www.pythonchallenge.com/pc/phonebook.php"</span>conn <span class="token operator">=</span> xmlrpc<span class="token punctuation">.</span>client<span class="token punctuation">.</span>ServerProxy<span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>conn<span class="token punctuation">.</span>system<span class="token punctuation">.</span>listMethods<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># ['phone', 'system.listMethods', 'system.methodHelp', 'system.methodSignature', 'system.multicall', 'system.getCapabilities']</span><span class="token comment" spellcheck="true"># çœ‹åˆ°æ–¹æ³•ä¸­æœ‰phone</span><span class="token keyword">print</span><span class="token punctuation">(</span>conn<span class="token punctuation">.</span>system<span class="token punctuation">.</span>methodHelp<span class="token punctuation">(</span><span class="token string">"phone"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># Returns the phone of a person</span><span class="token keyword">print</span><span class="token punctuation">(</span>conn<span class="token punctuation">.</span>system<span class="token punctuation">.</span>methodSignature<span class="token punctuation">(</span><span class="token string">"phone"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># [['string', 'string']]</span><span class="token keyword">print</span><span class="token punctuation">(</span>conn<span class="token punctuation">.</span>phone<span class="token punctuation">(</span><span class="token string">"Bert"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># è¿˜è®°å¾—evil4.jpgçš„"Bert is evil! go back!"å—ï¼Ÿ</span><span class="token comment" spellcheck="true"># æœ€ç»ˆç»“æœ555-ITALY</span></code></pre><p>ç‚¹å‡»è¿›å…¥ä¸‹ä¸€å…³ï¼š  <a href="http://www.pythonchallenge.com/pc/return/italy.html">http://www.pythonchallenge.com/pc/return/italy.html</a></p><h3 id="XML-RPC"><a href="#XML-RPC" class="headerlink" title="XML-RPC"></a>XML-RPC</h3><p>XML-RPCï¼ˆXML Remote Procedure Callï¼Œå³XMLè¿œç¨‹æ–¹æ³•è°ƒç”¨ï¼‰ï¼ŒRPCæ˜¯Remote Procedure Callçš„ç¼©å†™ï¼Œå³è¿œç¨‹æ–¹æ³•è°ƒç”¨ï¼Œæ˜¯ä¸€ç§åœ¨æœ¬åœ°çš„æœºå™¨ä¸Šè°ƒç”¨è¿œç«¯æœºå™¨ä¸Šçš„ä¸€ä¸ªè¿‡ç¨‹ï¼ˆæ–¹æ³•ï¼‰çš„æŠ€æœ¯ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¹Ÿè¢«å¤§å®¶ç§°ä¸ºâ€œåˆ†å¸ƒå¼è®¡ç®—â€ï¼Œæ˜¯ä¸ºäº†æé«˜å„ä¸ªåˆ†ç«‹æœºå™¨çš„â€œäº’æ“ä½œæ€§â€è€Œå‘æ˜å‡ºæ¥çš„æŠ€æœ¯ã€‚</p><p>è¿™ç§è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ä½¿ç”¨httpä½œä¸ºä¼ è¾“åè®®ï¼Œxmlä½œä¸ºä¼ é€ä¿¡æ¯çš„ç¼–ç æ ¼å¼ã€‚</p><h2 id="level-14-italy-2020-11-9"><a href="#level-14-italy-2020-11-9" class="headerlink" title="level_14_italy_2020.11.9"></a>level_14_italy_2020.11.9</h2><p><img src="https://pic4.zhimg.com/80/v2-f5f7c5f6878289bfd2e95d5ab99826bd.png" alt="Image"></p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Imageim <span class="token operator">=</span> Image<span class="token punctuation">.</span>open<span class="token punctuation">(</span><span class="token string">'assets/wire.png'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>im<span class="token punctuation">.</span>size<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># (10000, 1)</span>hint_im <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">'RGB'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span>directions <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> p <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span>d <span class="token operator">=</span> <span class="token number">200</span>  <span class="token comment" spellcheck="true"># æ­¥é•¿è®¾ä¸º200ï¼Œæ˜¯ä¸ºäº†å‡ºç°(100ï¼Œ99ï¼Œ99ï¼Œ98),(98,97,97,97)...çš„èºçº¿æ€§èµ°æ³•</span><span class="token keyword">while</span> d <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true"># è·‘ä¸€åœˆ</span>    <span class="token keyword">for</span> v <span class="token keyword">in</span> directions<span class="token punctuation">:</span>        steps <span class="token operator">=</span>d<span class="token operator">//</span><span class="token number">2</span>        <span class="token comment" spellcheck="true"># è·‘ä¸€æ¡ç›´çº¿</span>        <span class="token keyword">for</span> s <span class="token keyword">in</span> range<span class="token punctuation">(</span>steps<span class="token punctuation">)</span><span class="token punctuation">:</span>            x<span class="token punctuation">,</span>y <span class="token operator">=</span>x<span class="token operator">+</span>v<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>y<span class="token operator">+</span>v<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>            hint_im<span class="token punctuation">.</span>putpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">,</span> im<span class="token punctuation">.</span>getpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            p <span class="token operator">+=</span> <span class="token number">1</span>        d <span class="token operator">-=</span> <span class="token number">1</span>hint_im<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>hint_im<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'output/level_14_hint.img'</span><span class="token punctuation">)</span></code></pre><p>å¾—åˆ°çŒ«å›¾<br><img src="https://pic4.zhimg.com/80/v2-33a36f418680e298e730f27701b0b200.png" alt="Image"></p><p>å¦å¤–å¦‚æœæŠŠdæ”¹ä¸º100çš„è¯ï¼Œä¼šå¾—åˆ°ä¸€å¼ è›®æœ‰æ„æ€çš„å›¾</p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Imageim <span class="token operator">=</span> Image<span class="token punctuation">.</span>open<span class="token punctuation">(</span><span class="token string">'assets/wire.png'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>im<span class="token punctuation">.</span>size<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># (10000, 1)</span>hint_im <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">'RGB'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span>delta <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> p <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span>d <span class="token operator">=</span> <span class="token number">100</span>  <span class="token comment" spellcheck="true"># å¦‚æœç›´æ¥è®¾ç½®ä¸º100ï¼Œæ­¥é•¿å°±æˆäº†100ï¼Œ99ï¼Œ98ï¼Œ97...</span><span class="token keyword">while</span> d <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true"># è·‘ä¸€åœˆ</span>    <span class="token keyword">for</span> v <span class="token keyword">in</span> delta<span class="token punctuation">:</span>        steps <span class="token operator">=</span> d        <span class="token comment" spellcheck="true"># è·‘ä¸€æ¡ç›´çº¿</span>        <span class="token keyword">for</span> s <span class="token keyword">in</span> range<span class="token punctuation">(</span>steps<span class="token punctuation">)</span><span class="token punctuation">:</span>            x<span class="token punctuation">,</span> y <span class="token operator">=</span> x<span class="token operator">+</span>v<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> y<span class="token operator">+</span>v<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>            hint_im<span class="token punctuation">.</span>putpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">,</span> im<span class="token punctuation">.</span>getpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            p <span class="token operator">+=</span> <span class="token number">1</span>        d <span class="token operator">-=</span> <span class="token number">1</span>hint_im<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>hint_im<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'output/level_14_hint.img'</span><span class="token punctuation">)</span></code></pre><p><img src="https://pic4.zhimg.com/80/v2-0e9fa3f9c977e3ed693b4f080e58bf65.png" alt="Image"><br>äºæ˜¯ç‚¹å‡»ï¼š<a href="http://www.pythonchallenge.com/pc/return/cat.html">http://www.pythonchallenge.com/pc/return/cat.html</a><br>å¾—åˆ°hint: and its name is uzi. youâ€™ll hear from him later.<br>å†ç‚¹å‡»ï¼š<a href="http://www.pythonchallenge.com/pc/return/uzi.html">http://www.pythonchallenge.com/pc/return/uzi.html</a><br>è¿›å…¥level 15</p><h2 id="level-15-uzi-2020-11-10"><a href="#level-15-uzi-2020-11-10" class="headerlink" title="level_15_uzi_2020.11.10"></a>level_15_uzi_2020.11.10</h2><p><img src="https://pic4.zhimg.com/80/v2-0f8c17a3b2936d56ed46e504409fb451.png" alt="Image"></p><p>Combinated with all hints,so we are looking for a person, whoâ€™s related to that particular date, and he is not the youngestâ€¦</p><p>The key is to find what year it was.</p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> datetime<span class="token comment" spellcheck="true"># import calendar,calendar.isleap()</span><span class="token keyword">for</span> year <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">1016</span><span class="token punctuation">,</span> <span class="token number">1996</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    d <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span>year<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> d<span class="token punctuation">.</span>isoweeklevel<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>  <span class="token comment" spellcheck="true"># return level of the week, where Monlevel==1,Sunlevel==7</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>year<span class="token punctuation">)</span><span class="token comment" spellcheck="true">#####output###</span><span class="token triple-quoted-string string">"""11761356157617561976"""</span><span class="token comment" spellcheck="true"># hint: &lt;!-- he ain't the youngest, he is the second --></span><span class="token comment" spellcheck="true"># so we choose 1756</span><span class="token comment" spellcheck="true"># hint: &lt;!-- todo: buy flowers for tomorrow --></span><span class="token comment" spellcheck="true"># so we look at 1756-1-27</span></code></pre><p>search the Internet,it turns out that level is the birthlevel of Morzart<br><img src="https://pic4.zhimg.com/80/v2-ad0333fa1bed4567f48c101b475c72c8.png" alt="Image">,</p><p>so click this link, to level 16:<br><a href="http://www.pythonchallenge.com/pc/return/mozart.html">http://www.pythonchallenge.com/pc/return/mozart.html</a></p><p>PS: I just found writing in Engslish is much more convinent for markdown</p><h2 id="level-16-mozart-2020-11-11"><a href="#level-16-mozart-2020-11-11" class="headerlink" title="level_16_mozart_2020.11.11"></a>level_16_mozart_2020.11.11</h2><p>ä»Šå¤©åŒåä¸€å•¦ï¼Œå¯æƒœæˆ‘å•¥ä¹Ÿæ²¡ä¹°ï¼Œç»§ç»­åˆ·é¢˜å§ï¼<br><img src="https://pic4.zhimg.com/80/v2-a1b87902b7e9e867338f52bef9af76f0.png" alt="Image"></p><p>æ–¹æ³•ä¸€ï¼šä½¿ç”¨ImageChops.offset()å¯¹å›¾åƒè¿›è¡Œåç§»</p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token punctuation">,</span> ImageChops<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token comment" spellcheck="true"># NumPy æ˜¯ä¸€ä¸ªä¸»è¦ç”¨äºæ•°ç»„è®¡ç®—çš„æ•°å­¦åº“</span><span class="token comment" spellcheck="true"># ImageChops æ¨¡å—åŒ…å«è®¸å¤šç®—æœ¯å›¾åƒæ“ä½œï¼Œç§°ä¸ºé€šé“æ“ä½œï¼ˆâ€œchopsâ€ï¼‰ã€‚è¿™äº›å¯ä»¥ç”¨äºå„ç§ç”¨é€”ï¼ŒåŒ…æ‹¬ç‰¹æ®Šæ•ˆæœã€å›¾åƒåˆæˆã€ç®—æ³•ç»˜åˆ¶ç­‰</span>image <span class="token operator">=</span> Image<span class="token punctuation">.</span>open<span class="token punctuation">(</span><span class="token string">"assets/mozart.gif"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># ç”Ÿæˆå›¾åƒåƒç´ ç›´æ–¹å›¾ï¼Œæ‰¾åˆ°é¢‘æ•°æ­£å¥½ä¸ºimage.heightçš„æ•´å€çš„ï¼Œå› ä¸ºä»å›¾ä¸­å¯ä»¥çœ‹åˆ°pinkæ¯è¡Œéƒ½å‡ºç°äº†</span><span class="token comment" spellcheck="true"># æˆ‘ä»¬çš„ä»»åŠ¡å°±æ˜¯æŠŠæ¯è¡Œåƒç´ éƒ½ç§»åŠ¨ï¼Œè®©pinkç»„æˆä¸€æ•´å—</span>frequency <span class="token operator">=</span><span class="token punctuation">[</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> image<span class="token punctuation">.</span>histogram<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> x <span class="token operator">%</span> image<span class="token punctuation">.</span>height <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">and</span> x <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>frequency<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># [2400]</span><span class="token keyword">print</span><span class="token punctuation">(</span>image<span class="token punctuation">.</span>histogram<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>index<span class="token punctuation">(</span><span class="token number">2400</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># è¿”å›é¢‘æ¬¡ä¸º2400çš„xè½´åæ ‡195ï¼Œå³pinké¢œè‰²</span>tmp <span class="token operator">=</span> image<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span>tmp<span class="token punctuation">.</span>frombytes<span class="token punctuation">(</span>bytes<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">195</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token punctuation">(</span>tmp<span class="token punctuation">.</span>height <span class="token operator">*</span> tmp<span class="token punctuation">.</span>width<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>tmp<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">for</span> y <span class="token keyword">in</span> range<span class="token punctuation">(</span>image<span class="token punctuation">.</span>size<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true">#(left, upper, right, lower)-tuple.</span>    box <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">,</span> image<span class="token punctuation">.</span>size<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> y <span class="token operator">+</span> <span class="token number">1</span>    row <span class="token operator">=</span> image<span class="token punctuation">.</span>crop<span class="token punctuation">(</span>box<span class="token punctuation">)</span>    bytes_data <span class="token operator">=</span> row<span class="token punctuation">.</span>tobytes<span class="token punctuation">(</span><span class="token punctuation">)</span>    i <span class="token operator">=</span> bytes_data<span class="token punctuation">.</span>index<span class="token punctuation">(</span><span class="token number">195</span><span class="token punctuation">)</span>    row <span class="token operator">=</span> ImageChops<span class="token punctuation">.</span>offset<span class="token punctuation">(</span>row<span class="token punctuation">,</span> <span class="token operator">-</span>i<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># offset åç§»é‡</span>    image<span class="token punctuation">.</span>paste<span class="token punctuation">(</span>row<span class="token punctuation">,</span> box<span class="token punctuation">)</span>image<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">"output/level_16_mozart.gif_1.gif"</span><span class="token punctuation">)</span></code></pre><p><img src="https://pic4.zhimg.com/80/v2-2f7ef0326d5fb12bb41cd5b11cd7b8a7.gif" alt="Image"><br>æ–¹æ³•äºŒï¼šä½¿ç”¨numpy.rollå¯¹å›¾ç‰‡è¿›è¡Œåç§»<br>ä¸çŸ¥é“ä¸ºä»€ä¹ˆå¾—åˆ°çš„æ˜¯ç°è‰²çš„ï¼Ÿï¼Ÿï¼Ÿ</p><pre class=" language-python"><code class="language-python">image <span class="token operator">=</span> Image<span class="token punctuation">.</span>open<span class="token punctuation">(</span><span class="token string">"assets/mozart.gif"</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>image<span class="token punctuation">.</span>mode<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># æ¨¡å¼â€œPâ€ä¸º8ä½å½©è‰²å›¾åƒï¼Œå®ƒçš„æ¯ä¸ªåƒç´ ç”¨8ä¸ªbitè¡¨ç¤ºï¼Œå…¶å¯¹åº”çš„å½©è‰²å€¼æ˜¯æŒ‰ç…§è°ƒè‰²æ¿æŸ¥è¯¢å‡ºæ¥çš„ã€‚</span><span class="token comment" spellcheck="true"># roll th image</span>shifted <span class="token operator">=</span> <span class="token punctuation">[</span>bytes<span class="token punctuation">(</span>np<span class="token punctuation">.</span>roll<span class="token punctuation">(</span>row<span class="token punctuation">,</span> <span class="token operator">-</span>row<span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>index<span class="token punctuation">(</span><span class="token number">195</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">for</span> row <span class="token keyword">in</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>image<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token comment" spellcheck="true"># print(shifted)</span><span class="token comment" spellcheck="true"># æ ¹æ®äºŒè¿›åˆ¶æ•°æ®åˆ›å»ºå›¾åƒ</span>Image<span class="token punctuation">.</span>frombytes<span class="token punctuation">(</span><span class="token string">"P"</span><span class="token punctuation">,</span> image<span class="token punctuation">.</span>size<span class="token punctuation">,</span> b<span class="token string">""</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>shifted<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">"output/level_16_mozart.gif_2"</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># romance</span></code></pre><p><img src="https://pic4.zhimg.com/80/v2-28895d771fe0487fc63264c776c9d3fe.gif" alt="Image"></p><p>ä»Šæ—¥æ‰€å­¦<br>ImageChops æ¨¡å—åŒ…å«è®¸å¤šç®—æœ¯å›¾åƒæ“ä½œï¼Œç§°ä¸ºé€šé“æ“ä½œï¼ˆâ€œchopsâ€ï¼‰ã€‚è¿™äº›å¯ä»¥ç”¨äºå„ç§ç”¨é€”ï¼ŒåŒ…æ‹¬ç‰¹æ®Šæ•ˆæœã€å›¾åƒåˆæˆã€ç®—æ³•ç»˜åˆ¶ç­‰<br>NumPy æ˜¯ä¸€ä¸ªä¸»è¦ç”¨äºæ•°ç»„è®¡ç®—çš„æ•°å­¦åº“</p><ul><li>Image.histogram()è¿”å›å›¾åƒçš„ç›´æ–¹å›¾ã€‚ç›´æ–¹å›¾ä½œä¸ºåƒç´ è®¡æ•°åˆ—è¡¨è¿”å›ï¼Œå®ƒçš„xè½´æ˜¯åƒç´ å€¼ï¼Œyè½´æ˜¯å¯¹åº”çš„åƒç´ åœ¨å›¾åƒé‡Œçš„æ•°é‡ã€‚</li><li>PIL.ImageChops.offset(image, xoffset, yoffset=None),è¿”å›æ•°æ®è¢«ç»™å®šè·ç¦»åç§»çš„å›¾åƒçš„å‰¯æœ¬ã€‚æ•°æ®ç¯ç»•è¾¹ç¼˜ã€‚å¦‚æœ yoffset å¦‚æœçœç•¥ï¼Œåˆ™å‡å®šç­‰äº Xåç§».</li><li>Image.paste(im,box)å°†ä¸€å¼ å›¾ç²˜è´´åˆ°å¦ä¸€å¼ å›¾åƒä¸Šã€‚å˜é‡boxæˆ–è€…æ˜¯ä¸€ä¸ªç»™å®šå·¦ä¸Šè§’çš„2å…ƒç»„ï¼Œæˆ–è€…æ˜¯å®šä¹‰äº†å·¦ï¼Œä¸Šï¼Œå³å’Œä¸‹åƒç´ åæ ‡çš„4å…ƒç»„ï¼Œæˆ–è€…ä¸ºç©ºï¼ˆä¸ï¼ˆ0ï¼Œ0ï¼‰ä¸€æ ·ï¼‰ã€‚å¦‚æœç»™å®š4å…ƒç»„ï¼Œè¢«ç²˜è´´çš„å›¾åƒçš„å°ºå¯¸å¿…é¡»ä¸åŒºåŸŸå°ºå¯¸ä¸€æ ·ã€‚</li><li>np.array(image),imageç±» è½¬ numpyï¼Œä¸€è¡Œä¸€è¡Œçš„ç”¨æ•°å­—ä»£è¡¨å„ä¸ªåƒç´ </li><li>tolist()å°†æ•°ç»„æˆ–è€…çŸ©é˜µè½¬æ¢æˆåˆ—è¡¨</li><li>list.index(),ä»åˆ—è¡¨ä¸­æ‰¾å‡ºæŸä¸ªå€¼ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹çš„ç´¢å¼•ä½ç½®ã€‚</li><li>numpy.roll(a,&nbsp;shift,&nbsp;axis=None)æ²¿ç€ç»™å®šè½´æ»šåŠ¨æ•°ç»„å…ƒç´ ã€‚è¶…å‡ºæœ€åä½ç½®çš„å…ƒç´ å°†ä¼šæ»šåŠ¨åˆ°ç¬¬ä¸€ä¸ªä½ç½®ã€‚<pre class=" language-python"><code class="language-python">a1 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>roll<span class="token punctuation">(</span>a1<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># [ 2  3  4  5  6  7  8  9 10  0  1]</span></code></pre></li></ul><p>click to next level: <a href="http://www.pythonchallenge.com/pc/return/romance.html">http://www.pythonchallenge.com/pc/return/romance.html</a></p><h2 id="level-17-romance-2020-11-12"><a href="#level-17-romance-2020-11-12" class="headerlink" title="level_17_romance_2020.11.12"></a>level_17_romance_2020.11.12</h2><p>è¿™ä¸€å…³åŸºæœ¬æ˜¯çˆ¬è™«+å¤ä¹ å…³äº†ï¼Œå¥½éš¾ï¼Œç›´æ¥copyä»£ç äº†ğŸ¤¢<br>å‚è€ƒèµ„æ–™ï¼š</p><ul><li><a href="https://www.jianshu.com/p/ea3ae84022e5">Python Challenge[17]-Recgatç®€ä¹¦</a></li><li><a href="http://kwangka.github.io/2015/01/31/pc17/">Python Challenge (Level 17)æ›¾æ¢¦æƒ³ä»—å‰‘èµ°å¤©æ¶¯</a></li><li><a href="https://www.hackingnote.com/en/python-challenge-solutions/level-17">hackingnote</a></li></ul><h3 id="cookieå’Œè·å–cookie"><a href="#cookieå’Œè·å–cookie" class="headerlink" title="cookieå’Œè·å–cookie"></a>cookieå’Œè·å–cookie</h3><p><a href="https://zhuanlan.zhihu.com/p/22396872">Cookie æ˜¯ä»€ä¹ˆ</a><br><a href="https://blog.csdn.net/MuWinter/article/details/75313476">å¦‚ä½•æŸ¥çœ‹cookies</a></p><p>Cookie æ˜¯æµè§ˆå™¨è®¿é—®æœåŠ¡å™¨åï¼ŒæœåŠ¡å™¨ä¼ ç»™æµè§ˆå™¨çš„ä¸€æ®µæ•°æ®ã€‚æµè§ˆå™¨éœ€è¦ä¿å­˜è¿™æ®µæ•°æ®ï¼Œä¸å¾—è½»æ˜“åˆ é™¤ã€‚<br>ç¬¬ä¸€ä¸ªä½œç”¨æ˜¯è¯†åˆ«ç”¨æˆ·èº«ä»½ã€‚<br>ç¬¬äºŒä¸ªä½œç”¨æ˜¯è®°å½•å†å²ã€‚<br><img src="https://pic4.zhimg.com/80/v2-f2cb2b740b2589d354433051c8823b75.png" alt="Image"><br><strong>å¦‚ä½•è·å–cookie</strong></p><ul><li>ä½¿ç”¨httplib2åº“ï¼Œcookieä¿¡æ¯åŒ…å«åœ¨httplib2.Http().request()è¿”å›çš„Responseå®ä¾‹ä¸­ã€‚<pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> httplib2<span class="token punctuation">,</span>reh <span class="token operator">=</span> httplib2<span class="token punctuation">.</span>Http<span class="token punctuation">(</span><span class="token string">'.Cache'</span><span class="token punctuation">)</span>url<span class="token punctuation">,</span> num <span class="token operator">=</span> <span class="token string">'http://www.pythonchallenge.com/pc/def/linkedlist.php?busynothing='</span><span class="token punctuation">,</span> <span class="token string">'12345'</span>pattern <span class="token operator">=</span> re<span class="token punctuation">.</span>compile<span class="token punctuation">(</span><span class="token string">'info=(.*)'</span><span class="token punctuation">)</span>info <span class="token operator">=</span> <span class="token string">''</span><span class="token keyword">while</span> num<span class="token punctuation">.</span>isdigit<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>resp<span class="token punctuation">,</span>content<span class="token operator">=</span>h<span class="token punctuation">.</span>request<span class="token punctuation">(</span>url<span class="token operator">+</span>num<span class="token punctuation">)</span>info <span class="token operator">+=</span> pattern<span class="token punctuation">.</span>search<span class="token punctuation">(</span>resp<span class="token punctuation">[</span><span class="token string">'set-cookie'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">';'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>groups<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>num <span class="token operator">=</span> content<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span></code></pre></li><li>ä½¿ç”¨urllibåº“è·å–cookieä¿¡æ¯<pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> urllib<span class="token punctuation">.</span>requesth <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span>url<span class="token punctuation">)</span>cookie <span class="token operator">=</span> h<span class="token punctuation">.</span>getheader<span class="token punctuation">(</span><span class="token string">'Set-Cookie'</span><span class="token punctuation">)</span></code></pre></li></ul><p><strong>è®¾ç½®cookie</strong><br>Requestï¼šæ¨¡æ‹Ÿæµè§ˆå™¨å‘é€GETè¯·æ±‚ï¼ˆGET-ä»æŒ‡å®šçš„èµ„æºè¯·æ±‚æ•°æ®ã€‚ï¼‰ï¼Œå°±éœ€è¦ä½¿ç”¨Requestå¯¹è±¡ï¼Œé€šè¿‡å¾€Requestå¯¹è±¡æ·»åŠ HTTPå¤´ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠè¯·æ±‚ä¼ªè£…æˆæµè§ˆå™¨</p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> urllib<span class="token punctuation">.</span>request <span class="token keyword">import</span> Request<span class="token punctuation">,</span> urlopen<span class="token keyword">from</span> urllib<span class="token punctuation">.</span>parse <span class="token keyword">import</span> quote_plusreq <span class="token operator">=</span> Request<span class="token punctuation">(</span>url<span class="token punctuation">,</span> headers <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">"Cookie"</span><span class="token punctuation">:</span> <span class="token string">"info="</span> <span class="token operator">+</span> quote_plus<span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>urlopen<span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><h3 id="urllib-parse"><a href="#urllib-parse" class="headerlink" title="urllib.parse"></a>urllib.parse</h3><p>parseæ˜¯è§£æçš„æ„æ€ï¼Œurllib.parseæä¾›äº†ä¸€äº›è¾…åŠ©æ–¹æ³•ï¼Œç”¨äºå¯¹urlè¿›è¡Œç¼–ç ã€è§£ç ã€‚urlä¸­æ˜¯ä¸èƒ½å‡ºç°ä¸€äº›ç‰¹æ®Šçš„ç¬¦å·çš„ï¼Œæœ‰äº›ç¬¦å·æœ‰ç‰¹æ®Šçš„ç”¨é€”ã€‚æˆ‘ä»¬çŸ¥é“ä»¥getæ–¹å¼æäº¤æ•°æ®çš„æ—¶å€™ï¼Œä¼šåœ¨urlä¸­æ·»åŠ key=valueè¿™æ ·çš„å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥åœ¨valueä¸­æ˜¯ä¸å…è®¸æœ‰â€™=â€™ï¼Œå› æ­¤è¦å¯¹å…¶è¿›è¡Œç¼–ç ï¼›ä¸æ­¤åŒæ—¶æœåŠ¡å™¨æ¥æ”¶åˆ°è¿™äº›å‚æ•°çš„æ—¶å€™ï¼Œè¦è¿›è¡Œè§£ç ï¼Œè¿˜åŸæˆåŸå§‹çš„æ•°æ®ã€‚<br>quote_plusï¼šè¿™ä¸ªæ–¹æ³•æ˜¯å°†ä¸€äº›ç‰¹æ®Šçš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºå›ºå®šçš„ä¸€äº›ç¬¦å·å­—æ¯æ•°å­—ç»„åˆ</p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> urllib <span class="token keyword">import</span> parsed <span class="token operator">=</span> parse<span class="token punctuation">.</span>quote<span class="token punctuation">(</span><span class="token string">'a&amp;b/c'</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#æœªç¼–ç æ–œçº¿</span><span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># a%26b/c</span>d1 <span class="token operator">=</span> parse<span class="token punctuation">.</span>quote_plus<span class="token punctuation">(</span><span class="token string">'a&amp;b/c'</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#ç¼–ç äº†æ–œçº¿</span><span class="token keyword">print</span><span class="token punctuation">(</span>d1<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># a%26b%2Fc</span></code></pre><p>unquote/unquote_plus</p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> urllib <span class="token keyword">import</span> parse<span class="token operator">>></span><span class="token operator">></span> parse<span class="token punctuation">.</span>unquote<span class="token punctuation">(</span><span class="token string">'1+2'</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#ä¸è§£ç åŠ å·</span><span class="token string">'1+2'</span><span class="token operator">>></span><span class="token operator">></span> parse<span class="token punctuation">.</span>unquote_plus<span class="token punctuation">(</span><span class="token string">'1+2'</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#æŠŠåŠ å·è§£ç ä¸ºç©ºæ ¼</span><span class="token string">'1 2'</span></code></pre><p>urlencodeï¼Œå°†ä¸€äº›ä¼ å…¥çš„å…ƒç´ ä½¿ç”¨&amp;ä¸²è”èµ·æ¥ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</p><pre class=" language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span>params <span class="token operator">=</span> <span class="token punctuation">{</span>            <span class="token string">"appid"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>            <span class="token string">"mch_id"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>            <span class="token string">"body"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>            <span class="token string">"out_trade_no"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>            <span class="token string">"total_fee"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>            <span class="token string">"spbill_create_ip"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>            <span class="token string">"notify_url"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>            <span class="token string">"trade_type"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>            <span class="token string">"nonce_str"</span><span class="token punctuation">:</span> <span class="token number">1</span>        <span class="token punctuation">}</span><span class="token operator">>></span><span class="token operator">></span>parse<span class="token punctuation">.</span>urlencode<span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token string">'appid=1&amp;mch_id=1&amp;body=1&amp;out_trade_no=1&amp;total_fee=1&amp;spbill_create_ip=1&amp;notify_url=1&amp;trade_type=1&amp;nonce_str=1'</span></code></pre><p>ç»urllib.parse.unquote_to_bytes(string)æ–¹æ³•è½¬æ¢è¿”å›çš„å¯¹è±¡å¯ä»¥æ­£å¸¸è§£å‹ï¼Œè¯¥æ–¹æ³•åŠŸèƒ½æ˜¯å°†%xxè½¬ä¹‰æ›¿æ¢ä¸ºå…¶ç­‰æ•ˆçš„single-octetå­—ç¬¦ï¼ˆunquote_plus()å’Œunquote()æ˜¯å•ä¸ªå­—ç¬¦ï¼‰ï¼Œä»¥å­—èŠ‚å¯¹è±¡è¿”å›ã€‚ä¸åƒunquote_plus()èƒ½å°†+è½¬ä¸ºç©ºæ ¼ï¼Œunquote_to_bytes()éœ€è¦æ‰‹åŠ¨æ›¿æ¢ã€‚</p><h3 id="è§£é¢˜ä»£ç "><a href="#è§£é¢˜ä»£ç " class="headerlink" title="è§£é¢˜ä»£ç "></a>è§£é¢˜ä»£ç </h3><p>refer to level 4 <a href="http://www.pythonchallenge.com/pc/def/linkedlist.php">http://www.pythonchallenge.com/pc/def/linkedlist.php</a></p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> urllib<span class="token punctuation">.</span>request <span class="token keyword">import</span> urlopen<span class="token keyword">from</span> urllib<span class="token punctuation">.</span>parse <span class="token keyword">import</span> unquote_plus<span class="token punctuation">,</span>unquote_to_bytes<span class="token keyword">import</span> re<span class="token punctuation">,</span> bz2<span class="token keyword">def</span> <span class="token function">geth</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">:</span>    i<span class="token operator">=</span><span class="token number">0</span>    <span class="token keyword">while</span> i<span class="token operator">&lt;</span><span class="token number">3</span><span class="token punctuation">:</span>        <span class="token keyword">try</span><span class="token punctuation">:</span>            h <span class="token operator">=</span>urlopen<span class="token punctuation">(</span>url<span class="token punctuation">,</span>timeout<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> h        <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>            i <span class="token operator">+=</span><span class="token number">1</span>num <span class="token operator">=</span> <span class="token string">'12345'</span>info <span class="token operator">=</span> <span class="token string">''</span><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    h <span class="token operator">=</span> geth<span class="token punctuation">(</span><span class="token string">'http://www.pythonchallenge.com/pc/def/linkedlist.php?busynothing='</span><span class="token operator">+</span>num<span class="token punctuation">)</span>    raw <span class="token operator">=</span> h<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>raw<span class="token punctuation">)</span>    cookie <span class="token operator">=</span>h<span class="token punctuation">.</span>getheader<span class="token punctuation">(</span><span class="token string">"Set-Cookie"</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># print(cookie)</span>    info <span class="token operator">+=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">'info=(.*?);'</span><span class="token punctuation">,</span>cookie<span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>    match <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">'the next busynothing is (\d+)'</span><span class="token punctuation">,</span>raw<span class="token punctuation">)</span>    <span class="token keyword">if</span> match <span class="token operator">==</span>None<span class="token punctuation">:</span>        <span class="token keyword">break</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        num <span class="token operator">=</span>match<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># print(info)</span><span class="token triple-quoted-string string">"""BZh91AY%26SY%94%3A%E2I%00%00%21%19%80P%81%11%00%AFg%9E%A0+%00hE%3DM%B5%23%D0%D4%D1%E2%8D%06%A9%FA%26S%D4%D3%21%A1%EAi7h%9B%9A%2B%BF%60%22%C5WX%E1%ADL%80%E8V%3C%C6%A8%DBH%2632%18%A8x%01%08%21%8DS%0B%C8%AF%96KO%CA2%B0%F1%BD%1Du%A0%86%05%92s%B0%92%C4Bc%F1w%24S%85%09%09C%AE%24%90"""</span>res <span class="token operator">=</span> unquote_to_bytes<span class="token punctuation">(</span>info<span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">"+"</span><span class="token punctuation">,</span><span class="token string">"%20"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># æš‚æ—¶ä¸çŸ¥é“ä¸ºä»€ä¹ˆè¦æŠŠåŠ å˜æˆç©ºæ ¼ï¼Œä¸è¿‡infoç¡®å®æœ‰ä¸€ä¸ª+å•¦</span><span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>bz2<span class="token punctuation">.</span>decompress<span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># is it the 26th already? call his father and inform him that "the flowers are on their way". he'll understand.</span><span class="token comment" spellcheck="true"># æç¤ºæ‰¾Mozartçˆ¶äº²Leopold"</span></code></pre><p>æç¤ºåˆ°ç¬¬13å…³ï¼Œç»§ç»­æ‰“ç”µè¯</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># refer to level 13</span><span class="token keyword">from</span> xmlrpc<span class="token punctuation">.</span>client <span class="token keyword">import</span> ServerProxyconn <span class="token operator">=</span> ServerProxy<span class="token punctuation">(</span><span class="token string">"http://www.pythonchallenge.com/pc/phonebook.php"</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>conn<span class="token punctuation">.</span>phone<span class="token punctuation">(</span><span class="token string">"Leopold"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># output 555-VIOLIN</span><span class="token comment" spellcheck="true"># http://www.pythonchallenge.com/pc/return/violin.html</span><span class="token comment" spellcheck="true"># no! i mean yes! but ../stuff/violin.php.</span></code></pre><p>ç‚¹å¼€<a href="http://www.pythonchallenge.com/pc/stuff/violin.php">violin.php</a>ï¼Œæ ¹æ®å‰é¢çš„æç¤ºï¼Œå‘Šè¯‰ä»–çˆ¹â€the flowers are on their wayâ€</p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> urllib<span class="token punctuation">.</span>request <span class="token keyword">import</span> Request<span class="token punctuation">,</span>urlopen<span class="token keyword">from</span> urllib<span class="token punctuation">.</span>parse <span class="token keyword">import</span> quote_plus<span class="token comment" spellcheck="true">#is it the 26th already?</span><span class="token comment" spellcheck="true"># call his father and inform him that "the flowers are on their way". he'll understand.</span>url <span class="token operator">=</span> url <span class="token operator">=</span> <span class="token string">"http://www.pythonchallenge.com/pc/stuff/violin.php"</span>msg <span class="token operator">=</span> <span class="token string">"the flowers are on their way"</span>req <span class="token operator">=</span> Request<span class="token punctuation">(</span>url<span class="token punctuation">,</span> headers<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"Cookie"</span><span class="token punctuation">:</span> <span class="token string">"info="</span> <span class="token operator">+</span> quote_plus<span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>urlopen<span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p>output</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>it's me. what do you want?<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../style.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>center</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>font</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>gold<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>leopold.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>oh well, don't you dare to forget the balloons.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>font</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><h2 id="level-18-ballons-2020-11-13"><a href="#level-18-ballons-2020-11-13" class="headerlink" title="level_18_ballons_2020.11.13"></a>level_18_ballons_2020.11.13</h2><p><img src="https://pic4.zhimg.com/80/v2-35ed8d88887ea76a93f2742932cedc83.png" alt="Image"><br>Link: <a href="http://www.pythonchallenge.com/pc/return/balloons.html">http://www.pythonchallenge.com/pc/return/balloons.html</a></p><h3 id="1-åŒºåˆ†ä¸¤ä¸ªæ•°æ®çš„å¼‚åŒdifflib-Differ-compare-a-b"><a href="#1-åŒºåˆ†ä¸¤ä¸ªæ•°æ®çš„å¼‚åŒdifflib-Differ-compare-a-b" class="headerlink" title="1.åŒºåˆ†ä¸¤ä¸ªæ•°æ®çš„å¼‚åŒdifflib.Differ().compare(a, b)"></a>1.åŒºåˆ†ä¸¤ä¸ªæ•°æ®çš„å¼‚åŒdifflib.Differ().compare(a, b)</h3><p><code>difflib.Differ().compare(a, b)</code> will generate<br>lines start with +: appear in a not in b<br>lines start with -: appear in b not in a<br>others: appear in both</p><h3 id="2-bytes-amp-int-str-16"><a href="#2-bytes-amp-int-str-16" class="headerlink" title="2.bytes()&amp;int(str,16)"></a>2.bytes()&amp;int(str,16)</h3><p>16è¿›åˆ¶å½¢å¼çš„å­—ç¬¦å¦‚ä½•è½¬æˆå­—èŠ‚ç ï¼Œç”¨bytes()<br>é¦–å…ˆè¦å…ˆç”¨int(str,16)å°†å­—ç¬¦åˆ—è¡¨è½¬åŒ–ä¸º10è¿›åˆ¶çš„æ•°å­—åˆ—è¡¨ï¼Œæ‰èƒ½ç”¨bytes()</p><h3 id="3-list-53"><a href="#3-list-53" class="headerlink" title="3.list [:53]"></a>3.list [:53]</h3><p>å¿˜äº†ï¼Œåˆ—è¡¨åˆ‡ç‰‡æ˜¯å·¦å¼€å³é—­äº†â€¦â€¦ğŸ˜³</p><pre class=" language-python"><code class="language-python">bytes<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">74</span><span class="token punctuation">,</span> <span class="token number">158</span><span class="token punctuation">,</span> <span class="token number">198</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">185</span><span class="token punctuation">,</span> <span class="token number">141</span><span class="token punctuation">,</span> <span class="token number">219</span><span class="token punctuation">,</span> <span class="token number">243</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">141</span><span class="token punctuation">,</span> <span class="token number">74</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">112</span><span class="token punctuation">,</span> <span class="token number">154</span><span class="token punctuation">,</span> <span class="token number">121</span><span class="token punctuation">,</span> <span class="token number">49</span><span class="token punctuation">,</span> <span class="token number">149</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># â†’ b'J\x9e\xc6\x05\n\xb9\x8d\xdb\xf3P\x8dJdp\x9ay1\x95'</span></code></pre><p>go to <a href="http://www.pythonchallenge.com/pc/return/bright.html">http://www.pythonchallenge.com/pc/return/bright.html</a>, show </p><blockquote><p>ness<br>so go to <a href="http://www.pythonchallenge.com/pc/return/brightness.html">http://www.pythonchallenge.com/pc/return/brightness.html</a></p><!-- maybe consider deltas.gz --></blockquote><p>ä¸‹è½½delta.gz,æ‰“å¼€delta.txtï¼Œæ˜æ˜¾çœ‹åˆ°ä¸¤æ å¾ˆç›¸ä¼¼çš„ä¿¡æ¯ï¼Œå‰é¢æç¤ºè¿™ä¸€å…³è¦tell the differenceï¼Œå¯¹äºè¿™ä¸¤æ çš„ä¿¡æ¯ï¼Œæˆ‘ä»¬è¦ç”¨åˆ°difflibæ¥æ¯”è¾ƒå®ƒä»¬ï¼Œç„¶åå°†å¾—åˆ°çš„ä¿¡æ¯decodeï¼Œè¾“å‡ºä¸ºä¸‰å¼ å›¾ç‰‡<br><img src="https://pic4.zhimg.com/80/v2-824904b23ee2f5cbd6bd6cf282d84b8c.png" alt="delta.txt"><br><strong>è§£é¢˜ä»£ç </strong></p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> gzip<span class="token keyword">import</span> difflibdata <span class="token operator">=</span> gzip<span class="token punctuation">.</span>open<span class="token punctuation">(</span><span class="token string">"assets/deltas.gz"</span><span class="token punctuation">)</span>d1<span class="token punctuation">,</span> d2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">for</span> line <span class="token keyword">in</span> data<span class="token punctuation">:</span>    d1<span class="token punctuation">.</span>append<span class="token punctuation">(</span>line<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">53</span><span class="token punctuation">]</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'\n'</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># é€‰æ‹©53æ˜¯åˆ—è¡¨å·¦å¼€å³é—­ï¼Œè®°å¾—æ¯ä¸€è¡Œéœ€è¦æ‰‹åŠ¨åŠ \n</span>    d2<span class="token punctuation">.</span>append<span class="token punctuation">(</span>line<span class="token punctuation">[</span><span class="token number">56</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># å› ä¸ºåé¢è‡ªå¸¦\n</span>compare <span class="token operator">=</span> difflib<span class="token punctuation">.</span>Differ<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>compare<span class="token punctuation">(</span>d1<span class="token punctuation">,</span> d2<span class="token punctuation">)</span>f <span class="token operator">=</span> open<span class="token punctuation">(</span><span class="token string">"output/level_18_f.png"</span><span class="token punctuation">,</span> <span class="token string">"wb"</span><span class="token punctuation">)</span>f1 <span class="token operator">=</span> open<span class="token punctuation">(</span><span class="token string">"output/level_18_f1.png"</span><span class="token punctuation">,</span> <span class="token string">"wb"</span><span class="token punctuation">)</span>f2 <span class="token operator">=</span> open<span class="token punctuation">(</span><span class="token string">"output/level_18_f2.png"</span><span class="token punctuation">,</span> <span class="token string">"wb"</span><span class="token punctuation">)</span><span class="token keyword">for</span> line <span class="token keyword">in</span> compare<span class="token punctuation">:</span>    <span class="token comment" spellcheck="true"># print(line)</span>    <span class="token comment" spellcheck="true"># print([int(hex, 16) for hex in line[2:].strip().split(" ") if hex])</span>    bs <span class="token operator">=</span> bytes<span class="token punctuation">(</span><span class="token punctuation">[</span>int<span class="token punctuation">(</span>hex<span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span> <span class="token keyword">for</span> hex <span class="token keyword">in</span> line<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span> <span class="token keyword">if</span> hex<span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>bs<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># appear in d1 not in d2</span>    <span class="token keyword">if</span> line<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'+'</span><span class="token punctuation">:</span>        f1<span class="token punctuation">.</span>write<span class="token punctuation">(</span>bs<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># appear in d2 not in d1</span>    <span class="token keyword">elif</span> line<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'-'</span><span class="token punctuation">:</span>        f2<span class="token punctuation">.</span>write<span class="token punctuation">(</span>bs<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># appear in both</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>bs<span class="token punctuation">)</span>f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>f1<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>f2<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p><img src="https://pic4.zhimg.com/80/v2-52ca5bb9b74c6c1a7d80ee1d58d94be0.png" alt="f"></p><div align="center" style="color:red">f.png</div><p><img src="https://pic4.zhimg.com/80/v2-4df5f46e8ff0e6af8a5f8b355c32574f.png" alt="f1"></p><div align="center" style="color:red">f2.png</div><p><img src="https://pic4.zhimg.com/80/v2-b2d6a66e7468e84f9e2fc1c7ce145539.png" alt="f2"></p><div align="center" style="color:red">f2.png</div><p>so next level: <a href="http://www.pythonchallenge.com/pc/hex/bin.html">http://www.pythonchallenge.com/pc/hex/bin.html</a><br>username: butter<br>password: fly</p><h2 id="level-19-bin-2020-11-14"><a href="#level-19-bin-2020-11-14" class="headerlink" title="level_19_bin_2020.11.14"></a>level_19_bin_2020.11.14</h2><p><a href="https://www.cnblogs.com/yongdaimi/p/10722355.html">éŸ³é¢‘å±æ€§ç›¸å…³ï¼šå£°é“ã€é‡‡æ ·ç‡ã€é‡‡æ ·ä½æ•°ã€æ ·æœ¬æ ¼å¼ã€æ¯”ç‰¹ç‡</a></p><blockquote><p>WAVæœ‰ä¸‰ä¸ªé‡è¦çš„å‚æ•°ï¼šå£°é“æ•°ã€å–æ ·é¢‘ç‡å’Œé‡åŒ–ä½æ•°ã€‚<br>å£°é“æ•°ï¼šå¯ä»¥æ˜¯å•å£°é“æˆ–è€…æ˜¯åŒå£°é“<br>é‡‡æ ·é¢‘ç‡ï¼šä¸€ç§’å†…å¯¹å£°éŸ³ä¿¡å·çš„é‡‡é›†æ¬¡æ•°ï¼Œå¸¸ç”¨çš„æœ‰8kHz, 16kHz, 32kHz, &gt;48kHz, 11.025kHz, 22.05kHz, 44.1kHz<br>é‡åŒ–ä½æ•°ï¼šç”¨å¤šå°‘bitè¡¨è¾¾ä¸€æ¬¡é‡‡æ ·æ‰€é‡‡é›†çš„æ•°æ®ï¼Œé€šå¸¸æœ‰8bitã€16bitã€24bitå’Œ&gt;32bitç­‰å‡ ç§<br>Wave_read.getnchannels()<br>è¿”å›å£°é“æ•°é‡ï¼ˆ1 ä¸ºå•å£°é“ï¼Œ2 ä¸ºç«‹ä½“å£°ï¼‰</p><p>Wave_read.getsampwidth()<br>è¿”å›é‡‡æ ·å­—èŠ‚é•¿åº¦ã€‚</p><p>Wave_read.getframerate()<br>è¿”å›é‡‡æ ·é¢‘ç‡ã€‚</p><p>Wave_read.getnframes()Â¶<br>è¿”å›éŸ³é¢‘æ€»å¸§æ•°ã€‚<br>Wave_read.readframes(n)<br>è¯»å–å¹¶è¿”å›ä»¥ bytes å¯¹è±¡è¡¨ç¤ºçš„æœ€å¤š n å¸§éŸ³é¢‘ã€‚</p></blockquote><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> base64<span class="token keyword">import</span> wave<span class="token comment" spellcheck="true"># å°†view-source:http://www.pythonchallenge.com/pc/hex/bin.htmlçš„base64ç¼–ç å¤åˆ¶ä¸ºæ–‡æœ¬å¤„ç†</span>message <span class="token operator">=</span> open<span class="token punctuation">(</span><span class="token string">"assets/level_19.txt"</span><span class="token punctuation">,</span> <span class="token string">"rb"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>open<span class="token punctuation">(</span><span class="token string">'output/level_19_indian.wav'</span><span class="token punctuation">,</span> <span class="token string">'wb'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>write<span class="token punctuation">(</span>base64<span class="token punctuation">.</span>decodebytes<span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p>å¾—åˆ°çš„wavæ‰“å¼€ä¹‹åå¬åˆ°sorryâ€¦â€¦<br>æ‰“å¼€<a href="http://www.pythonchallenge.com/pc/hex/sorry.html">http://www.pythonchallenge.com/pc/hex/sorry.html</a><br>å¾—åˆ°- â€œwhat are you apologizing for?â€<br>å›å¤´çœ‹ç½‘é¡µæ˜¾ç¤ºçš„åœ°å›¾ï¼Œé™†åœ°çš„é¢œè‰²æ˜æ˜¾å’Œæµ·æ´‹çš„é¢œè‰²é¢ å€’äº†ï¼Œæç¤ºå°†éŸ³é¢‘çš„å¸§é¢ å€’</p><pre class=" language-python"><code class="language-python">w <span class="token operator">=</span> wave<span class="token punctuation">.</span>open<span class="token punctuation">(</span><span class="token string">'output/level_19_indian.wav'</span><span class="token punctuation">,</span> <span class="token string">"rb"</span><span class="token punctuation">)</span>h <span class="token operator">=</span> wave<span class="token punctuation">.</span>open<span class="token punctuation">(</span><span class="token string">'output/level_19_result.wav'</span><span class="token punctuation">,</span> <span class="token string">"wb"</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>w<span class="token punctuation">.</span>getnchannels<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>w<span class="token punctuation">.</span>getsampwidth<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>w<span class="token punctuation">.</span>getframerate<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>h<span class="token punctuation">.</span>setnchannels<span class="token punctuation">(</span>w<span class="token punctuation">.</span>getnchannels<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>h<span class="token punctuation">.</span>setsampwidth<span class="token punctuation">(</span>w<span class="token punctuation">.</span>getsampwidth<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">//</span><span class="token number">2</span><span class="token punctuation">)</span>h<span class="token punctuation">.</span>setframerate<span class="token punctuation">(</span>w<span class="token punctuation">.</span>getframerate<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span>frames <span class="token operator">=</span> w<span class="token punctuation">.</span>readframes<span class="token punctuation">(</span>w<span class="token punctuation">.</span>getnframes<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># big_endiana å­—èŠ‚åºï¼Œä½åœ°å€ç«¯ å­˜æ”¾ é«˜ä½å­—èŠ‚ã€‚</span>wave<span class="token punctuation">.</span>big_endiana <span class="token operator">=</span> <span class="token number">1</span>h<span class="token punctuation">.</span>writeframes<span class="token punctuation">(</span>frames<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># for i in range(w.getnframes()):</span><span class="token comment" spellcheck="true">#     h.writeframes(w.readframes(1)[::-1])</span>h<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>å¬å‡ºYou are a idiot<br>æ‰“å¼€ <a href="http://www.pythonchallenge.com/pc/hex/idiot.html">http://www.pythonchallenge.com/pc/hex/idiot.html</a><br>â€œNow you should apologizeâ€¦â€<br><a href="http://www.pythonchallenge.com/pc/hex/idiot2.html">http://www.pythonchallenge.com/pc/hex/idiot2.html</a></p><h2 id="level-20-idiot2-2020-11-15"><a href="#level-20-idiot2-2020-11-15" class="headerlink" title="level_20_idiot2_2020.11.15"></a>level_20_idiot2_2020.11.15</h2><p>å¼€å§‹ç”¨Jupyterè·‘pythonä»£ç äº†ï¼Œæ„Ÿè§‰é£èµ·å‘€ï¼ï¼ï¼ï¼</p><p>åˆæ˜¯çœ‹ä¸æ‡‚çš„ä¸€å…³ï¼Œç›´æ¥copyç½‘ä¸Šçš„ä»£ç å§â€¦â€¦</p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">,</span> base64<span class="token punctuation">,</span>rerequest <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>Request<span class="token punctuation">(</span><span class="token string">'http://www.pythonchallenge.com/pc/hex/unreal.jpg'</span><span class="token punctuation">)</span>cred <span class="token operator">=</span> base64<span class="token punctuation">.</span>b64encode<span class="token punctuation">(</span>b<span class="token string">"butter:fly"</span><span class="token punctuation">)</span>request<span class="token punctuation">.</span>add_header<span class="token punctuation">(</span><span class="token string">"Authorization"</span><span class="token punctuation">,</span> <span class="token string">"Basic %s"</span> <span class="token operator">%</span> cred<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>headers<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># {'Authorization': 'Basic YnV0dGVyOmZseQ=='}</span>response <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>headers<span class="token punctuation">)</span></code></pre><pre><code>{'Authorization': 'Basic YnV0dGVyOmZseQ=='}Content-Type: image/jpegContent-Range: bytes 0-30202/2123456789Connection: closeTransfer-Encoding: chunkedDate: Sun, 15 Nov 2020 05:52:24 GMTServer: lighttpd/1.4.35</code></pre><pre class=" language-python"><code class="language-python">pattern <span class="token operator">=</span> re<span class="token punctuation">.</span>compile<span class="token punctuation">(</span><span class="token string">'bytes (\d+)-(\d+)/(\d+)'</span><span class="token punctuation">)</span>content_range <span class="token operator">=</span> response<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'content-range'</span><span class="token punctuation">]</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> end<span class="token punctuation">,</span> length<span class="token punctuation">)</span> <span class="token operator">=</span> pattern<span class="token punctuation">.</span>search<span class="token punctuation">(</span>content_range<span class="token punctuation">)</span><span class="token punctuation">.</span>groups<span class="token punctuation">(</span><span class="token punctuation">)</span>request<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'Range'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'bytes=%i-'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>int<span class="token punctuation">(</span>end<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>response <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>headers<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><pre><code>Content-Type: application/octet-streamContent-Transfer-Encoding: binaryContent-Range: bytes 30237-30283/2123456789Connection: closeTransfer-Encoding: chunkedDate: Sun, 15 Nov 2020 05:52:40 GMTServer: lighttpd/1.4.35we can go on in this way for really long time.</code></pre><p>So now the content between 30203 and 30236 is served, which is â€œWhy donâ€™t you respect my privacy?â€; continue for a few iterations:</p><pre class=" language-python"><code class="language-python">pattern <span class="token operator">=</span> re<span class="token punctuation">.</span>compile<span class="token punctuation">(</span><span class="token string">'bytes (\d+)-(\d+)/(\d+)'</span><span class="token punctuation">)</span>content_range <span class="token operator">=</span> response<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'content-range'</span><span class="token punctuation">]</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> end<span class="token punctuation">,</span> length<span class="token punctuation">)</span> <span class="token operator">=</span> pattern<span class="token punctuation">.</span>search<span class="token punctuation">(</span>content_range<span class="token punctuation">)</span><span class="token punctuation">.</span>groups<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>        request<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'Range'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'bytes=%i-'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>int<span class="token punctuation">(</span>end<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>        response <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span>request<span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>headers<span class="token punctuation">)</span>        <span class="token punctuation">(</span>start<span class="token punctuation">,</span> end<span class="token punctuation">,</span> length<span class="token punctuation">)</span> <span class="token operator">=</span> pattern<span class="token punctuation">.</span>search<span class="token punctuation">(</span>response<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'content-range'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>groups<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">except</span><span class="token punctuation">:</span>        <span class="token keyword">break</span></code></pre><pre><code>stop this!Content-Type: application/octet-streamContent-Transfer-Encoding: binaryContent-Range: bytes 30284-30294/2123456789Connection: closeTransfer-Encoding: chunkedDate: Sun, 15 Nov 2020 05:53:12 GMTServer: lighttpd/1.4.35invader! invader!Content-Type: application/octet-streamContent-Transfer-Encoding: binaryContent-Range: bytes 30295-30312/2123456789Connection: closeTransfer-Encoding: chunkedDate: Sun, 15 Nov 2020 05:53:13 GMTServer: lighttpd/1.4.35ok, invader. you are inside now. Content-Type: application/octet-streamContent-Transfer-Encoding: binaryContent-Range: bytes 30313-30346/2123456789Connection: closeTransfer-Encoding: chunkedDate: Sun, 15 Nov 2020 05:53:13 GMTServer: lighttpd/1.4.35</code></pre><p>The last request ends at 30346.</p><blockquote><p>Why donâ€™t you respect my privacy?<br>we can go on in this way for really long time.<br>stop this!<br>invader! invader!<br>ok, invader. you are inside now.</p></blockquote><pre class=" language-python"><code class="language-python">request<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'Range'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'bytes=%i-'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>int<span class="token punctuation">(</span>length<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>response <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>headers<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><pre><code>Content-Type: application/octet-streamContent-Transfer-Encoding: binaryContent-Range: bytes 2123456744-2123456788/2123456789Connection: closeTransfer-Encoding: chunkedDate: Sun, 15 Nov 2020 05:54:13 GMTServer: lighttpd/1.4.35esrever ni emankcin wen ruoy si drowssap eht</code></pre><p>â€‹    </p><p>The content is reversed: â€œthe password is your new nickname in reverseâ€. The â€œnicknameâ€ is â€œinvaderâ€, so password is â€œredavniâ€. Now â€œreverseâ€ the search:</p><pre class=" language-python"><code class="language-python">request<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'Range'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'bytes=2123456743-'</span>response <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>headers<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><pre><code>Content-Type: application/octet-streamContent-Transfer-Encoding: binaryContent-Range: bytes 2123456712-2123456743/2123456789Connection: closeTransfer-Encoding: chunkedDate: Sun, 15 Nov 2020 05:54:52 GMTServer: lighttpd/1.4.35and it is hiding at 1152983631.</code></pre><pre class=" language-python"><code class="language-python">request<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'Range'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'bytes=1152983631-'</span>response <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token keyword">with</span> open<span class="token punctuation">(</span><span class="token string">"output/level_21.zip"</span><span class="token punctuation">,</span> <span class="token string">"wb"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>    f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>response<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p>Yes! This is really level 21 in here.<br>And yes, After you solve it, youâ€™ll be in level 22!</p><p>Now for the level:</p><ul><li>We used to play this game when we were kids</li><li>When I had no idea what to do, I looked backwards.</li></ul><h2 id="level-21-2020-11-17"><a href="#level-21-2020-11-17" class="headerlink" title="level_21_2020.11.17"></a>level_21_2020.11.17</h2><blockquote><p>å•Šå•Šå•Šå•Šï¼Œæ˜¨å¤©å¿™ç€åšåˆ†å­ç”Ÿç‰©å­¦ä½œä¸šå’Œæ•´hexoçš„åŸŸåï¼Œåæ¥24ï¼š00ç”µè„‘å‡†æ—¶æ²¡ç”µå…³æœºå•¦ï¼Œåªå¥½åšè„¸çš®ä»Šå¤©è¡¥å•¦ï¼</p></blockquote><blockquote><p>Yes! This is really level 21 in here. And yes, After you solve &gt;it, youâ€™ll be in level 22!<br>Now for the level:<br>We used to play this game when we were kids<br>When I had no idea what to do, I looked backwards.<br>è¿™ä¸€å…³ä¸»è¦è¿‡ç¨‹æ˜¯å¯¹package.packæ–‡ä»¶ä¸æ–­è¿›è¡Œè§£å‹ã€‚æ ¹æ®ä¸Šä¸€æ¬¡è§£å‹å¾—åˆ°çš„ç»“æœï¼Œåˆ¤æ–­ä¸‹ä¸€æ¬¡è§£å‹ç”¨zlibè¿˜æ˜¯bz2ï¼Œä»¥åŠåˆ¤æ–­å¾—åˆ°çš„æ•°æ®æ˜¯æ­£å‘çš„è¿˜æ˜¯è¦reverse.<br>è€ƒå¯Ÿå¤šç§ç¼–ç æ ¼å¼çš„è¿ç”¨ï¼Œè§‚å¯Ÿâ€œpackage.packâ€ä¸­çš„æ•°æ®ï¼Œå‘ç°æ˜¯ä»¥bâ€x\x9câ€å¼€å¤´çš„ï¼Œè¿™æ˜¯zlibç®—æ³•å‹ç¼©çš„æ•°æ®ï¼Œä½¿ç”¨zlibæ¨¡å—è§£ç ã€‚é‡å¤å‡ æ¬¡ï¼Œå‘ç°æœ‰ä»¥bâ€BZâ€å¼€å¤´çš„ï¼Œè¿™æ˜¯bz2å‹ç¼©çš„æ•°æ®ï¼Œä½¿ç”¨bz2æ¨¡å—è§£ç ã€‚åˆé‡å¤å‡ æ¬¡ï¼Œå‘ç°æœ‰ä»¥bâ€\x80\x8dâ€å¼€å¤´çš„ï¼Œçœ‹çœ‹ç¬¬2æ¡æç¤ºï¼Œå‘ç°å­—èŠ‚æµæ˜¯ä»¥bâ€\x9cxâ€ç»“å°¾çš„ï¼Œåè½¬æ•´ä¸ªå­—èŠ‚æµã€‚æœ€ç»ˆå¾—åˆ°ä¸€å¥è¯â€œlook at your logsâ€ã€‚</p></blockquote><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> zlib<span class="token keyword">import</span> bz2result <span class="token operator">=</span> <span class="token string">""</span><span class="token keyword">with</span> open<span class="token punctuation">(</span><span class="token string">"output/package.pack"</span><span class="token punctuation">,</span> <span class="token string">"rb"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>    data <span class="token operator">=</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>        <span class="token comment" spellcheck="true">#x\x9cæ˜¯zlibå‹ç¼©çš„å¼€å¤´</span>        <span class="token keyword">if</span> data<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span>b<span class="token string">'x\x9c'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            data <span class="token operator">=</span> zlib<span class="token punctuation">.</span>decompress<span class="token punctuation">(</span>data<span class="token punctuation">)</span>            result <span class="token operator">+=</span> <span class="token string">' '</span>        <span class="token comment" spellcheck="true"># BZHbzip2 å‹ç¼©ç¼–ç </span>        <span class="token keyword">elif</span> data<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span>b<span class="token string">'BZh'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            data <span class="token operator">=</span> bz2<span class="token punctuation">.</span>decompress<span class="token punctuation">(</span>data<span class="token punctuation">)</span>            result <span class="token operator">+=</span> <span class="token string">'#'</span>        <span class="token comment" spellcheck="true"># When I had no idea what to do, I looked backwards.</span>        <span class="token keyword">elif</span> data<span class="token punctuation">.</span>endswith<span class="token punctuation">(</span>b<span class="token string">'\x9cx'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            data <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>            result <span class="token operator">+=</span> <span class="token string">'\n'</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            <span class="token keyword">break</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># b'sgol ruoy ta kool'</span><span class="token comment" spellcheck="true">### reverse</span><span class="token comment" spellcheck="true">#look at your logs</span><span class="token comment" spellcheck="true">##</span><span class="token comment" spellcheck="true">#?? æ²¡æœ‰ logs å•Šï¼Œè®°å½•å˜åŒ–ï¼Ÿè¿™é‡Œæœ‰å˜åŒ–çš„å°±æ˜¯å‹ç¼©æ–¹æ³•,å°±æŠŠè¿™ä¸‰ç§æ–¹æ³•ç¼–å·ä¸€ä¸‹</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span></code></pre><pre><code>      ###          ###      ########    ########    ##########  ########      #######      #######    #########   #########   #########   #########    ##     ##    ##     ##   ##      ##  ##      ##  ##          ##      ##  ##           ##       ##  ##      ##  ##      ##  ##          ##      ##  ##           ##       ##  #########   #########   ########    #########   ##           ##       ##  ########    ########    ########    ########    ##           ##       ##  ##          ##          ##          ##   ##      ##     ##    ##     ##   ##          ##          ##          ##    ##      #######      #######    ##          ##          #########   ##     ##       ###          ###      ##          ##          ##########  ##      ##</code></pre><h2 id="level-22-2020-11-17"><a href="#level-22-2020-11-17" class="headerlink" title="level_22_2020.11.17"></a>level_22_2020.11.17</h2><p><a href="http://www.pythonchallenge.com/pc/hex/copper.html">http://www.pythonchallenge.com/pc/hex/copper.html</a></p><p><img src="https://pic4.zhimg.com/80/v2-d85ac1b3c4e471f8dc8f6cd22cbafdbe.png" alt="leverl_22"></p><p><strong>Solution</strong></p><p>æŸ¥çœ‹æºä»£ç æç¤ºä¸‹è½½æ–‡ä»¶â€œwhite.gifâ€<a href="http://www.pythonchallenge.com/pc/hex/white.gif">http://www.pythonchallenge.com/pc/hex/white.gif</a></p><p>å‘ç°æ¯ä¸€å¸§éƒ½æ˜¯é»‘çš„ï¼Œä½†æ¯ä¸€å¸§éƒ½æœ‰ä¸€ä¸ªåƒç´ ç‚¹ä¸æ˜¯çº¯é»‘çš„ RGB != (0,0,0)ï¼Œä¸”è¯¥åƒç´ éƒ½åœ¨ä¸­å¿ƒç‚¹(100,100)é™„è¿‘ï¼Œå†ç”±æ¸¸æˆæ‘‡æ†å¾—åˆ°å¯å‘ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œè¯¦è§ä¸‹è¡¨</p><table><thead><tr><th>å¸§</th><th>éé»‘ç‚¹ä½ç½®</th><th>å®é™…ä½ç½®</th></tr></thead><tbody><tr><td>1</td><td>(100,100)</td><td>(100,100) å½’é›¶</td></tr><tr><td>2</td><td>( 98,102)</td><td>( 98,102)</td></tr><tr><td>3</td><td>( 98,100)</td><td>( 96,102)</td></tr><tr><td>4</td><td>(100,102)</td><td>( 96,104)</td></tr><tr><td>5</td><td>(100,100)</td><td>(100,100) å½’é›¶</td></tr></tbody></table><p>æŠŠä¸¤æ¬¡å½’é›¶æ“ä½œä¹‹é—´ï¼Œæ¯ä¸€å¸§çš„å®é™…ä½ç½®éƒ½ç”»å‡ºæ¥ï¼Œå°±èƒ½å¾—åˆ°ä¸€å¹…å›¾æ¡ˆã€‚æœ€ç»ˆå‘ç°ä¸€å…±æœ‰5å¹…å›¾æ¡ˆï¼ŒæŒ‰é¡ºåºç»˜åˆ¶å‡ºæ¥ï¼Œå‘ç°æ˜¯ä¸€ä¸ªå•è¯â€œbonusâ€ã€‚</p><ul><li>gif. n_frameè¿”å›æ‰€æœ‰å…³é”®å¸§</li><li>gif.seek()åœ¨ç»™å®šçš„æ–‡ä»¶åºåˆ—ä¸­æŸ¥æ‰¾æŒ‡å®šçš„å¸§ã€‚å¦‚æœæŸ¥æ‰¾è¶…è¶Šäº†åºåˆ—çš„æœ«å°¾ï¼Œåˆ™äº§ç”Ÿä¸€ä¸ªEOFErrorå¼‚å¸¸ã€‚å½“æ–‡ä»¶åºåˆ—è¢«æ‰“å¼€æ—¶ï¼ŒPILåº“è‡ªåŠ¨æŒ‡å®šåˆ°ç¬¬0å¸§ä¸Šã€‚</li><li>gif.tell()è¿”å›å½“å‰å¸§</li></ul><p><strong>Code</strong></p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token punctuation">,</span> ImageDrawgif <span class="token operator">=</span> Image<span class="token punctuation">.</span>open<span class="token punctuation">(</span><span class="token string">"assets/white.gif"</span><span class="token punctuation">)</span>new <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">'RGB'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># é»˜è®¤èƒŒæ™¯ä¸ºé»‘</span>draw <span class="token operator">=</span> ImageDraw<span class="token punctuation">.</span>Draw<span class="token punctuation">(</span>new<span class="token punctuation">)</span>cx<span class="token punctuation">,</span> cy <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span> <span class="token comment" spellcheck="true"># ç”»ç‚¹çš„èµ·å§‹ä½ç½®</span><span class="token keyword">for</span> frame <span class="token keyword">in</span> range<span class="token punctuation">(</span>gif<span class="token punctuation">.</span>n_frames<span class="token punctuation">)</span><span class="token punctuation">:</span>    gif<span class="token punctuation">.</span>seek<span class="token punctuation">(</span>frame<span class="token punctuation">)</span>    left<span class="token punctuation">,</span> upper<span class="token punctuation">,</span> right<span class="token punctuation">,</span> lower <span class="token operator">=</span> gif<span class="token punctuation">.</span>getbbox<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># å¾—åˆ°ä¸100,100çš„ç›¸å¯¹ä½ç½®</span>    dx <span class="token operator">=</span> left <span class="token operator">-</span> <span class="token number">100</span>    dy <span class="token operator">=</span> upper <span class="token operator">-</span> <span class="token number">100</span>    <span class="token comment" spellcheck="true"># ä¸€ä¸ªå›¾æ¡ˆç”»å®Œäº†,ç§»è¿œä¸€ç‚¹,ç»§ç»­ç”»</span>    <span class="token keyword">if</span> dx <span class="token operator">==</span> dy <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>        cx <span class="token operator">+=</span> <span class="token number">50</span>        cy <span class="token operator">=</span> <span class="token number">100</span>    cx <span class="token operator">+=</span> dx    cy <span class="token operator">+=</span> dy    draw<span class="token punctuation">.</span>point<span class="token punctuation">(</span><span class="token punctuation">[</span>cx<span class="token punctuation">,</span> cy<span class="token punctuation">]</span><span class="token punctuation">)</span>new<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><h2 id="level-23-2020-12-15"><a href="#level-23-2020-12-15" class="headerlink" title="level_23_2020.12.15"></a>level_23_2020.12.15</h2><blockquote><p>é¢ï¼Œä¹‹å‰ä¸ºäº†è€ƒè¯•å‘¨ï¼Œäºæ˜¯æ‹–äº†å¥½ä¹…ï¼Œç„¶åå°±ä¸€ç›´æ¡ä¸èµ·æ¥äº†å“‡ï¼å‰§åˆ·è…»äº†ï¼Œbç«™æç¬‘è§†é¢‘ä¹Ÿè§‰å¾—ä¸å¥½ç©äº†ï¼Œå°±åˆå›æ¥å†™pythonäº†<br>å¸Œæœ›ä¹‹åå¯ä»¥ä¸€ç›´åšæŒä¸‹å»å“‡ï¼ï¼ï¼ï¼</p></blockquote><p>è§£é¢˜æ€è·¯ï¼šæºä»£ç é‡Œçš„â€™va gur snpr bs jung?â€™æ˜æ˜¾ä¹Ÿæ˜¯è§£ç ï¼Œtitleä¸ºâ€what is this module?â€œï¼Œç»“åˆåé¢çš„â€it canâ€™t find it. this is an undocumented moduleâ€ï¼ŒçŒœæµ‹ä¸ºthisæ¨¡å—ï¼ˆå°±æ˜¯å¤§åé¼é¼çš„The Zen of Pythonå•¦ï¼‰ï¼<br>æ–¹æ³•1ï¼šå¯ä»¥å°è¯•ç”¨ocré‚£é¢˜ï¼ˆlevel_1ï¼‰çš„ä»£ç è¯•è¯•ï¼Œä¾æ¬¡æ£€éªŒ26ä¸ªåç§»é‡èƒ½å¦å¾—åˆ°ä¸€ä¸ªæœ‰å«ä¹‰çš„å¥å­</p><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">ocr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    text <span class="token operator">=</span> <span class="token string">'va gur snpr bs jung?'</span>    <span class="token keyword">for</span> offset <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">26</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        trans <span class="token operator">=</span> str<span class="token punctuation">.</span>maketrans<span class="token punctuation">(</span>string<span class="token punctuation">.</span>ascii_lowercase<span class="token punctuation">,</span>string<span class="token punctuation">.</span>ascii_lowercase<span class="token punctuation">[</span>offset<span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token operator">+</span> string<span class="token punctuation">.</span>ascii_lowercase<span class="token punctuation">[</span><span class="token punctuation">:</span>offset<span class="token punctuation">]</span><span class="token punctuation">)</span>        new_text <span class="token operator">=</span> text<span class="token punctuation">.</span>translate<span class="token punctuation">(</span>trans<span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>new_text<span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    ocr<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>å‘ç°åç§»é‡ä¸º13æ—¶ï¼Œå­—ç¬¦å¯è§£ç ä¸ºin the face of what?</p><pre><code>0 â†’ va gur snpr bs jung?1 â†’ wb hvs toqs ct kvoh?2 â†’ xc iwt uprt du lwpi?3 â†’ yd jxu vqsu ev mxqj?4 â†’ ze kyv wrtv fw nyrk?5 â†’ af lzw xsuw gx ozsl?6 â†’ bg max ytvx hy patm?7 â†’ ch nby zuwy iz qbun?8 â†’ di ocz avxz ja rcvo?9 â†’ ej pda bwya kb sdwp?10 â†’ fk qeb cxzb lc texq?11 â†’ gl rfc dyac md ufyr?12 â†’ hm sgd ezbd ne vgzs?`13 â†’ in the face of what?`14 â†’ jo uif gbdf pg xibu?15 â†’ kp vjg hceg qh yjcv?16 â†’ lq wkh idfh ri zkdw?17 â†’ mr xli jegi sj alex?18 â†’ ns ymj kfhj tk bmfy?19 â†’ ot znk lgik ul cngz?20 â†’ pu aol mhjl vm doha?21 â†’ qv bpm nikm wn epib?22 â†’ rw cqn ojln xo fqjc?23 â†’ sx dro pkmo yp grkd?24 â†’ ty esp qlnp zq hsle?25 â†’ uz ftq rmoq ar itmf?</code></pre><p>import this,é‡Œé¢æœ‰ä¸€å¥â€œIn the face of ambiguityâ€ï¼Œæ‰€ä»¥ç­”æ¡ˆå°±æ˜¯ambiguityï¼Œ<a href="http://www.pythonchallenge.com/pc/hex/ambiguity.html">http://www.pythonchallenge.com/pc/hex/ambiguity.html</a></p><pre><code>The Zen of Python, by Tim PetersBeautiful is better than ugly.Explicit is better than implicit.Simple is better than complex.Complex is better than complicated.Flat is better than nested.Sparse is better than dense.Readability counts.Special cases aren't special enough to break the rules.Although practicality beats purity.Errors should never pass silently.Unless explicitly silenced.In the face of ambiguity, refuse the temptation to guess.There should be one-- and preferably only one --obvious way to do it.Although that way may not be obvious at first unless you're Dutch.Now is better than never.Although never is often better than *right* now.If the implementation is hard to explain, it's a bad idea.If the implementation is easy to explain, it may be a good idea.Namespaces are one honking great idea -- let's do more of those!Gur Mra bs Clguba, ol Gvz Crgref</code></pre><p>æ€è·¯2ï¼š<br>å¦‚æœå°è¯•è¾“å…¥<code>print(this.s)</code>,ä½ ä¼šå‘ç°å¾—åˆ°çš„æ˜¯The Zen of pythonçš„åŠ å¯†ç‰ˆæœ¬ï¼Œè¾“å…¥<code>print(this.d)</code>,å¾—åˆ°çš„è§£å¯†æœ¬å­—å…¸,æ‰€ä»¥æ¨ç†å¾—åˆ°ç»™çš„é‚£ä¸ªå­—ç¬¦ä¸²ä¹Ÿæ˜¯è¿™æ ·åŠ å¯†çš„<br>æ–¹æ³•2:<br>ç®€å•ç²—æš´</p><pre class=" language-python"><code class="language-python">text <span class="token operator">=</span> <span class="token string">'va gur snpr bs jung?'</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">[</span>this<span class="token punctuation">.</span>d<span class="token punctuation">.</span>get<span class="token punctuation">(</span>c<span class="token punctuation">,</span>c<span class="token punctuation">)</span> <span class="token keyword">for</span> c <span class="token keyword">in</span> text<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#in the face of what?</span></code></pre><blockquote><p>è€å®è¯´,éš”äº†è¿™ä¹ˆä¹…,ä¸çŸ¥é“å†ç»§ç»­ç©python challengeè¿˜æœ‰æ²¡æœ‰å¿…è¦å“ˆ,ä½†æ˜¯æˆ‘å¥½åƒç¡®å®æ²¡ä»€ä¹ˆå…¶ä»–æƒ³åˆ°èƒ½åšçš„äº‹äº†(å’¸é±¼ä¸€åª),æ‰€ä»¥å°±è„šè¸å®åœ°å§,æ€»è¦åšæŒä¸€ä»¶äº‹,æˆ‘ä¹Ÿç›¸ä¿¡å‰æ–¹æˆ–è®¸ä¼šæœ‰æ„æƒ³ä¸åˆ°çš„æ”¶è·.ä¸çŸ¥é“ä¸ºä»€ä¹ˆ,è¿›å…¥å¤§ä¸‰ä¹‹å,æ•´ä¸ªäººå˜å¾—æµ®èºä¸å ª,é™ä¸ä¸‹å¿ƒå»è¸å®å­¦ä¸œè¥¿,æˆ‘è§‰å¾—è¿™æ ·å¾ˆç³Ÿ!</p></blockquote><h2 id="level-24-maze-2020-12-16"><a href="#level-24-maze-2020-12-16" class="headerlink" title="level_24_maze_2020.12.16"></a>level_24_maze_2020.12.16</h2><p><img src="https://cdn.jsdelivr.net/gh/Achuan-2/PicBed/assets/maze-2020-12-18.png" alt="maze">]<br>å‘ç°VscodeçœŸçš„é€‚åˆæŠŠå›¾ç‰‡æ”¾å¤§åˆ°åƒç´ çº§<br><img src="https://cdn.jsdelivr.net/gh/Achuan-2/PicBed/assets/20201218190652-2020-12-18.png" alt="å›¾ç‰‡æ”¾å¤§"><br><strong>æ€è·¯</strong><br>  è¿™ä¸€å…³çœŸçš„å¥½æœ‰è¶£å‘€ï¼Œå°±æ˜¯å¾—å…ˆæ‰¾åˆ°è¿·å®«çš„entranceå’Œexitï¼Œç„¶åå°±éœ€è¦ä½¿ç”¨æ•°æ®ç»“æ„çš„çŸ¥è¯†æ¥èµ°è¿·å®«å•¦ï¼Œæˆ‘ç”¨çš„æ˜¯æ ˆæ·±åº¦æœç´¢ï¼Œé˜Ÿåˆ—å°±æ˜¯å¹¿åº¦æœç´¢äº†å§ï¼Œæ”¶é›†èµ°è¿·å®«çš„è·¯å¾„æ¯ä¸ªåƒç´ ä½ç½®ä»¥åŠç‚¹çš„Ré€šé“å€¼ï¼Œç„¶åè½¬åŒ–ä¸ºäºŒè¿›åˆ¶æ•°æ®ï¼Œå‘ç°å¼€å¤´æ˜¯PKï¼Œæç¤ºä¸ºå‹ç¼©åŒ…ï¼Œæ‰€ä»¥å°±å°†æ•°æ®ç”Ÿæˆä¸ºå‹ç¼©åŒ…ï¼Œè§£å‹å³å¾—åˆ°ä¸‹ä¸€å…³æç¤ºã€‚<br><strong>å­¦åˆ°</strong></p><ul><li>äºŒè¿›åˆ¶å¼€å¤´bâ€™PKâ€™ä¸ºå‹ç¼©åŒ…</li><li><code>ImageDraw.Draw</code>æ¨¡å—</li><li>æ ˆå’Œé˜Ÿåˆ—å¤ä¹ </li></ul><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token keyword">from</span> PIL <span class="token keyword">import</span> ImageDrawmaze <span class="token operator">=</span> Image<span class="token punctuation">.</span>open<span class="token punctuation">(</span><span class="token string">"assets/maze.png"</span><span class="token punctuation">)</span>directions <span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token comment" spellcheck="true"># æ–¹å‘</span>white <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">)</span>w<span class="token punctuation">,</span>h <span class="token operator">=</span> maze<span class="token punctuation">.</span>sizenext_map <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true"># é€šè¿‡for i in range(w): print(maze.getpixel((i, 0)))å¯çŸ¥å…¥å£çš„é»‘è‰²åƒç´ ä½ç½®</span>entrance <span class="token operator">=</span> <span class="token punctuation">(</span>w <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># é€šè¿‡ for i in range(w): print(maze.getpixel((i, h - 1)))å¯çŸ¥å‡ºå£ä½ç½®</span>exit <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> h <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># stackä»£è¡¨çš„ç”¨æ ˆæ¥å­˜å‚¨å¯èƒ½çš„è·¯å£</span>stack <span class="token operator">=</span> <span class="token punctuation">[</span>exit<span class="token punctuation">]</span><span class="token keyword">while</span> stack<span class="token punctuation">:</span>    pos <span class="token operator">=</span> stack<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># å½“å‰ä½ç½®</span>    <span class="token keyword">if</span> pos <span class="token operator">==</span> entrance<span class="token punctuation">:</span>        <span class="token keyword">break</span>    <span class="token keyword">for</span> d <span class="token keyword">in</span> directions<span class="token punctuation">:</span>        tmp <span class="token operator">=</span> <span class="token punctuation">(</span>pos<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> d<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> pos<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> d<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#tmpä»£è¡¨çš„æ˜¯å¯èƒ½çš„ä¸‹ä¸€ä¸ªä½ç½®</span>        <span class="token keyword">if</span> <span class="token operator">not</span> tmp <span class="token keyword">in</span> next_map <span class="token operator">and</span> <span class="token number">0</span> <span class="token operator">&lt;=</span> tmp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> w <span class="token operator">and</span> <span class="token number">0</span> <span class="token operator">&lt;=</span> tmp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> h <span class="token operator">and</span> maze<span class="token punctuation">.</span>getpixel<span class="token punctuation">(</span>tmp<span class="token punctuation">)</span> <span class="token operator">!=</span> white<span class="token punctuation">:</span>            next_map<span class="token punctuation">[</span>tmp<span class="token punctuation">]</span> <span class="token operator">=</span> pos  <span class="token comment" spellcheck="true"># next_mapæ”¾çš„æ˜¯ä¸‹ä¸€ä¸ªä½ç½®â†è¯¥ä½ç½®çš„å­—å…¸ï¼Œä½†è¯¥ç¨‹åºä¼šè®°å½•é”™è¯¯çš„è·¯çº¿è€Œä¸ä¼šåˆ é™¤ï¼Œè™½ç„¶ä¸å½±å“å›æº¯</span>            stack<span class="token punctuation">.</span>append<span class="token punctuation">(</span>tmp<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># ä¼šæŠŠæ‰€æœ‰å¯èƒ½çš„è·¯å£éƒ½å…¥æ ˆ</span>path <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>img <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">'RGBA'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">641</span><span class="token punctuation">,</span> <span class="token number">641</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span>draw <span class="token operator">=</span> ImageDraw<span class="token punctuation">.</span>Draw<span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token keyword">while</span> pos <span class="token operator">!=</span> exit<span class="token punctuation">:</span> <span class="token comment" spellcheck="true"># pos å°†ä»èµ·ç‚¹å¼€å§‹å›æº¯</span>    path<span class="token punctuation">.</span>append<span class="token punctuation">(</span>maze<span class="token punctuation">.</span>getpixel<span class="token punctuation">(</span>pos<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># åªè¾“å‡ºç¬¬ä¸€ä¸ªRGBå€¼</span>    draw<span class="token punctuation">.</span>point<span class="token punctuation">(</span>pos<span class="token punctuation">,</span>maze<span class="token punctuation">.</span>getpixel<span class="token punctuation">(</span>pos<span class="token punctuation">)</span><span class="token punctuation">)</span>    pos <span class="token operator">=</span> next_map<span class="token punctuation">[</span>pos<span class="token punctuation">]</span>img<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>img<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'output/level_24_path.png'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># print(path)</span><span class="token comment" spellcheck="true"># print(path[1::2])</span><span class="token comment" spellcheck="true"># print(bytes(path[1::2]))</span><span class="token comment" spellcheck="true"># open('output/level_24_maze.zip','wb').write(bytes(path))</span>open<span class="token punctuation">(</span><span class="token string">'output/level_24_maze.zip'</span><span class="token punctuation">,</span><span class="token string">'wb'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>write<span class="token punctuation">(</span>bytes<span class="token punctuation">(</span>path<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># path[1::2]çš„åŸå› åªæ˜¯å› ä¸ºRé€šé“å³çº¢ç‚¹éƒ½æ˜¯è‡³å°‘éƒ½æ˜¯é—´éš”åˆ†å¸ƒçš„</span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/Achuan-2/PicBed/assets/level_24_path-2020-12-18.png" alt="level_24_path"><br><img src="https://cdn.jsdelivr.net/gh/Achuan-2/PicBed/assets/20201218190741-2020-12-18.png" alt="æ”¾å¤§å›¾ç‰‡"></p><h2 id="level-25-waveæ‹¼å›¾-2020-12-17"><a href="#level-25-waveæ‹¼å›¾-2020-12-17" class="headerlink" title="level_25_waveæ‹¼å›¾_2020.12.17"></a>level_25_waveæ‹¼å›¾_2020.12.17</h2><p>Link: <a href="http://www.pythonchallenge.com/pc/hex/lake.html">http://www.pythonchallenge.com/pc/hex/lake.html</a><br><img src="https://cdn.jsdelivr.net/gh/Achuan-2/PicBed/assets/20201218184825-2020-12-18.png" alt="å…³å¡å›¾"></p><p><strong>æ€è·¯ï¼š</strong><br>çœ‹åˆ°å›¾ç‰‡åæ˜¯â€œlake1.jpgâ€ï¼Œæ ¹æ®æç¤ºå°è¯•è·å–â€œlake1.wavâ€ï¼Œæ–‡ä»¶å­˜åœ¨ï¼ŒçŒœæµ‹åº”è¯¥è¿˜æœ‰â€œlake2.wavâ€ï¼Œâ€œlake3.wavâ€ï¼Œâ€¦â€¦äºæ˜¯æ„é€ ä¸€ä¸ªç½‘ç»œçˆ¬è™«<br>ä»¥éŸ³é¢‘æ–¹å¼æ‰“å¼€æ–‡ä»¶ï¼Œå‘ç°éƒ½æ˜¯æ‚éŸ³ï¼Œæ ¹æ®å›¾ç‰‡ä¸­æ‹¼å›¾çš„æç¤ºï¼Œå°†æ¯ä¸ªéŸ³é¢‘è½¬åŒ–ä¸€å…±å›¾ç‰‡ï¼Œ25ä¸ªæ­£å¥½å¯¹åº”äº†å…³å¡å›¾ä¸­5*5æ‹¼å›¾ï¼Œç„¶åæŠŠ25ä¸ªå›¾ç‰‡æ‹¼åœ¨ä¸€èµ·ï¼Œå°±å¾—åˆ°ç»“æœå•¦<br><strong>å­¦åˆ°ï¼š</strong></p><ul><li>pythonåˆ›å»ºæ–‡ä»¶ä¸ä¼šè‡ªåŠ¨åˆ›å»ºæ–‡ä»¶å¤¹å—<ul><li>æ˜¯çš„ï¼Œå¦‚æœè·¯å¾„ä¸å­˜åœ¨ï¼Œå¿…é¡»æ‰‹åŠ¨å…ˆåˆ›å»ºï¼Œå¯ä»¥ä½¿ç”¨os.makedirs(path) <a href="https://blog.csdn.net/Homewm/article/details/80766894">https://blog.csdn.net/Homewm/article/details/80766894</a></li></ul></li><li>HTTPPasswordMgrWithDefaultRealm()ç±»å°†åˆ›å»ºä¸€ä¸ªå¯†ç ç®¡ç†å¯¹è±¡ï¼Œç”¨æ¥ä¿å­˜ HTTP è¯·æ±‚ç›¸å…³çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œä¸»è¦åº”ç”¨ä¸¤ä¸ªåœºæ™¯ï¼š<ul><li>éªŒè¯ä»£ç†æˆæƒçš„ç”¨æˆ·åå’Œå¯†ç  (ProxyBasicAuthHandler())</li><li>éªŒè¯Webå®¢æˆ·ç«¯çš„çš„ç”¨æˆ·åå’Œå¯†ç  (HTTPBasicAuthHandler())</li><li><a href="https://blog.csdn.net/weicao1990/article/details/80066655">https://blog.csdn.net/weicao1990/article/details/80066655</a></li></ul></li><li><code>Image.frombytes</code>ä»äºŒè¿›åˆ¶ä¸­åˆ›å»ºï¼Œim.paste()ç²˜è´´å›¾ç‰‡ä¸Šå»</li></ul><p><strong>code</strong></p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> urllib <span class="token keyword">import</span> request<span class="token punctuation">,</span> error<span class="token keyword">import</span> wave<span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token keyword">import</span> os<span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token string">"\033[31mLevel 25\033[0m"</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># åŸæ¥å¯ä»¥æ‰“å°çº¢è‰²å­—æ¬¸</span><span class="token keyword">def</span> <span class="token function">mkdir</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true"># åˆ›å»ºæ–‡ä»¶å¤¹å‡½æ•°</span>    folder <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span>path<span class="token punctuation">)</span>    <span class="token keyword">if</span> <span class="token operator">not</span> folder<span class="token punctuation">:</span>        os<span class="token punctuation">.</span>makedirs<span class="token punctuation">(</span>path<span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token string">"---new folder {path}---"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># çˆ¬è™«éƒ¨åˆ†</span><span class="token comment" spellcheck="true"># 1. æ„å»ºä¸€ä¸ªå¯†ç ç®¡ç†å¯¹è±¡ï¼Œç”¨æ¥ä¿å­˜éœ€è¦å¤„ç†çš„ç”¨æˆ·åå’Œå¯†ç </span>password_mgr <span class="token operator">=</span> request<span class="token punctuation">.</span>HTTPPasswordMgrWithDefaultRealm<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 2. æ·»åŠ è´¦æˆ·ä¿¡æ¯ï¼Œç¬¬ä¸€ä¸ªå‚æ•°realmæ˜¯ä¸è¿œç¨‹æœåŠ¡å™¨ç›¸å…³çš„åŸŸä¿¡æ¯ï¼Œä¸€èˆ¬æ²¡äººç®¡å®ƒéƒ½æ˜¯å†™Noneï¼Œåé¢ä¸‰ä¸ªå‚æ•°åˆ†åˆ«æ˜¯ ä»£ç†æœåŠ¡å™¨ã€ç”¨æˆ·åã€å¯†ç </span>password_mgr<span class="token punctuation">.</span>add_password<span class="token punctuation">(</span>    None<span class="token punctuation">,</span> <span class="token string">"http://www.pythonchallenge.com/"</span><span class="token punctuation">,</span> <span class="token string">"butter"</span><span class="token punctuation">,</span> <span class="token string">"fly"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 3. æ„å»ºä¸€ä¸ªHTTPåŸºç¡€ç”¨æˆ·å/å¯†ç éªŒè¯çš„HTTPBasicAuthHandlerå¤„ç†å™¨å¯¹è±¡ï¼Œå‚æ•°æ˜¯åˆ›å»ºçš„å¯†ç ç®¡ç†å¯¹è±¡</span>handler <span class="token operator">=</span> request<span class="token punctuation">.</span>HTTPBasicAuthHandler<span class="token punctuation">(</span>password_mgr<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># passowrd_mgrâ†’handlerï¼ŒHTTPBasicAuthHandleråŸºæœ¬çš„HTTPéªŒè¯å¤„ç†</span><span class="token comment" spellcheck="true"># 4. é€šè¿‡ build_opener()æ–¹æ³•ä½¿ç”¨è¿™äº›ä»£ç†Handlerå¯¹è±¡ï¼Œåˆ›å»ºè‡ªå®šä¹‰openerå¯¹è±¡ï¼Œ</span>opener <span class="token operator">=</span> request<span class="token punctuation">.</span>build_opener<span class="token punctuation">(</span>handler<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># handlerâ†’opener</span>mkdir<span class="token punctuation">(</span><span class="token string">"output/level_25"</span><span class="token punctuation">)</span><span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token string">"Processing {i:2d}..."</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">'\t'</span><span class="token punctuation">)</span>    url <span class="token operator">=</span> f<span class="token string">"http://www.pythonchallenge.com/pc/hex/lake{i}.wav"</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>        response <span class="token operator">=</span> opener<span class="token punctuation">.</span>open<span class="token punctuation">(</span>url<span class="token punctuation">)</span>    <span class="token keyword">except</span> error<span class="token punctuation">.</span>HTTPError<span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"HTTP ERROR 404"</span><span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        <span class="token keyword">with</span> open<span class="token punctuation">(</span>f<span class="token string">"output/level_25/lake{i}.wav"</span><span class="token punctuation">,</span> <span class="token string">"wb"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> file<span class="token punctuation">:</span> <span class="token comment" spellcheck="true"># 'wb'å†™å…¥äºŒè¿›åˆ¶æ–‡ä»¶</span>            data <span class="token operator">=</span> response<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>            file<span class="token punctuation">.</span>write<span class="token punctuation">(</span>data<span class="token punctuation">)</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Successfully Saved."</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># ä¸€å…±25ä¸ªwavæ–‡ä»¶</span><span class="token comment" spellcheck="true">#åˆ›å»ºå›¾ç‰‡ â†’æŠŠ25ä¸ªwavè½¬æˆ5*5çš„æ‹¼å›¾å—â†’åˆå¹¶å›¾ç‰‡</span>im <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">"RGB"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true"># wave.open()è¿”å›Wave_writeå¯¹è±¡</span>    <span class="token keyword">with</span> wave<span class="token punctuation">.</span>open<span class="token punctuation">(</span>f<span class="token string">"output/level_25/lake{i}.wav"</span><span class="token punctuation">,</span> <span class="token string">"rb"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> file<span class="token punctuation">:</span>        <span class="token comment" spellcheck="true"># getnframes()è¿”å›éŸ³é¢‘å¸§æ•°</span>        <span class="token comment" spellcheck="true"># readframes(n)æœ€å¤šè¯»å–å¹¶è¿”å›nå¸§éŸ³é¢‘ï¼Œä½œä¸ºå­—èŠ‚å¯¹è±¡ã€‚</span>        <span class="token comment" spellcheck="true"># file.readframes(file.getnframes())å°±æ˜¯å…ˆè¯»å–ä¸€å…±å‡ å¸§ï¼Œç„¶åæŠŠæ‰€æœ‰å¸§éƒ½è¾“å‡ºæˆäºŒè¿›åˆ¶</span>        data <span class="token operator">=</span> file<span class="token punctuation">.</span>readframes<span class="token punctuation">(</span>file<span class="token punctuation">.</span>getnframes<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        block_im <span class="token operator">=</span> Image<span class="token punctuation">.</span>frombytes<span class="token punctuation">(</span><span class="token string">"RGB"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>        x<span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token punctuation">(</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">5</span> <span class="token operator">*</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">5</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token comment" spellcheck="true"># è¶…è¿‡5ä¸ªå°±æ¢ä¸‹ä¸€è¡Œ</span>        im<span class="token punctuation">.</span>paste<span class="token punctuation">(</span>block_im<span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>im<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">"output/level_25/result.jpg"</span><span class="token punctuation">)</span></code></pre><h2 id="level-26-md5-2020-12-18"><a href="#level-26-md5-2020-12-18" class="headerlink" title="level_26_md5_2020.12.18"></a>level_26_md5_2020.12.18</h2><p>Link: <a href="http://www.pythonchallenge.com/pc/hex/decent.html">http://www.pythonchallenge.com/pc/hex/decent.html</a></p><p><strong>æ€è·¯ï¼š</strong><br>æºç è¯´å·²ç»å¾—åˆ°é‚®ç®±äº†ï¼ˆæˆ‘å’‹ä¸çŸ¥é“ï¼‰ï¼ŒåŸæ¥æ—©åœ¨ç¬¬19å…³ç½‘é¡µçš„æºä»£ç å°±ç»™äº†ä¸ªé‚®ç®±ï¼Œ<a href="mailto:leopold.moz@pythonchallenge.com">leopold.moz@pythonchallenge.com</a>ï¼Œç„¶åå‘é€ï¼Œæ ‡é¢˜ä¸ºApologizeï¼Œå†…å®¹ä¸ºSorryçš„é‚®ä»¶ï¼Œä½ å°±å¯ä»¥å¾—åˆ°ä»¥ä¸‹å›å¤:</p><blockquote><p>Never mind that.</p><p>Have you found my broken zip?</p><p>md5: bbb8b499a0eef99b52c7f13f4e78c24b</p><p>Can you believe what one mistake can lead to?</p></blockquote><p>æ„æ€å°±æ˜¯è¯´ä¹‹å‰æˆ‘ä»¬mazeé‚£å…³å¾—åˆ°çš„å‹ç¼©åŒ…ä¸æ˜¯é™¤äº†å›¾ç‰‡è¿˜æœ‰ä¸€å…±å‹ç¼©åŒ…å—ï¼Ÿå¦‚æœè§£å‹çš„è¯å°±ä¼šæç¤ºæ ¡éªŒå€¼é”™è¯¯ï¼Œè¿™ä¸ªå›å¤å°±æ˜¯è¯´å‹ç¼©åŒ…çš„äºŒè¿›åˆ¶æ•°æ®æœ‰ä¸€ä¸ªé”™è¯¯ï¼Œè¦è®©å’±ä¸€ä¸ªä¸ªå°è¯•ï¼ŒæŠŠå®ƒæ”¹å¯¹ï¼Œç”¨md5æ¥æ ¡éªŒæ–‡ä»¶æ˜¯å¦ä¿®å¤å¥½ã€‚ï¼ˆç„¶è€Œä¹‹å‰æˆ‘ç”¨bzipä¸ä¿®å¤ç…§æ ·ä¹Ÿè§£å‹å‡ºæ¥äº†â€¦â€¦æœ‰ç‚¹å°´å°¬,,Ô¾ã…‚Ô¾,,ï¼‰<br>æœ€åå¾—åˆ°çš„å›¾ç‰‡æ˜¾ç¤ºâ€speedâ€,ç„¶åå†ç»“åˆHurry up, Iâ€™m missing the boat,ä¸‹ä¸€å…³ç½‘å€å°±æ˜¯â€speedboatâ€</p><p><strong>å­¦åˆ°ï¼š</strong></p><ul><li>åŸæ¥pythonç»ˆç«¯å¯ä»¥æ‰“å°å‡ºé¢œè‰²å‘€ï¼Œå­¦åˆ°äº†<ul><li>PythonåŸºç¡€ä¹‹æ§åˆ¶å°è¾“å‡ºé¢œè‰² <a href="https://blog.csdn.net/qq_33567641/article/details/82769523">https://blog.csdn.net/qq_33567641/article/details/82769523</a></li></ul></li><li>åˆ‡ç‰‡æ˜¯å·¦é—­å³å¼€ï¼Œæˆ‘åˆå¿˜äº†</li><li>å¯¹äºŒè¿›åˆ¶çš„æ“ä½œè¿˜æ˜¯ä¼¼æ‡‚éæ‡‚å“‡ï¼Œæœ‰ç©ºä¸“é—¨å­¦ä¹ ä¸‹ï¼</li></ul><p><strong>Codeï¼š</strong></p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> hashlib<span class="token keyword">def</span> <span class="token function">repair</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> pos <span class="token keyword">in</span> range<span class="token punctuation">(</span>len<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> pos <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">:</span>            <span class="token keyword">break</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token string">"Trying repairing the position {pos} ..."</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token punctuation">:</span>pos<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token keyword">for</span> j <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true"># try 0-255</span>            newData <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token punctuation">:</span>pos<span class="token punctuation">]</span> <span class="token operator">+</span> bytes<span class="token punctuation">(</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> data<span class="token punctuation">[</span>pos<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token comment" spellcheck="true"># æ›¿æ¢posé‚£ä¸ªä½ç½®çš„å€¼</span>            <span class="token keyword">if</span> hashlib<span class="token punctuation">.</span>md5<span class="token punctuation">(</span>newData<span class="token punctuation">)</span><span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> md5code<span class="token punctuation">:</span>                open<span class="token punctuation">(</span><span class="token string">'output/level_26_repaired.zip'</span><span class="token punctuation">,</span><span class="token string">'wb'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>write<span class="token punctuation">(</span>newData<span class="token punctuation">)</span>                <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token string">"\033[1;31m Zip have been repairedï¼\033[0m"</span><span class="token punctuation">)</span>                <span class="token keyword">return</span>md5code <span class="token operator">=</span> <span class="token string">"bbb8b499a0eef99b52c7f13f4e78c24b"</span>data <span class="token operator">=</span> open<span class="token punctuation">(</span><span class="token string">'assets/mybroken.zip'</span><span class="token punctuation">,</span><span class="token string">'rb'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>repair<span class="token punctuation">(</span>data<span class="token punctuation">)</span></code></pre><h2 id="level-27-between-the-tables-2020-12-19"><a href="#level-27-between-the-tables-2020-12-19" class="headerlink" title="level_27_between the tables_2020.12.19"></a>level_27_between the tables_2020.12.19</h2><p>Link: <a href="http://www.pythonchallenge.com/pc/hex/speedboat.html">http://www.pythonchallenge.com/pc/hex/speedboat.html</a></p><p><strong>æ€è·¯</strong><br>ç‚¹å‡»å›¾ç‰‡å°±èƒ½ç›´æ¥è¿›å…¥ä¸‹ä¸€å…³ï¼Œç„¶è€Œä¸çŸ¥è´¦å·å¯†ç ã€‚<br>è¿™ä¸€å…³æ¶‰åŠåˆ°å›¾åƒè‰²æ¿ã€æ˜ å°„ã€å¸¸è§ä½†ä¾æ—§ä¸äº†è§£çš„äºŒè¿›åˆ¶æ•°æ®å¤„ç†è¿˜æœ‰keywordæ¨¡å—<br>ä¹Ÿæ²¡å•¥æ€è·¯äº†ï¼Œæ¯•ç«Ÿæ˜¯copyåˆ«äººçš„ä»£ç å˜›ï¼</p><p><strong>å­¦åˆ°</strong></p><ul><li>im.getpalette()ä»¥åˆ—è¡¨å½¢å¼è¿”å›å›¾åƒè°ƒè‰²æ¿ï¼Œputpaletteç»™å¯¹è±¡åŠ ä¸Šè°ƒè‰²æ¿ï¼Œç›¸å½“äºä¸Šè‰²,ç„¶è€Œæš‚æ—¶ä¸æ‡‚è°ƒè‰²æ¿æ˜¯ä»€ä¹ˆä¸œä¸œ</li><li>im.tobytes()ï¼ŒæŠŠå›¾ç‰‡è½¬åŒ–ä¸ºäºŒè¿›åˆ¶</li><li><code>maketrans(A,B)</code>å’Œ<code>newData = data.translate()</code>æ˜æ˜å¾ˆæ—©æ¥è§¦äº†ï¼Œç„¶è€Œè¿˜æ˜¯ä¸ç†Ÿæ‚‰</li><li>filterå’Œlambdaçš„ç”¨æ³•<code>diff = list(filter(lambda p: p[0] != p[1], zipped))</code></li><li>indexçš„å¤æ•°å½¢å¼æ˜¯indicesï¼ˆæ»‘ç¨½ï¼‰</li></ul><p><strong>Code</strong></p><p>å»ºç«‹äºŒè¿›åˆ¶ç´¢å¼•å’Œè‰²æ¿, æ˜ å°„åˆ°å›¾ç‰‡å­—èŠ‚æµæ•°æ®<br>ä»€ä¹ˆï¼Œä½ é—®æˆ‘ä¸ºä»€ä¹ˆè¦è¿™æ ·åšï¼Ÿä¸çŸ¥é“â€¦â€¦ï¼Œæ¯•ç«Ÿè¿™ä¸€å…³çš„æ ‡é¢˜å°±æ˜¯between the tablesï¼Œæ¯•ç«Ÿåˆ«äººæ˜¯è¿™æ ·è§£é¢˜çš„ã€‚</p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> keyword<span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token keyword">import</span> bz2im <span class="token operator">=</span> Image<span class="token punctuation">.</span>open<span class="token punctuation">(</span><span class="token string">'assets/zigzag.gif'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># im.getpalette()ä»¥åˆ—è¡¨å½¢å¼è¿”å›å›¾åƒè°ƒè‰²æ¿ï¼Œgetpaletteï¼ˆï¼‰è·å–å›¾ç‰‡å¯¹åº”çš„è°ƒè‰²æ¿ï¼›putpaletteç»™å¯¹è±¡åŠ ä¸Šè°ƒè‰²æ¿ï¼Œç›¸å½“äºä¸Šè‰²</span><span class="token comment" spellcheck="true"># [37, 229, 162, 136, 59, 212, 9, 41, 24, 156, 148, 112, 254, 91,..]</span>palette <span class="token operator">=</span> im<span class="token punctuation">.</span>getpalette<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token comment" spellcheck="true"># print(palette)</span>len<span class="token punctuation">(</span>palette<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#256</span><span class="token comment" spellcheck="true"># å»ºç«‹äºŒè¿›åˆ¶ç´¢å¼•å’Œè‰²æ¿, æ˜ å°„åˆ°å›¾ç‰‡å­—èŠ‚æµæ•°æ®</span>table <span class="token operator">=</span> bytes<span class="token punctuation">.</span>maketrans<span class="token punctuation">(</span>bytes<span class="token punctuation">(</span><span class="token punctuation">[</span>i <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>bytes<span class="token punctuation">(</span>palette<span class="token punctuation">)</span><span class="token punctuation">)</span>raw <span class="token operator">=</span> im<span class="token punctuation">.</span>tobytes<span class="token punctuation">(</span><span class="token punctuation">)</span>trans <span class="token operator">=</span> raw<span class="token punctuation">.</span>translate<span class="token punctuation">(</span>table<span class="token punctuation">)</span></code></pre><p>æ¯”è¾ƒrawå’Œtransæ•°æ®ï¼Œå‘ç°é™¤å»rawçš„ç¬¬ä¸€ä¸ªå’Œtrançš„æœ€åä¸€ä¸ªï¼Œå¤§è‡´æ•°æ®å·®ä¸å¤š</p><pre class=" language-python"><code class="language-python"> <span class="token keyword">print</span><span class="token punctuation">(</span>raw<span class="token punctuation">)</span> <span class="token keyword">print</span>ï¼ˆtrans<span class="token punctuation">)</span></code></pre><p>æ‰€ä»¥ä¸‹ä¸€æ­¥å°±æ˜¯æŠŠä¸ä¸€æ ·çš„æ•°æ®è¿‡æ»¤å‡ºæ¥</p><pre class=" language-python"><code class="language-python">zipped <span class="token operator">=</span> list<span class="token punctuation">(</span>zip<span class="token punctuation">(</span>raw<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">,</span>trans<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>diff <span class="token operator">=</span> list<span class="token punctuation">(</span>filter<span class="token punctuation">(</span><span class="token keyword">lambda</span> p<span class="token punctuation">:</span> p<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">!=</span>p<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> zipped<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># è¿™é‡Œç”¨æ¥åŒ¿åå‡½æ•°+filterè¿‡æ»¤</span>indices <span class="token operator">=</span> <span class="token punctuation">[</span>i <span class="token keyword">for</span> i<span class="token punctuation">,</span> p <span class="token keyword">in</span> enumerate<span class="token punctuation">(</span>zipped<span class="token punctuation">)</span> <span class="token keyword">if</span> p<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">!=</span> p<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token comment" spellcheck="true"># indicesæ˜¯indexçš„å¤æ•°å½¢å¼</span></code></pre><p>å¤„ç†diffæ•°æ®ï¼Œè½¬åŒ–ä¸ºtext</p><pre class=" language-python"><code class="language-python">s<span class="token operator">=</span><span class="token punctuation">[</span>t<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token keyword">for</span> t <span class="token keyword">in</span> diff<span class="token punctuation">]</span> <span class="token comment" spellcheck="true"># t[1]å³transçš„æ•°æ®åˆ™æ²¡æœ‰æç¤º</span><span class="token keyword">print</span><span class="token punctuation">(</span>bytes<span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># ç†Ÿæ‚‰çš„bzå¼€å¤´</span>text <span class="token operator">=</span> bz2<span class="token punctuation">.</span>decompress<span class="token punctuation">(</span>bytes<span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#è§£ç æˆæ–‡æœ¬</span><span class="token keyword">print</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#å‘ç°æ˜¯æœ‰ä¸€å †pythonå…³é”®å­—</span></code></pre><p>æ–°å»ºä¸€ä¸ªç™½åº•çš„å›¾åƒï¼Œåˆ©ç”¨ä¹‹å‰æ•°æ®ä¸ä¸€æ ·çš„ç´¢å¼•ï¼ŒæŠŠè¯¥ä½ç½®éƒ½æ”¹ä¸ºé»‘è‰²</p><pre class=" language-python"><code class="language-python">im2 <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">'RGB'</span><span class="token punctuation">,</span> im<span class="token punctuation">.</span>size<span class="token punctuation">)</span>colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">*</span>len<span class="token punctuation">(</span>raw<span class="token punctuation">)</span><span class="token keyword">for</span> i <span class="token keyword">in</span> indices<span class="token punctuation">:</span>    colors<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>im2<span class="token punctuation">.</span>putdata<span class="token punctuation">(</span>colors<span class="token punctuation">)</span></code></pre><p>ç«Ÿç„¶èƒ½å¾—åˆ°ä¸€å¼ å›¾ï¼Œæç¤ºnot keywordï¼Œå°±æ˜¯è¯´æˆ‘ä»¬è¦æŠŠtexté‡Œä¸æ˜¯keywordçš„è¯ç»™æå–å‡ºæ¥<br><img src="https://cdn.jsdelivr.net/gh/Achuan-2/PicBed/assets/20201219151302-2020-12-19.png" alt="not keywordçš„æç¤º"></p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> keyword<span class="token keyword">print</span><span class="token punctuation">(</span>set<span class="token punctuation">(</span><span class="token punctuation">[</span>w <span class="token keyword">for</span> w <span class="token keyword">in</span> text<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> <span class="token operator">not</span> keyword<span class="token punctuation">.</span>iskeyword<span class="token punctuation">(</span>w<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p>æœ€ç»ˆå¾—åˆ°</p><pre class=" language-python"><code class="language-python"><span class="token punctuation">{</span>b<span class="token string">'print'</span><span class="token punctuation">,</span> b<span class="token string">'../ring/bell.html'</span><span class="token punctuation">,</span> b<span class="token string">'repeat'</span><span class="token punctuation">,</span> b<span class="token string">'exec'</span><span class="token punctuation">,</span> b<span class="token string">'switch'</span><span class="token punctuation">}</span></code></pre><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œâ€œprintâ€å’Œâ€œexecâ€åœ¨Python2ä¸­å¼å…³é”®å­—ï¼Œåœ¨Python3ä¸­å˜æˆäº†å‡½æ•°ï¼Œæ‰€ä»¥æ²¡æœ‰è¢«å»æ‰ã€‚<br>ç»è¿‡å°è¯•ï¼Œbell.htmlç½‘é¡µçš„ç”¨æˆ·åä¸ºrepeatï¼Œå¯†ç ä¸ºswitchã€‚<br>Overï¼ </p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¼–ç¨‹å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="posts/3eeb.html"/>
      <url>posts/3eeb.html</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre class=" language-bash"><code class="language-bash">$ hexo new <span class="token string">"My New Post"</span></code></pre><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre class=" language-bash"><code class="language-bash">$ hexo server</code></pre><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre class=" language-bash"><code class="language-bash">$ hexo generate</code></pre><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre class=" language-bash"><code class="language-bash">$ hexo deploy</code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
