<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>解决使用代理时 Win10 UWP 应用无法联网问题</title>
      <link href="posts/840d.html"/>
      <url>posts/840d.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>平时经常需要使用网络代理，但是它开着的时候，总会导致我电脑里 UWP 应用出现无法联网的状态，EXE 应用不受影响。每次使用 UWP 应用时把代理关了就可以正常联网了。了解到是 UWP 的一些特殊原因，具体原因如下：</p><p>Win10 所有 UWP 应用均运行在被称为 App Container 的虚拟沙箱环境中，App Container 可以保证应用安全性，但同时也阻止了网络流量发送到本机（即 loopback）， 使大部分网络抓包调试工具无法对 UWP 应用进行流量分析。同样的，该机制也阻止了 UWP 应用访问 localhost，即使你在系统设置中启用了代理，也无法令 UWP 应用访问本地代理服务器。% 老实说，没看懂这句话 %</p></blockquote><p>不用其他软件，以<strong>管理员权限</strong>启动 powershell 敲下面命令即可：</p><p> <code>import-module appx -usewindowspowershell</code><br><code>foreach ($n in (get-appxpackage).packagefamilyname) {checknetisolation loopbackexempt -a -n="$n"}</code><br>如果只想对某个特定 UWP 应用设置代理，用 <code>$n=(get-appxpackage *应用名的独特部分，比如邮件应用是commu*).packagefamilyname | checknetisolation loopbackexempt -a -n="$n"</code></p><p><strong>如果哪天需要恢复网络隔离，是敲什么命令恢复？</strong></p><p><code>checknetisolation loopbackexempt -c</code> 全部恢复网络隔离<br><code>$n=(get-appxpackage *应用名的独特部分，比如邮件应用是commu*).packagefamilyname | checknetisolation loopbackexempt -d -n="$n"</code> 针对某个应用恢复隔离<br>具体怎么用建议自己 powershell/cmd 里敲 <code>checknetisolation loopbackexempt /?</code> 自己学</p><blockquote><p><a href="https://github.com/2dust/v2rayN/issues/1280">路由规则疑似无法完全替代 PAC。 · Issue #1280 · 2dust/v2rayN (github.com)</a></p><p><a href="https://zhuanlan.zhihu.com/p/55906778">解决使用代理时 Win10 UWP 应用无法联网问题 - 知乎 (zhihu.com)</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 折腾 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> v2ray </tag>
            
            <tag> Win10 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>无离线不笔记为什么我要放弃wolai，选择思源笔记？</title>
      <link href="posts/f8bd.html"/>
      <url>posts/f8bd.html</url>
      
        <content type="html"><![CDATA[<p>首先我得承认 <a href="https://www.wolai.com/signup?invitation=XQXH7AI">wolai</a> 是一款优秀的在线笔记软件，编辑体验非常好，我个人从 wolai 早期阶段就开始使用，也曾每天追更新、深度体验了非常久的时间，但渐渐的我发现，wolai 并不是我理想的笔记软件。我期待的笔记是支持本地同步而不是纯粹的云端笔记，<strong>我不想要</strong>打开笔记要考虑有没有网络、打开页面要等待时间、查看图片要等待时间、上传图片要考虑是否合规、上传附件到软件来管理却还不能编辑。wolai 最近也做了很多体验的优化，OCR 图片识别文字、支持图片、手写识别数学公式等，也出了付费用户才有的飞行模式。</p><p>但总的来说，wolai 的定位是在线笔记软件，更多的是用于团队在线协作，尽管出了飞行模式（在有网情况下只能手动切换，且几乎只能编辑笔记、不能使用稍微高级点的功能），主要目标用户也是需要云端笔记的用户群体。而如果你是和我一样的，喜欢本地笔记软件、喜欢无网络无干扰进行创作、有大文档编辑需求、有分享文章到其他平台需求的用户，那么我非常推荐你使用思源笔记。我也认为，云端笔记的使用和本地笔记使用并不冲突，你可以在本地笔记记录较为私人的事情、有待完善的想法稿件，然后在云端平台诸如语雀、知乎、博客园甚至 wolai 等等分享自己的创作。总之，我非常推荐你试试这款软件。</p><p>思源笔记是一款非常优秀的本地知识管理软件，兼具笔记软件和写作软件的特点。相比 wolai、notion 等在线笔记，思源笔记以离线本地为主，本地功能全免费，再也不用痛苦等待网络加载，并支持同步和备份加密。软件的官网可以看这里：<a href="https://b3log.org/siyuan/">思源笔记 - 本地优先的个人知识管理系统，支持 Markdown 排版、块级引用和双向链接 (b3log.org)</a></p><p><img src="https://b3logfile.com/siyuan/1610205759005/assets/image-20210829154648-2i6v5mr.png" alt="思源笔记官网截图于 2021.08.29" title="思源笔记官网截图于2021.08.29"></p><p>我使用思源笔记的十大理由</p><h2 id="理由一：⚔️-以数据安全为首位"><a href="#理由一：⚔️-以数据安全为首位" class="headerlink" title="理由一：⚔️ 以数据安全为首位"></a>理由一：⚔️ 以数据安全为首位</h2><p>“<strong>本地优先、确保隐私安全是思源最基本的初心，只要思源存在一天这一点就不会改变，没有任何力量能改变这个初心。</strong>”</p><p> 比起众多在线笔记软件，思源笔记更在乎你的数据安全，提出”无离线不笔记”的口号，并支持端到端加密同步和备份，思源在进行备份和同步前会进行数据加密，加密后的数据可以放心地进行网络传输和托管。</p><p>加密和解密过程完全在本地设备上进行​，加密算法为业界公认安全的 AES GCM​，除非知道密码或者暴力破解，否则不可能被解密（开发者也无法解密）​，用户设置的密码使用程序内置密钥加密后存储在本地​。​于是你的笔记想记啥就记啥，放啥图片去同步、备份也不怕有审查、泄露的风险（除非你把这些图片上传到图床）。这使得同步与隐私兼具！还可以将思源加密的备份文件上传到其他云盘。</p><p><img src="https://b3logfile.com/siyuan/1610205759005/assets/image-20210829151546-rtfgupg.png" alt="思源笔记云端功能截图，可以看到端到端加密、云端同步、云端备份、本地备份，多重保险，保护你的数据安全" title="思源笔记云端功能截图，可以看到端到端加密、云端同步、云端备份、本地备份，多重保险，保护你的数据安全"></p><p>本地文件和文件夹都以 14 位时间码 +7 位随机字符组来命名存储，并以 json 格式存储笔记，单从外部资源管理器，难以知晓笔记内容。而目前也已支持应用内锁屏。</p><blockquote><p>关于从笔记文件名改动为 id 存储的详细原因，见 <a href="https://ld246.com/article/1629599006639/comment/1629607168765?r=Achuan-2#comments">官方答文件名 ID 化书</a></p></blockquote><p>作为本地笔记，用户不怕开发者跑路，而且开发者在思源笔记 1.2.0 发布的公告也做出了承诺：</p><blockquote><p><a href="https://ld246.com/article/1626313293676">​</a><a href="https://ld246.com/article/1626313293676">思源笔记 v1.2.0 发布，一个全新的开始 - LianDi (ld246.com)</a></p></blockquote><p><img src="https://b3logfile.com/siyuan/1610205759005/assets/image-20210829151658-nqqcid3.png" alt="思源笔记 v1.2.0 发布，一个全新的开始" title="思源笔记 v1.2.0 发布，一个全新的开始"></p><h2 id="理由二：✍️-强大的编辑体验"><a href="#理由二：✍️-强大的编辑体验" class="headerlink" title="理由二：✍️ 强大的编辑体验"></a>理由二：✍️ 强大的编辑体验</h2><ul><li>支持<strong>超大文档编辑</strong>，对大文档启用动态加载，支持百万字大文档的流畅编辑。这是云端笔记很难达到的水平。</li><li><strong>所见即所得渲染</strong>，支持常见 md 语法 ，免去 Typora 似的即时渲染点击当行加载源码的割裂感，专注内容。</li><li><strong>强大的笔记查阅体验</strong>：本地笔记的打开速度自不用多说，思源笔记还支持多窗口管理页签，能够分屏查看实时编辑笔记，并支持前进、后退功能，有非常接近于浏览器的多窗口阅读体验。不像一些笔记软件需要多开软件，才能同时查看多篇笔记。</li><li><strong>基于块的操作模式</strong>，以斜杆菜单 / 和块标菜单作为操作入口，交互主要参考 <a href="https://link.ld246.com/forward?goto=https://www.notion.so/">Notion</a>。像堆乐高积木似的完成你的创作。并且也对中文输入做了优化，中文可按  “ / “弹出斜杆菜单，而按“" 无论是英文还是中文都不会弹出斜杠菜单（虽然这俩都可以输入顿号），方便用户输入顿号。</li><li><strong>灵活的父子文档结构</strong>：v1.2.5 从传统文件夹结构，改为了父子文档结构，支持文档无限嵌套，比起文件夹结构，能够在父文档补充信息，有效利用文档树空间，方便将父文档当做 moc 页面、导言等功能页面。同时这种父子文档，比起 notion 、wolai 更加灵活，在父子文档并不强制显示子文档，可以灵活使用块引用，而不是把父文档纯粹当成个人建站页面。如需展示全部文档，可以使用 模板（以块引、块超链接形式展示所有子文档，具体介绍见<a href="https://ld246.com/article/1629528735213">【模板分享】父文档列出第一层级子文档和最多六层级的子文档 - LianDi (ld246.com)</a>）；或是一开始就在父文档使用 [[ 新建子文档、ctrl+[ 将已有文字转化为子文档。目前新建块引路径留空默认是新建成子文档，配置为ˋ ../ ˋ意味着建立同级文档，也可以配置到笔记本下指定路径。</li><li><strong>文档包围大纲</strong>：有完善的文档编辑体验，同时大纲功能同样强大，通过大纲式笔记用法来梳理要点、快速整理，大纲交互主要参考 <a href="https://link.ld246.com/forward?goto=https://workflowy.com/">Workflowy</a>。大纲支持 zoom in（可以理解为专注模式，使用 ctrl+click，只显示部分内容，便于专注写作和聚焦学习）、支持大纲的折叠、展开。</li><li><strong>支持标题文档互换</strong>：更自由地重组知识，对长文档进行拆分，对短文档进行组合。并且转化不影响引用关系。</li><li><strong>支持分栏功能</strong>：在思源笔记中以超级块方式实现多分栏结构，支持横向和竖向超级块（竖向超级块常用于放置在横向超级块内、或是将不同块合并为一个大块），通过<strong>复制粘贴也能保留分栏结构</strong>。</li><li><strong>更强大的双向链接功能</strong>：块引可以悬浮、直接编辑，充分利用双链笔记的优势，而且粒度到块，块级引用！有着块级的关系图！</li><li><strong>块折叠</strong>：相比 wolai 、notion 只有折叠块，思源笔记中所有类型的块都支持用 alt+ 点击块标的方式折叠！</li><li><strong>支持自定义块属性</strong>，默认属性有书签、命名、别名、备注，也支持自定义属性，可玩性很大，思源功能完善后，估计能对块属性玩出花来。目前已有大佬在浏览器插件借助块属性实现文字批注功能！</li><li><strong>灵活的块样式调整</strong>：支持调整每个块的宽度，支持对块设置居中、居左、居右，支持对文字和块设置背景色和文字颜色，都可设置 13 种颜色并支持主题自定义！</li><li><strong>传统功能完备</strong>：支持标签、书签功能。书签、标签同样可用于块内，思源笔记 v1.2.7 开始支持对文档整体使用标签。在思源笔记中，可以把书签当成收藏置顶功能，用于常用笔记以方便快速打开，标签用于摆脱传统文件树分类模式，实现笔记的多分类、便于汇总、检索笔记。</li><li><strong>支持模板功能</strong>：可以创建简单的模板用于日常使用，也可以使用 Golang 、块引、嵌入，实现具有复杂功能模板。（注：目前只支持在 工作空间/data/template 下新建 md 文件来实现模板创作，暂不支持笔记内直接新建模板）</li><li><strong>更快的资料剪藏体验</strong>：借助<a href="https://chrome.google.com/webstore/detail/siyuan/hkcgjbeblifaincobbcfiffbpgoafepk">思源官方扩展</a>和 web clipper 插件（目前 <a href="https://github.com/webclipper/web-clipper">alpha</a> 版才支持剪藏思源），可以剪藏部分内容或是文章到思源笔记。并且思源笔记的剪藏不是通过云端，而是直接剪藏到本地！这意味着，没有了一些笔记软件剪藏我还需等待加载的过程！</li><li><strong>文件可支持多种排序</strong>：自定义拖拽排序、首字母排序、自然排序（自然排序）<ul><li>补充：自然排序和按首字母排序的区别<ul><li>自然排序：1 2 11 12 （会按数字大小排序）</li><li>首字母排序：1 11 12 2 （按首字排序）</li></ul></li></ul></li><li><strong>支持中西文之间自动插入空格</strong>，不像 wolai 是通过添加间距实现，思源就是纯粹的空格，这意味着你可以把中英文间隔完善的文稿分享到其他平台。</li><li><strong>更好的图片使用体验</strong>：支持 md 图片批注语法，可使用 <code>![anchor text](address "title")</code> 的语法批注文字，也可以直接鼠标右键输入批注和提示文字，<strong>批注文字默认居中于图片下方</strong>。可以直接拖动图片右侧的 sidebar <strong>直接调整大小</strong>，复制图片支持复制图片 md 语法和复制 png 格式两种模式，复制 md 语法到思源<strong>能保留原来的图片批注和大小设置</strong>。回忆起之前使用 typora 想要添加图片居中批注，还得痛苦的使用 <code> &lt;center&gt;text&lt;/center&gt;</code></li><li>支持使用 alt+M 快捷键<strong>快速收起和唤出思源笔记客户端</strong>，比起使用 alt+tab 切换应用速度快很多。</li><li><strong>支持自定义快捷键</strong>。</li><li><strong>支持代码形式创建图谱</strong>：图谱支持脑图（较简陋）、流程图、甘特图、时序图、五线谱等</li></ul><p><img src="https://b3logfile.com/siyuan/1610205759005/assets/image-20210829152527-hovmflq.png" alt="思源笔记 1.3.0 页面截图" title="思源笔记1.3.0 页面截图"></p><h2 id="理由三：⚡️-强大的笔记汇总能力"><a href="#理由三：⚡️-强大的笔记汇总能力" class="headerlink" title="理由三：⚡️ 强大的笔记汇总能力"></a>理由三：⚡️ 强大的笔记汇总能力</h2><ul><li>可以使用 SQL 语法整理嵌入笔记，实现<strong>随机抽取笔记，归纳汇总</strong>功能（例如查找所有加粗、所有高亮、所有包含关键字、指定日期等的笔记）</li><li>支持给块起命名、别名便于搜索、用于反链、提及检索</li></ul><p><img src="https://b3logfile.com/siyuan/1610205759005/assets/image-20210829152658-faa84zu.png" alt="汇总所有加粗文字示意，需要使用简单的 sql 语句" title="汇总所有加粗文字示意，需要使用简单的sql语句"></p><p>思源笔记的模板功能很强大，其简单的使用介绍可以见我写的分享</p><ul><li><a href="https://ld246.com/article/1627298581757">📋 模板使用基本介绍 · 语雀 (yuque.com)</a></li><li><a href="https://www.yuque.com/achuan-2/siyuan/hiaxyy">【模板分享】展示今天更新或指定日期范围的文档 · 语雀 (yuque.com)</a></li><li><a href="https://www.yuque.com/achuan-2/siyuan/lm18qc">【模板分享】父文档列出第一层级子文档和最多六层级的子文档 · 语雀 (yuque.com)</a></li><li><a href="https://www.yuque.com/achuan-2/siyuan/ntb8tp">【模板分享】如何汇总文档中包含加粗、高亮、颜色文字的所有内容块 · 语雀 (yuque.com)</a></li><li><a href="https://www.yuque.com/achuan-2/siyuan/dm5m2o">常用模板备份 · 语雀 (yuque.com)</a></li></ul><h2 id="理由四：✉️-方便的多平台分享能力"><a href="#理由四：✉️-方便的多平台分享能力" class="headerlink" title="理由四：✉️ 方便的多平台分享能力"></a>理由四：✉️ 方便的多平台分享能力</h2><p>思源笔记的写作功能强大，支持多平台导出，支持直接复制到<strong>知乎、语雀、微信</strong>平台。。</p><p>同时拥有<strong>几乎完美的图床解决方案</strong>，即<strong>本地图床和云端图床共存</strong>。更方便管理图片，有利于文章永久本地化。再也不需要纠结一篇文章是使用本地图床还是云端图床，或是保留两份图床文档。还支持批量删除本地资源文件夹内未引用的图片。目前暂不支持自定义外部图床，但也省得用户折腾图床。后期将支持管理删除图床照片。</p><p>思源从 1.2.0 后，从被污染的 md 格式彻底改为了 json 格式（至于为什么，见下面更多信息里的『纯粹的 markdown』），但支持免费导出标准 md、word、pdf、html 等格式。</p><p><img src="https://b3logfile.com/siyuan/1610205759005/assets/image-20210829152912-x25p5zv.png" alt="ctrl+alt+9 预览模式" title="ctrl+alt+9 预览模式"></p><h2 id="理由五：✨-支持自定义主题，有社区集市"><a href="#理由五：✨-支持自定义主题，有社区集市" class="headerlink" title="理由五：✨ 支持自定义主题，有社区集市"></a>理由五：✨ 支持自定义主题，有社区集市</h2><p>支持自定义主题，集市有用户制作的<strong>主题</strong>，<strong>图标</strong>，<strong>模板</strong>，<strong>挂件</strong>，可以下载使用，以提升颜值和易用性。换个皮，就像换了个软件。</p><p><img src="https://b3logfile.com/siyuan/1610205759005/assets/image-20210829153051-a8ajbwm.png" alt="2021.8.29 思源笔记主题集市部分截图" title="2021.8.29 思源笔记主题集市部分截图"></p><p><img src="https://b3logfile.com/siyuan/1610205759005/assets/preview-20210829153134-uh6jw84.png" alt="本人制作的 Tsundoku Light 主题，欢迎使用及 star!" title="本人制作的Tsundoku Light主题，欢迎使用及star!"></p><blockquote><p>本人制作了 <a href="https://hub.fastgit.org/Achuan-2/siyuan-themes-tsundoku-light">Tsundoku</a> 系列主题，欢迎使用及 star!</p></blockquote><p>挂件块集市已上架，可用于扩展功能，使用<strong>斜杆菜单</strong>可唤出插入挂件块。目前用户分享的挂件块有笔记热图、运行代码、图形化汇总笔记、事项管理、属性面板等。也有用户在开发浏览器扩展，大大扩展思源笔记的功能。虽然目前的集市氛围比不上 obsdian 等软件社区，但可以小小期待下未来有更多开发者加入。</p><p>挂件块集市于 1.2.5 alpha6 版本开始内测，在 1.9.0 之前只对订阅用户开放，1.9.0 之后对所有用户开放。目前在挂件块集市已经上市的挂件有</p><p><img src="https://b3logfile.com/siyuan/1610205759005/assets/image-20210829153214-8t08vrt.png" alt="luck，展示笔记热力图和总笔记" title="luck，展示笔记热力图和总笔记"></p><p><img src="https://b3logfile.com/siyuan/1610205759005/assets/image-20210829153221-co7cntg.png" alt="run-code, 可运行代码" title="run-code, 可运行代码"></p><p><a href="https://github.com/langzhou/siyuan-note">lanzhou 大佬的插件、挂件、主题集</a></p><p><img src="https://b3logfile.com/siyuan/1610205759005/assets/image-20210829153250-vjc13gt.png"></p><p><img src="https://b3logfile.com/siyuan/1610205759005/assets/image-20210829153331-bgx7co4.png"></p><p>v1.2.9 开始支持自定义 emoji，不仅可以用于文档图标还可以用于编辑器内部。v1.3.1 支持自定义的 emojis 文件夹设置一级文件夹。</p><blockquote><p><a href="https://zhuanlan.zhihu.com/p/403828006">🥴 思源自定义 emoji 分享 · 语雀 (yuque.com)</a></p></blockquote><h2 id="理由六：❤️-价格公道，订阅政策良心"><a href="#理由六：❤️-价格公道，订阅政策良心" class="headerlink" title="理由六：❤️ 价格公道，订阅政策良心"></a>理由六：❤️ 价格公道，订阅政策良心</h2><p>v1.2.0 发布时给 2021 年 7 月 15 日 24:00 以前的年付订阅用户延长了 180 天会员</p><p>v1.2.2 起<strong>本地功能已全部免费</strong>，目前付费功能只有云端功能即图床和端到端加密同步和备份，非常良心。一次订阅，<strong>续订价格终身将按第一次订阅时价格付费</strong>，也就是以后涨价了，还是用第一次订阅价格付费。第一次见过这么良心的价格政策。所以劝感兴趣的朋友越早上车越好！目前云端功能付费价格是 96 一年，与友商对比，算是比较合理。预计思源笔记在 2.0 后会订阅价格将会涨价。 （注：目前因为种种原因，于 2021.8.15 已砍掉教育优惠，详情可见<a href="https://ld246.com/article/1628685591154">思源笔记官方公告</a>）</p><p>如果想付费使用云端功能的朋友，可以使用推荐 🐴：B3XX0Y8，可增加 500 MB 云端空间和 多 7 天使用期。如果推荐满 32 人，联系开发者 D 大，可以晋升为永久用户！！！</p><p>目前云端初始空间是 8 GB，使用别人的推荐码订阅 + 自己推荐码被使用可增加 32*500MB，即 16 GB，可以免费扩容到 24 GB。对于纯粹的本地笔记来说，已足够使用（大文件可以通过链接本地文件、文件夹或是云盘方式解决）。后期将会推出购买空间的形式来扩容。</p><p><img src="https://b3logfile.com/siyuan/1610205759005/assets/image-20210829153532-6bsqbz4.png" alt="思源笔记官网-订阅常见问题" title="思源笔记官网-订阅常见问题"></p><p><img src="https://b3logfile.com/siyuan/1610205759005/assets/image-20210829153559-xui0tfu.png" alt="思源笔记的会员功能" title="思源笔记的会员功能"></p><h2 id="理由七：✈️-功能更新非常快，未来可期"><a href="#理由七：✈️-功能更新非常快，未来可期" class="headerlink" title="理由七：✈️ 功能更新非常快，未来可期"></a>理由七：✈️ 功能更新非常快，未来可期</h2><p><a href="https://link.ld246.com/forward?goto=https://b3log.org/siyuan">思源笔记</a>的前身是开源的链滴笔记。之后以闭源商业化的形式继续推进，这就是思源笔记的来由。</p><blockquote><p><a href="https://zhuanlan.zhihu.com/p/143272542">总结下链滴笔记的来历 - 知乎 (zhihu.com)</a></p></blockquote><p>思源笔记<a href="https://link.ld246.com/forward?goto=https://github.com/siyuan-note/siyuan/releases/tag/v0.1.0">第一个版本</a>发布于 2020 年 8 月 31 号，2021 年 4 月开始重写思源，从即时渲染改成所见即所得模式，只经过两个月的内测和公测就发布了 v1.2.0 正式版。还没一年，思源就已经功能这么强大了。</p><p>开发效率真的非常高，在 github 可以看到软件的更新计划，提的意见如果合理能够说服开发者，就会被采纳并可能很快上线。每次版本更新几乎都在加入新特性！</p><p>真不知道思源笔记 v2.0 会发展成什么样子，期待</p><blockquote><p>相关资料：</p><p><a href="https://ld246.com/tag/siyuan-announcement">思源笔记公告 - LianDi (ld246.com)</a></p><p><a href="https://www.yuque.com/achuan-2/siyuan/zvnho0">🏃 思源更新进展追踪 · 语雀 (yuque.com)</a></p><p>另外八卦一下：思源笔记的开发者只有两人，D 和 V，两人是夫妻，且育有一子小 d，夫妻档中， D 负责后端开发，V 负责前端开发</p></blockquote><h2 id="理由八：‍⚜️-支持私有部署"><a href="#理由八：‍⚜️-支持私有部署" class="headerlink" title="理由八：‍⚜️ 支持私有部署"></a>理由八：‍⚜️ 支持私有部署</h2><p>使用思源笔记的朋友，可能会经常接触到一个词“手机伺服”，完全可以不使用官方的同步功能。直接手机开热点或使用个人 WIFI ，让笔记电脑通过 局域网 ip+6806 端口在浏览器端打开思源笔记，做到手机电脑实时同步操纵数据的体验。该功能的主要用途是将笔记数据保存在手机，使用电脑端进行复杂编辑，增强的数据安全性和便携性。当然一些不想要付费云端功能，又希望手机、电脑能使用思源笔记同步数据的，也可以勉强借助这种方式缓缓。</p><blockquote><p>另外目前思源笔记暂时没有 ios 端，还在开发中，如果确实需要 ipad 编辑查看笔记，也可以使用安卓手机或者电脑开伺服功能，然后 ipad 使用浏览器打开思源笔记（当然很麻烦啦，期待思源早日出 IOS 端吧）</p></blockquote><p><img src="https://b3logfile.com/siyuan/1610205759005/assets/image-20210829153805-k6ghkhy.png" alt="image.png"></p><p>思源笔记也支持部署 docker，有能力的技术宅们去折腾吧。</p><p>ps: 在保证思源客户端打开的同时，也能通过 <a href="http://127.0.0.1:6806/">http://127.0.0.1:6806/</a> 地址直接打开思源笔记。实现思源笔记客户端多开</p><p>点击下面的地址不用切换浏览器 UA 就可以打开手机端和电脑端界面</p><ul><li>手机端：<a href="http://127.0.0.1:6806/stage/build/mobile/">http://127.0.0.1:6806/stage/build/mobile/</a></li><li>电脑端：<a href="http://127.0.0.1:6806/stage/build/desktop/">http://127.0.0.1:6806/stage/build/desktop/</a></li></ul><h2 id="理由九：⛪️-背后有成熟的社区"><a href="#理由九：⛪️-背后有成熟的社区" class="headerlink" title="理由九：⛪️ 背后有成熟的社区"></a>理由九：⛪️ 背后有成熟的社区</h2><p>D 和 V 还开发了<a href="https://ld246.com/article/1440573175609">链滴社区</a>，其社区有着平等・自由・奔放的价值观。</p><p>在链滴的<a href="https://ld246.com/domain/siyuan">思源笔记</a>专栏，可以提交使用过程中遇到的 bug 、合理的功能建议，分享自己的笔记心得。同时在这个社区，也可以讨论技术、生活等，气氛非常友好。</p><p><img src="https://b3logfile.com/siyuan/1610205759005/assets/image-20210907085759-bx5sebs.png" alt="链滴社区-思源笔记 截图 2021-09-07 09:02:29" title="链滴社区-思源笔记 截图 2021-09-07 09:02:29"></p><h2 id="理由十：⛄️-可以学习并应用编程知识"><a href="#理由十：⛄️-可以学习并应用编程知识" class="headerlink" title="理由十：⛄️ 可以学习并应用编程知识"></a>理由十：⛄️ 可以学习并应用编程知识</h2><p>本人是编程爱好者，通过思源你可以接触到 css、html、js、Golang、SQL 等语言，学习开发自己的主题、挂件、浏览器扩展，思源笔记群里有很多大佬，可以借此机会询问他们相关开发经验。因为思源，我也开始把 github 当成朋友圈有空就刷刷，借思源笔记的 repo 管理方式学习管理自己的 github repo。</p><h2 id="☎️-你可能需要的信息汇总"><a href="#☎️-你可能需要的信息汇总" class="headerlink" title="☎️ 你可能需要的信息汇总"></a>☎️ 你可能需要的信息汇总</h2><h3 id="思源笔记的相关网址"><a href="#思源笔记的相关网址" class="headerlink" title="思源笔记的相关网址"></a>思源笔记的相关网址</h3><p>软件官网：<a href="https://b3log.org/siyuan/">https://b3log.org/siyuan/</a></p><p>Github 页面： <a href="https://github.com/siyuan-note/siyuan">https://github.com/siyuan-note/siyuan</a></p><p>思源笔记官方 QQ 群：<a href="https://qm.qq.com/cgi-bin/qm/qr?k=_u1B3EGEAqjpYDBz3NjDEjxyRNABF7oa&amp;authKey=SRVaXd7KOeDejET3md3XoHjZOtdQeQt4L0yUpA+73Ohpk71Gh0O/Li6wuhTuUJgl&amp;noverify=0&amp;group_code=724713327">724713327</a></p><p>社区： <a href="https://ld246.com/domain/siyuan">https://ld246.com/domain/siyuan</a></p><p>捐赠渠道： <a href="https://ld246.com/sponsor">https://ld246.com/sponsor</a></p><p>订阅地址： <a href="https://ld246.com/subscribe/siyuan">https://ld246.com/subscribe/siyuan</a> ， ￥96/年，一次付费永久都是这个价格，感兴趣的老哥尽早占位，阿巛的思源笔记订阅码：B3XX0Y8（在买会员时使用订阅推荐码可增加 500 MB 云端空间和 7 天使用期）</p><p>语雀思源手册： <a href="https://www.yuque.com/siyuannote/">https://www.yuque.com/siyuannote/</a></p><h3 id="思源笔记的一些重要公告"><a href="#思源笔记的一些重要公告" class="headerlink" title="思源笔记的一些重要公告"></a>思源笔记的一些重要公告</h3><p>思源笔记缘起：<a href="https://ld246.com/article/1619868273581">https://ld246.com/article/1619868273581</a></p><p>思源笔记 v1.2.0 发布，一个全新的开始 - LianDi: <a href="https://ld246.com/article/1626313293676">https://ld246.com/article/1626313293676</a></p><p>关于思源笔记使用第三方同步盘可能造成数据损坏的问题：<a href="https://ld246.com/article/1626537583158">https://ld246.com/article/1626537583158</a></p><p>思源笔记 v1.2.0 将移除 WebDAV 支持，请提前迁移数据：<a href="https://ld246.com/article/1619520201279">https://ld246.com/article/1619520201279</a></p><p>思源笔记 v1.1.x 数据迁移至 v1.2.x 的说明: <a href="https://ld246.com/article/1622710344891">https://ld246.com/article/1622710344891</a></p><p>思源笔记 v1.2.5 发布，迁移到 id 子文档：<a href="https://ld246.com/article/1629458118781">https://ld246.com/article/1629458118781</a></p><p>关于思源笔记 v1.2.5 迁移程序即将停止支持的公告: <a href="https://ld246.com/article/1629721927380">https://ld246.com/article/1629721927380</a></p><p>关于思源笔记暂停教育优惠的公告：<a href="https://ld246.com/article/1628685591154">https://ld246.com/article/1628685591154</a></p><p>关于思源为什么要使用 json 格式进行存储笔记而不是 md：<a href="https://ld246.com/article/1619080345258">https://ld246.com/article/1619080345258</a></p><p>关于思源文件名 ID 化的解释：<a href="https://ld246.com/article/1629599006639/comment/1629607168765?r=Achuan-2#comments">https://ld246.com/article/1629599006639/comment/1629607168765?r=Achuan-2</a></p><h2 id="☕️-后话"><a href="#☕️-后话" class="headerlink" title="☕️ 后话"></a>☕️ 后话</h2><blockquote><p>有机械者必有机事，有机事者必有机心。机心存于胸中，则纯白不备，纯白不备，则神生不定；神生不定者，道之所不载也</p></blockquote><p>在使用笔记软件之前，朋友，我希望你先思考下</p><p>我为什么记笔记？<br>我为什么要用电子笔记？<br>我应该记什么？<br>我应该怎么记笔记？<br>我应该怎么将笔记真正用于提升自我，而不是写完就当个宝贝封存积灰？</p><p>做事之前请多问问自己 why、what 和 how，搞清楚自己的需求和目的很重要，不是看见大家都在使用 notion、语雀、OneNote、印象、wolai、飞书以及各种双链笔记（ob、rr、re、logseq、葫芦笔记等等），大吹特吹，声称笔记软件是第二大脑，卡片笔记写作有多好、双链软件神乎其神，你就去用。我在这里推荐“思源笔记”，仅仅是希望一款优秀的软件能被人看到，希望真正有此需求的人能恰好使用到这款软件。</p><p>我也可以很明确的告诉你，从思源 1.2.5 来看，思源目前并不适合用于团队协作（协作是 v3 的计划，使用 docker 部署另说 ），不适合当作存粹的 md 编辑器，它目前只适用于个人的知识管理。思源追求的功能很多，它很重。思源 v1.2 起把笔记的存储格式改为 json、v1.2.5 把文件名用 id 存储，这点有好有坏，好处在于让一些功能借助唯一的 id 号变得更容易实现更稳定了，坏处在于用户想在资源管理器操作笔记的难度大大加大了。但对我来说影响不大，因为我把思源笔记看作是 OneNote 的支持 Markdown 和双链的版本来使用，我用 OneNote 的时候压根不会在意其底层格式是什么，不会说要查看本地文件，也希望你在使用思源的时候专心创作，注重内容，而非形式，只要它的功能强大、能免费且方便导出 md、pdf、word 就已足够。千万别把它当作协作笔记软件或是 typora 来使用，你会很折腾，吃力不讨好。合适的工具请做合适的事情。</p><blockquote><p><strong>我的背包里面有一把朋友送的瑞士军刀，功能非常多，但是我使用最频繁的其实是用它来拆快递。并非是不知道这把刀能做别的事情，而是在生活中缺少使用的情境。</strong></p><p>任何工具的使用，不取决于工具本身的丰富程度，而取决于我们的情境和需求。与其关注功能，不如多问自己要解决的核心问题是什么。形成正确的理念，比玩弄花哨的工具更重要。</p><p>优秀的工具可以引导我们养成良好的习惯，过于复杂的工具则会加重我们的学习负担。选择最适合自己、最得心应手的工具。​</p><p><strong>奥卡姆剃刀原则：如非必要，勿增实体</strong></p></blockquote><p>人类很擅长使用工具，但是最怕的是，你，仅仅只会使用工具。<br>只是毫无创造的模仿、拷贝，随波逐流<br>我希望你能善用工具，努力提升自我，实现自己的愿望，<br>而不是为了记笔记而记笔记、为了合群而磨灭个性<br>我希望你学会找到自己最好的学习和生活方式<br>而不是被营销号的各种最佳学习方法、最佳笔记软件搞得晕头转向</p><blockquote><p>使用一个工具的最大障碍是「需求不清」，如果不清楚自己的记录需求是什么，那功能越多，可能造成的障碍越大，很容易就使人陷进去对功能的各种研究中去了。用完一堆笔记软件之后你会明白：最需要提升的并不是你所用的工具，<strong>而是你自己</strong>。​<br>好比我们想要快速学会骑自行车，要把精力放在掌握平衡上，反复寻找平衡的感觉。可是，我们现在的大多数人，却是在追求两分钟学会 21 种踩脚蹬子的技巧……​</p></blockquote><p>希望大家能善用工具，努力提升，加油！<br>有机会将分享下我个人的笔记使用经验和学习经验。</p>]]></content>
      
      
      <categories>
          
          <category> 折腾 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 思源笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GitHub 提交代码时 emoji 表情的使用</title>
      <link href="posts/b8c8.html"/>
      <url>posts/b8c8.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>🌏Reference</p><ul><li><a href="https://gitmoji.dev/?utm_source=ld246.com">gitmoji | An emoji guide for your commit messages</a></li><li><a href="https://dev.to/javidjms/git-write-better-commits-with-gitmoji-3193">🔨 [git]: Write better commits with Gitmoji - DEV Community</a></li><li><a href="https://github.com/Kimi-Gao/Program-Blog/issues/71">用 emoji 表情提交代码指南 · Issue #71 · Kimi-Gao/Program-Blog (github.com)</a></li></ul></blockquote><p><img src="https://b3logfile.com/siyuan/1610205759005/assets/image-20210921211205-remwfyi.png" alt="image.png"></p><p>一条标准的 git commit 应该为</p><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>type<span class="token operator">></span> <span class="token punctuation">[</span>scope<span class="token punctuation">]</span>: <span class="token string">"Message"</span></code></pre><p><strong>type</strong> must be one of the following mentioned below :</p><ul><li><build>: Build related changes (eg: npm related/ adding external dependencies)</build></li><li><chore>: A code change that external user won’t see (eg: change to .gitignore)</chore></li><li><docs>: Documentation related changes</docs></li><li><feat>: Introduction of a new feature</feat></li><li><fix>: Resolve an issue directly linked to development (bugfixes)</fix></li><li><hotfix>: Resolve an issue directly linked to production (patches)</hotfix></li><li><test>: Add/Update test cases</test></li><li><performance>: Add code that improves performance</performance></li><li><refactor>: Update for code for maintainability (clean code)</refactor></li></ul><p><strong>scope</strong> is optional and must be a noun that represents the section of the codebase</p><p><strong>Message</strong> should be imperative and should describe the commit with a clear message/keywords.</p><p>such as</p><pre class=" language-markdown"><code class="language-markdown">feat(home, components): Add login buttonfeat(home, components): Add login modalfix(home, components): Resolve issue with modal collapseschore(home): Move icons folderfeat(newsletter): Add Newsletter componentfeat(navbar): Add navbar container</code></pre><p>Now we can replace the <type> with an emoji :</type></p><p>🎨 Improve structure / format of the code.</p><p>⚡️ Improve performance.</p><p>🔥 Remove code or files.</p><p>🐛 Fix a bug.</p><p>✨ Introduce new features.</p><p>📝 Add or update documentation.</p><p>🚀 Deploy stuff.</p><p>💚 Fix CI Build.</p><p>👷 Add or update CI build system.</p><p>🔧 Add or update configuration files.</p><p>🔨 Add or update development scripts.</p><p>⚰️ Remove dead code.</p><p>Example of commits :</p><pre class=" language-markdown"><code class="language-markdown">✨ (home, components): Add login button✨ (home, components): Add login modal🐛 (home, components): Resolve issue with modal collapses🚚 (home): Move icons folder✨ (newsletter): Add Newsletter component✨ (navbar): Add navbar container🔥 (navbar): Remove old navbar file✅ (home): Add login test case🎨 (home, component): Improve login modal📦️ (npm): Add react-table🔨 Update script start-server.js</code></pre><p>比较专业的 github repo 都会使用 gitmoji 进行管理 commit：执行 <code>git commit</code> 时使用 emoji 为本次提交打上一个 “标签”， 使得此次 commit 的主要工作得到凸现，提高阅读体验，同时也能够当作标签功能使得其在整个提交历史中易于区分与查找。</p><table><thead><tr><th align="left">emoji</th><th align="left">emoji 代码</th><th align="left">commit 说明</th></tr></thead><tbody><tr><td align="left">🔖</td><td align="left"><code>:bookmark:</code></td><td align="left"><strong>Release / Version tags.</strong></td></tr><tr><td align="left">📝</td><td align="left"><code>:memo:</code></td><td align="left"><strong>Add or update documentation.</strong></td></tr><tr><td align="left">✏️</td><td align="left"><code>:pencil2:</code></td><td align="left">Fix typos.</td></tr><tr><td align="left">📄</td><td align="left"><code>:page_facing_up:</code></td><td align="left">Add or update license</td></tr><tr><td align="left">✨</td><td align="left"><code>:sparkles:</code></td><td align="left">Introduce new features.</td></tr><tr><td align="left">🎉</td><td align="left"><code>:tada:</code></td><td align="left">Begin a project.</td></tr><tr><td align="left">💥</td><td align="left"><code>:boom:</code></td><td align="left">Introduce breaking changes.</td></tr><tr><td align="left">🎨</td><td align="left"><code>:art:</code></td><td align="left"><strong>Improve structure / format of the code.</strong></td></tr><tr><td align="left">⚡️</td><td align="left"><code>:zap:</code></td><td align="left">Improve performance.</td></tr><tr><td align="left">🐛</td><td align="left"><code>:bug:</code></td><td align="left"><strong>Fix a bug.</strong></td></tr><tr><td align="left">🚑</td><td align="left"><code>:ambulance:</code></td><td align="left">Critical hotfix.</td></tr><tr><td align="left">💡</td><td align="left"><code>:bulb:</code></td><td align="left">Add or update comments in source code</td></tr><tr><td align="left">🔥</td><td align="left"><code>:fire:</code></td><td align="left"><strong>Remove code or files.</strong></td></tr><tr><td align="left">🗑️</td><td align="left"><code>:wastebasket:</code></td><td align="left">Deprecate code that needs to be cleaned up.。</td></tr><tr><td align="left">🚚</td><td align="left"><code>:truck:</code></td><td align="left">Move or rename resources (e.g.: files, paths, routes).</td></tr><tr><td align="left">💩</td><td align="left"><code>:poop:</code></td><td align="left">Write bad code that needs to be improved.</td></tr><tr><td align="left">⚰️</td><td align="left"><code>:coffin:</code><br></td><td align="left">Remove dead code.</td></tr><tr><td align="left">📸</td><td align="left"><code>:camera_flash:</code><br></td><td align="left">Add or update snapshots.</td></tr><tr><td align="left">💄</td><td align="left"><code>:lipstick:</code></td><td align="left">Add or update the UI and style files.</td></tr><tr><td align="left">💫</td><td align="left"><code>:dizzy:</code></td><td align="left">Add or update animations and transitions.</td></tr><tr><td align="left">🍱</td><td align="left"><code>:bento:</code></td><td align="left">Add or update assets.</td></tr><tr><td align="left">🙈</td><td align="left"><code>:see_no_evil:</code></td><td align="left">Add or update a .gitignore file.</td></tr><tr><td align="left">⏪️</td><td align="left"><code>:rewind:</code></td><td align="left">Revert changes</td></tr><tr><td align="left">🔀</td><td align="left"><code>:twisted_rightwards_arrows:</code></td><td align="left">Merge branches.</td></tr><tr><td align="left">🔧</td><td align="left"><code>:wrench:</code></td><td align="left"><strong>Add or update configuration files.</strong></td></tr><tr><td align="left">🚀</td><td align="left"><code>:rocket:</code></td><td align="left">Deploy stuff.</td></tr><tr><td align="left">🚨</td><td align="left"><code>:rotating_light:</code></td><td align="left">Fix compiler / linter warnings.</td></tr><tr><td align="left">🚧</td><td align="left"><code>:construction:</code></td><td align="left">Work in progress.</td></tr><tr><td align="left">✅</td><td align="left"><code>:white_check_mark:</code></td><td align="left">Add, update, or pass tests.</td></tr><tr><td align="left">💬</td><td align="left"><code>:speech_balloon:</code></td><td align="left">Add or update text and literals.</td></tr><tr><td align="left">🍻</td><td align="left"><code>:beers:</code></td><td align="left">Write code drunkenly.</td></tr><tr><td align="left">👽️</td><td align="left"><code>:alien:</code></td><td align="left">Update code due to external API changes.</td></tr><tr><td align="left">🔨</td><td align="left"><code>:hammer:</code></td><td align="left">Add or update development scripts.</td></tr><tr><td align="left">🔒</td><td align="left"><code>:lock:</code></td><td align="left">Fix security issues.</td></tr><tr><td align="left">🏁</td><td align="left"><code>:checked_flag:</code></td><td align="left">修复 Windows 下的问题</td></tr><tr><td align="left">🍎</td><td align="left"><code>:apple:</code></td><td align="left">修复 macOS 下的问题</td></tr><tr><td align="left">🐧</td><td align="left"><code>:penguin:</code></td><td align="left">修复 Linux 下的问题</td></tr><tr><td align="left">🐳</td><td align="left"><code>:whale:</code></td><td align="left">Docker 相关工作</td></tr><tr><td align="left">♻️</td><td align="left"><code>:recycle:</code></td><td align="left">Refactor code</td></tr><tr><td align="left">👷</td><td align="left"><code>:construction_worker:</code></td><td align="left">Add or update CI build system.</td></tr><tr><td align="left">💚</td><td align="left"><code>:green_heart:</code></td><td align="left">fix CI Build.</td></tr><tr><td align="left">📈</td><td align="left"><code>:chart_with_upwards_trend:</code></td><td align="left">Add or update analytics or track code</td></tr><tr><td align="left">⬆️</td><td align="left"><code>:arrow_up:</code></td><td align="left">升级依赖</td></tr><tr><td align="left">⬇️</td><td align="left"><code>:arrow_down:</code></td><td align="left">降级依赖</td></tr><tr><td align="left">➕</td><td align="left"><code>:heavy_plug_sign:</code></td><td align="left">Add a dependency.</td></tr><tr><td align="left">➖</td><td align="left"><code>:heavy_minus_sign:</code></td><td align="left">Remove a dependency.</td></tr><tr><td align="left">📌</td><td align="left"><code>:pushpin:</code></td><td align="left">Pin dependencies to specific versions</td></tr><tr><td align="left">🌐</td><td align="left"><code>:globe_with_meridians:</code></td><td align="left">Internationalization and localization.</td></tr><tr><td align="left">🧪</td><td align="left"><code>:test_tube:</code></td><td align="left">Add a failing test.</td></tr><tr><td align="left">👔</td><td align="left"><code>:necktie:</code><br></td><td align="left">Add or update business logic</td></tr><tr><td align="left">🧐</td><td align="left"><code>:monocle_face:</code><br></td><td align="left">Data exploration/inspection.</td></tr><tr><td align="left">🩹</td><td align="left"><code>:adhesive_bandage:</code></td><td align="left">Simple fix for a non-critical issue.</td></tr><tr><td align="left">🛂</td><td align="left"><code>:passport_control:</code></td><td align="left">Work on code related to authorization, roles and permissions.</td></tr><tr><td align="left">🥅</td><td align="left"><code>:goal_net:</code></td><td align="left">Catch errors.</td></tr><tr><td align="left">🚩</td><td align="left"><code>:triangular_flag_on_post:</code></td><td align="left">Add, update, or remove feature flags.</td></tr><tr><td align="left">🌱</td><td align="left"><code>:seedling:</code></td><td align="left">Add or update seed files.</td></tr><tr><td align="left">🏷️</td><td align="left"><code>:label:</code></td><td align="left">Add or update types.</td></tr><tr><td align="left">🔍️</td><td align="left"><code>:mag:</code></td><td align="left">Improve SEO.</td></tr><tr><td align="left">⚗️</td><td align="left"><code>:alembic:</code></td><td align="left">Perform experiments.</td></tr><tr><td align="left">🥚</td><td align="left"><code>:egg:</code></td><td align="left">Add or update an easter egg.</td></tr><tr><td align="left">🤡</td><td align="left"><code>:clown_face:</code></td><td align="left">Mock things.</td></tr><tr><td align="left">📱</td><td align="left"><code>:iphone:</code></td><td align="left">Work on responsive design</td></tr><tr><td align="left">🏗️</td><td align="left"><code>:building_construction:</code></td><td align="left">Make architectural changes.</td></tr><tr><td align="left">🚸</td><td align="left"><code>:children_crossing:</code></td><td align="left">Improve user experience / usability.</td></tr><tr><td align="left">👥</td><td align="left"><code>:busts_in_silhouette:</code></td><td align="left">Add or update contributor(s).</td></tr><tr><td align="left">🔇</td><td align="left"><code>:mute:</code></td><td align="left">Remove logs.</td></tr><tr><td align="left">🔊</td><td align="left"><code>:loud_sound:</code></td><td align="left">Add or update logs.</td></tr><tr><td align="left">🗃️</td><td align="left"><code>:card_file_box:</code></td><td align="left">Perform database related changes.</td></tr><tr><td align="left">♿️</td><td align="left"><code>:wheelchair:</code></td><td align="left">Improve accessibility.</td></tr><tr><td align="left">📦️</td><td align="left"><code>:package:</code></td><td align="left">Add or update compiled files or packages.</td></tr></tbody></table><p>一些工具</p><ul><li>vscode 插件: <a href="https://github.com/vtrois/gitmoji-vscode">vtrois/gitmoji-vscode: 😜 An emoji tool with your git commit messages for VS Code (github.com)</a>，可以在 vscode 提交 commit 时插入 gitmoji<br><img src="https://b3logfile.com/siyuan/1610205759005/assets/image-20210921203150-c6tv640.png" alt="image.png"></li><li>utools 插件 GitEmoji，目前暂时并不好用，是直接复制冒号语法到剪贴板不会直接粘贴，而且搜索竟然不能直接搜英文……<br><img src="https://b3logfile.com/siyuan/1610205759005/assets/image-20210921202948-16o5g5o.png" alt="image.png"></li></ul><blockquote><p>番外：</p><p>所以如果做了一个练习代码的仓库，每次提交新建一个文件，好多博客都没提到这个，应该用什么 emoji 呢</p><p>决定了用 🌑<code>:new_moon:</code></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Github </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>不发朋友圈的人</title>
      <link href="posts/e98d.html"/>
      <url>posts/e98d.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>“社会是一个舞台，我们都是台上的演员，戴着假面具，用演技呈现自己理想的形象。”</p></blockquote><p>昨晚听电台，听到“刚刚本想发条朋友圈，想了想还是算了”的一段，蛮感触的。我真的很羡慕不发也不看朋友圈的人。</p><p>因为ta们有知音，所以很多事不必告诉所有人，不必进行没有回应的自说自话；</p><p>ta们足够自知，所以不需他人的评价和某些标签；</p><p>ta们的生活足够充实，所以不必费心浏览那些精彩的动态，不必担心错过了哪些新鲜事，不必与人比较，而是用有限的精力和时间干活、学习、陪伴珍视的人；</p><p><strong>因为真正拥有，所以无需炫耀。</strong></p><p>而我又是从什么时候开始妄图从别人的动态了解一个人、热衷于窥探别人的生活的呢？</p><p>我是从什么时候开始把很多鸡毛蒜皮的事、自己才懂的话也发到网上去呢？</p><p>什么时候当点赞数少的时候，就觉得自己的生活不值得别人点赞，自己不如别人受欢迎？</p><p><strong>我们都在努力发出声音，但大家的声音都鲜有人真正听懂。</strong></p><p><strong>我们都在不求回应般地自说自话。</strong></p><p><strong>当他退出时，他爱上了这轻松的感受</strong></p>]]></content>
      
      
      
        <tags>
            
            <tag> 树洞 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>外公再见</title>
      <link href="posts/80a3.html"/>
      <url>posts/80a3.html</url>
      
        <content type="html"><![CDATA[<p>2021 年 2 月 24 日 早晨，当我吃完早饭，悠哉悠哉躺在床上玩电脑时，已经去上班的老妈突然回来，眼睛泛红，待着哭腔着急地和老爸说，外公摔倒了，摔没了……当时自己一听到，真的是懵的，太像梦了明明春节时还见过的人，还看上去那么精神的人就这样走了，时间当真这么无情吗？</p><p>在我心里，外公一直是一个地地道道的果农，种着橙子和柚子。由于舅舅们和老妈要么在霞浦要么在外地，孙子孙女一辈也都在外打拼或嫁到外地，偌大的房子也基本只有他一个人住，偶尔已经改嫁的大舅妈会来家里帮忙。其实舅舅未尝没有请外公到城里去住，只是外公这人的个性太过倔强，请他上去真比登天还难，有时候在城里办酒席都不一定请的动！生病了，牙齿有问题，也总是倔着不去。以前一直觉得外公身体很硬朗，不像爷爷瘦骨嶙峋，直到 18 年大一回家的时候，受老妈的托给外公寄钱，然后他带我去摘橙子，他提着一大袋橙子结果没走几步路就要休息一会，那时我才意识到他开始老了。</p><p>2021 年 2 月 24 日 16：00 我退了之前泉州到武汉的票，一家人和元相舅舅一家一起到了下车，一下计程车，老妈便立即奔向了山里，当时我不解，后来才直到那是外公停尸的地方。听大家七嘴八舌的说，大概推测外公是 2 月 23 日下午处理柚子树的时候给田埂绊倒，脸冲向地面，血压一高，呼吸不过来，走的。当时 2 月 24 日 9 点发现的时候，整个人都硬了，脸给划的都是血，脸是黑的。听到的时候就在想，若是家里有人，若是家人有给外公打电话，这场悲剧能不能阻止。我第一次见到那么高大的二舅哭的像一个泪人似的，对每个前来来的亲戚朋友诉说着。老妈这几天整晚都守在外公旁，26 号晚上她开始睡着，突然就跑到外公房间，呜呜地哭啼着，我则站在一旁不知所措。</p><p>2021 年 2 月 25 日 丽花表姐回来了，我折纸，看完了《想见你》</p><p>2021 年 2 月 26 日元宵节，文佳表妹下午也回来了，一家人挤在外公厨房疯狂折纸钱，我折类似于白无常的那种纸树。我开始渐渐觉得，有时候这种封建的仪式感真是必要的，一家人一边折一边闲聊，弥补这些年缺失的记忆，这可能是我这辈子过的最团圆的元宵节了，过年的时候人都没这么齐过。好像也开始渐渐珍视起与家人的关系，与其在网络里无病呻吟得到陌生人的几个赞，真不如好好和家里人促膝长谈，只有家人才会真正关心你在乎你。那天晚上请来了道场的人做法事，好像说的是本地话，但基本我只有在念家族名字的时候才能听懂。神神叨叨的，当跪拜的时候也莫名变得虔诚，双手合十，夹着一炷香，一拜、二拜、三拜……</p><p>2021 年 2 月 27 日 3：30 的时候就被叫醒了，紧紧包着外套也觉得格外的冷。山里漆黑一片，只有稀松的路灯点缀，走在田埂上，能感知到露水。5：30 外公入棺，掀开被子的一瞬间，家里几个女人顿时哭啼不止，砰砰，是打钉子的声音，噼里啪啦，是放鞭炮的声音，伴随着呜呜声，我在心里与外公告了别。</p>]]></content>
      
      
      <categories>
          
          <category> 故事 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 树洞 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>爷爷再见</title>
      <link href="posts/80ed.html"/>
      <url>posts/80ed.html</url>
      
        <content type="html"><![CDATA[<p>周五 2018 年 12 月 7 日班级聚会，趁着他们都下楼，自己一个人在楼上依然完全不着调瞎唱。唱累了，他们也随之上来了，找个地方坐下……</p><p>听到手机微信信息的铃声，老爸发来的</p><p>“儿，爷爷病危，做好心理准备，这几天准备回家”</p><p>脑袋空白……</p><p>呆呆地望着四周，几个人在唱歌，几个人在打桌游，房间里五颜六色的灯光依旧舞动……提早独自一人回去。</p><p>他的情况我是知道的，暑假时就已经很不好，我和妈带他去福安，看他痛苦不堪的样子，实在难受。之后看病吃药，似乎一直没什么大用，终日躺在床上，不过去看他的时候，还会笑着聊会。后来来武汉上学 。10 月初 10 月底通过电话，他笑着说还好，又问我的情况，不过听得出声音越显虚弱无力了……</p><p>一个人从光谷走回去，听着刚才自己录下的歌，天很冷，今天下了我期待已久的第一场雪，初雪没有纷纷，天地却那么茫茫。重复听录的《父亲》，走在昏暗灯照映的路上，灯晕是抹不掉的浓雾，路上行人稀稀，从西边一直走到东边，任寒风吹袭，宁静荒凉朦胧的夜……</p><p>周六 12 月 8 日，早上妈打电话来</p><p>“爷爷昨晚去了”</p><p>“啊？”不知该说什么，就应了这一句……</p><p>周日还有军理考试，只好周一启程回家</p><p>口语课结束后，发微信和朋友诉说，她问我哭了没，她说她想到一些事都快哭了，没回她，身处异乡，反而那种感觉似乎不那么强烈，繁重的课业又让我没空悲伤。然而走在路上，在食堂吃饭，眼睛突然发酸，会渐渐回忆起爷爷的脸庞，与爷爷相处的那些场景……</p><p>爸妈常年在外打工，记忆里，先有外公抚养，稍大点再在爷爷奶奶家生活。爷爷一直给我的印象就是不像农民，反而有书生气质，主业是农民，爱好书法，给村里村外的人写对联写各种文书。记忆里他说他原来是不认得字的，字是放牛时一位老太太教的。我确实记不清，也没再去问过他。现在回忆起爷爷来，脑海里印象最深的，是他用毛笔沾水，在地板上写满了字，我当时真的很是触动，看见大大小小的繁体字写满了地面，犹如画卷一般给人震撼的美的感受，他有次也让我写，我从来就不好好练毛笔字，就写了比较熟悉的“伟”，他看起来蛮满意，又让我写其他字，然后我就原形毕露了……他经常写对联，家里有好几本对联大全，也自己想对联，想好了，有时会去问问我的意见，我哪里懂什么对联，就知道两句词性要对，愣愣地听他讲，不过去年会场门前他写的对联我倒是很积极地参加讨论呢。有一次回来，他带我去逛村子，看到石亭上刻的对联，自豪地笑着说那是他写的，之后又给我讲起格律诗来，这我倒是懂得，看他讲得那么起劲，也就听下去了。之前背滕王阁序，爷爷看到了，用很开心地用霞浦话读起来，说他以前是背过的，让我把书拿给他抄下，因为要背书不肯，看他那么兴起，后来自己认认真真抄了一遍给他。爷爷有时候写对联，会让我帮忙，拉住红纸，我向来是不愿，但从来都不好拒绝他，不过我还是喜欢看他写书法，不时问我几个繁体字……</p><p>爷爷有时也拉我一起给家里装灯，修电器，虽然我从来都是打下手，愣头愣脑的。第一次装日光灯，他以为我会，实际上装了老半天夜安不上。风扇插头被烧坏了，他准备直接接个插头，我果断地说，左零右火，这条接左边，这条接右边，净会瞎扯。有次台风特别大，屋瓦被掀，我房间漏雨，我和爷爷爬上天花板，这个从童年起就每晚发出老鼠声音的来源之处，冒着风雨，换下破碎的瓦片。</p><p>第一次也是最后一次见爷爷哭，是五年级还是四年级，叔叔贩毒被抓，法院来通知，爷爷握着话筒，颤抖着滴下黄豆大的眼泪。后来，叔叔进监狱欠下的债没还，打电话来家里，爷爷颤抖地说，我老人家没钱!我老人家没钱!你让他还去……</p><p>如今家里他写的字想必还挂在墙上，那些他写的红纸对联想来早该褪成白色了吧，石亭上炯炯有力的大字依然受着岁月风雨洗礼……</p><p>12 月 10 号星期一，</p><p>设了六点的闹钟，结果五点五十多就自己醒了，赶紧洗漱完，全身武装，奔向楼下，骑上摩拜，去西边，再到光谷地铁站，坐地铁去火车站……外面下雨了，雨夹雪吗？</p><p>三点半到福州，等了三小时多，坐上七点多的车回霞浦。一路上，都在埋头看书……</p><p>可离家越进，心就越沉重，越看不下去。</p><p>到霞浦了，旁边，学生模样的男孩大喊终于到家了，是啊，要到家了……</p><p>打的，回小马村，真的很怕在夜晚坐车，夜晚乡下的公路漆黑一片，只有车灯照清前方的路，往窗外望去，只能望见黑乎乎山的轮廓，和零零落落的几颗星星……</p><p>走在村里的小巷，寂寥无人，唯有家旁的小溪的潺潺流水声，那些金鱼依然在游动……</p><p>从后面走向前门，首先看到的是一盆盆白花放在门口，走进，只看到，一块大布遮住了大厅三分之二，爸问我怎么这么早回来，其实那时已经九点了，妈急忙给我热饭，热的时候，看了我一眼，“你去看看爷爷”我发了吓呆，没动，没人告诉我，我还是走向了那块布后面，爷爷安安静静的躺着，右上左上各有一支蜡烛不断地燃烧着，飞舞着火焰……</p><p>奶奶碰巧出来，零乱着头发，说我回来了，冷不……</p><p>家里人和其他守夜的朋友，有说有笑……</p><p>我呆呆地坐在一旁……</p><p>人生不过岁月尔尔……</p><p><img src="https://b3logfile.com/siyuan/1610205759005/assets/20210301003126-fcp0bok-download_file.jfif" alt="download_file.jfif"></p><p><img src="https://b3logfile.com/siyuan/1610205759005/assets/20210301003130-qq6nt40-download_file_1.jfif" alt="download_file_1.jfif"></p>]]></content>
      
      
      <categories>
          
          <category> 故事 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 树洞 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>小熊的独白</title>
      <link href="posts/23b2.html"/>
      <url>posts/23b2.html</url>
      
        <content type="html"><![CDATA[<p><strong>小熊喜欢帮助别人，但却不太会求助别人</strong></p><p>小熊总是给人个性可爱的形象，大咧咧的没有心机，不太会拒绝别人的请求，只要是自己有能力，绝对会尽全力的帮助别人，把别人的事情看的比自己还重要，帮助别人对于小熊来说，是很开心的事情。</p><p>小熊喜欢帮助别人，但却不太会求助别人，小熊总是喜欢挑战自己的极限，遇到困难习惯自己撑住，除非真的不行，才会请求帮助，小熊享受挑战自己的过程，但有时候也会无助害怕，其实小熊也不是特别也自信，也需要别人的加油打气，别人的打气，会成为小熊最大的动力。</p><p><strong>小熊容易乱买东西，存钱之路非常艰辛</strong></p><p>通常小熊都没什么金钱观念，不是小熊很爱挥霍，而是小熊买东西都不会多想什么，时常省小钱却花大钱，小熊很容易冲动购物，可能那天心情特别好，看到什么都觉得喜欢就买了，又或者那天心情特别差，就会想买东西发泄。</p><p><strong>一句简单的问候，都能让小熊很感动</strong></p><p>不要看小熊外表成熟坚强，但其实内心住着小孩，很容易满足，也很容易感动，一句简单的问候，一个温暖的拥抱，或者一份简单的礼物，只要别人有将小熊放在心底，小熊就会非常感动。</p><p>小熊相信所有美好的事情，因为小熊认为唯有相信，幸福才会降临，小熊相信唯有抱持正向的信念，做任何事才会顺利，小熊有自己的理念，不轻易被改变，会坚持自己该做的事情，当个相信幸福总有一天会到来的小熊。</p><p><strong>陷入难过的小熊，会对自己精神喊话</strong></p><p>小熊难过时，习惯自言自语，大喊自己真的快要撑不下去，真的好痛苦，但大喊完，就会开始说服自己精神喊话，和自己说在撑一下一定行，没有人可以打倒自己。</p><p>小熊从不在别人面前示弱，都是因为那该死的自尊心，让小熊活的特别艰辛，小熊习惯把困难的事情，通通揽在自己身上，拼死拼活的也会把事情完成，小熊对每件事情都很努力，没人能阻挡小熊，那是小熊对事物态度的坚持。</p>]]></content>
      
      
      <categories>
          
          <category> 故事 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 树洞 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Arduino智能小车</title>
      <link href="posts/17b5.html"/>
      <url>posts/17b5.html</url>
      
        <content type="html"><![CDATA[<p>本次智能小车包括以下三个模块：自动寻迹，超声波测距，蓝牙控制。各模块设计意图如下详述： </p><ol><li> 自动寻迹：<br>（1）设计方式：在车身下靠近地面处装两个灰度传感器。<br>（2） 设计功能：实现小车从出发区沿着白色路面的黑色轨迹到达停车区，要求:<br> a. 若两个传感器都没有检测到黑线时，小车直线前进。<br> b. 若有一侧传感器检测到黑线时，小车向该侧转弯。<br>（3） 设计实现 : 对于不同的情况，在代码中控制不同车轮的转动与停止以及车速。在实际情况中应根据电池电量，车轮损坏，传感器灵敏度等实际情况调整左右轮的转速。</li><li>超声波测距<br>（1）设计方式：在车身前上方安装超声波传感器和蜂鸣器<br>（2）设计功能：当启动该功能之后小车一边超声测距一边开始向前自动循迹同时响起蜂鸣器，大约离障碍物10cm时即终点线前方，蜂鸣器关闭，小车停止<br>（3）设计实现：导入超声波测距模块，通过实际测量障碍物在小车10cm前方时message值，在测距大于10cm时，使用自动循迹函数循迹并响起蜂鸣器，测距小于10cm时，关闭蜂鸣器停止小车，</li><li>   蓝牙控制：<br>(1) 设计方式：小车内部安装有蓝牙设备，手机安装蓝牙串口通信助手。<br>(2) 设计功能：手机通过“蓝牙串口通信助手”软件给智能小车发送相关的遥控指令，控制小车按规定路径到达终点。<br>如 f：前进 b：后退 l：左转 r：右转 s：停止<br>(3) 设计实现：在代码中为不同指令编写函数，通过控制不同车轮的转动与静止以及转速实现。</li></ol><p><img src="https://b3logfile.com/siyuan/1610205759005/assets/image-20210417205509-1sgheao.png" alt="流程图"><br>代码</p><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> L_state <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//定义状态，初始为蓝牙控制模式</span><span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// put your setup code here, to run once:</span><span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">//初始化串口</span>  Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">9600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//定义接口类型oid loop()</span>    <span class="token function">pinMode</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span> INPUT<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// 左侧灰度传感器端口-16</span>    <span class="token function">pinMode</span><span class="token punctuation">(</span><span class="token number">17</span><span class="token punctuation">,</span> INPUT<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// 右侧灰度传感器端口-17</span>    <span class="token function">pinMode</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> OUTPUT<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// 右电机反转端口-9</span>    <span class="token function">pinMode</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> OUTPUT<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 右电机正转端口-10</span>    <span class="token function">pinMode</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> OUTPUT<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// 左电机反转端口-5</span>    <span class="token function">pinMode</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> OUTPUT<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//左电机正转端口-6</span>    <span class="token function">pinMode</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> OUTPUT<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//蜂鸣器端口-11</span>    <span class="token comment" spellcheck="true">//输出清零</span>    <span class="token function">analogWrite</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">analogWrite</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">analogWrite</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">analogWrite</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">digitalWrite</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> LOW<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 测距发射端口15,低电平</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//主函数</span><span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token keyword">char</span> getstr <span class="token operator">=</span> Serial<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//读取HC-05蓝牙模块接收的字符</span>  <span class="token keyword">switch</span> <span class="token punctuation">(</span>getstr<span class="token punctuation">)</span>  <span class="token punctuation">{</span>  <span class="token keyword">case</span> <span class="token string">'l'</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true">//左转</span>    <span class="token function">drive_left</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">break</span><span class="token punctuation">;</span>  <span class="token keyword">case</span> <span class="token string">'r'</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true">//右转</span>    <span class="token function">drive_right</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">break</span><span class="token punctuation">;</span>  <span class="token keyword">case</span> <span class="token string">'f'</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true">//前进</span>    <span class="token function">drive_forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">break</span><span class="token punctuation">;</span>  <span class="token keyword">case</span> <span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true">//后退</span>    <span class="token function">drive_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">break</span><span class="token punctuation">;</span>  <span class="token keyword">case</span> <span class="token string">'d'</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true">//减速</span>    <span class="token function">speed_down</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">break</span><span class="token punctuation">;</span>  <span class="token keyword">case</span> <span class="token string">'s'</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true">//暂停</span>    <span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">break</span><span class="token punctuation">;</span>  <span class="token keyword">case</span> <span class="token string">'t'</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true">//自动寻迹</span>    <span class="token function">_trace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">break</span><span class="token punctuation">;</span>  <span class="token keyword">case</span> <span class="token string">'i'</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true">//超声检测</span>    <span class="token function">_supersound</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">break</span><span class="token punctuation">;</span>  <span class="token keyword">default</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true">//unknow command!</span>    <span class="token keyword">break</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//自动寻迹函数</span><span class="token keyword">void</span> <span class="token function">_trace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span><span class="token function">digitalRead</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">digitalRead</span><span class="token punctuation">(</span><span class="token number">17</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//如果右侧传感器探测到黑线，向右转</span>  <span class="token punctuation">{</span>    <span class="token function">turn_right</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">else</span>  <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span><span class="token function">digitalRead</span><span class="token punctuation">(</span><span class="token number">17</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">digitalRead</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//如果左侧传感器探测到黑线，向左转</span>    <span class="token punctuation">{</span>      <span class="token function">turn_left</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">else</span> <span class="token comment" spellcheck="true">//两侧传感器均探测到黑线或白线，直行</span>    <span class="token punctuation">{</span>      <span class="token function">drive_forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//超声波测距函数</span><span class="token keyword">int</span> <span class="token function">ardublockUltrasonicSensorCodeAutoGeneratedReturnCM</span><span class="token punctuation">(</span><span class="token keyword">int</span> trigPin<span class="token punctuation">,</span> <span class="token keyword">int</span> echoPin<span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token keyword">long</span> duration<span class="token punctuation">;</span>  <span class="token function">pinMode</span><span class="token punctuation">(</span>trigPin<span class="token punctuation">,</span> OUTPUT<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">pinMode</span><span class="token punctuation">(</span>echoPin<span class="token punctuation">,</span> INPUT<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">digitalWrite</span><span class="token punctuation">(</span>trigPin<span class="token punctuation">,</span> LOW<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">delayMicroseconds</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">digitalWrite</span><span class="token punctuation">(</span>trigPin<span class="token punctuation">,</span> HIGH<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">delayMicroseconds</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">digitalWrite</span><span class="token punctuation">(</span>trigPin<span class="token punctuation">,</span> LOW<span class="token punctuation">)</span><span class="token punctuation">;</span>  duration <span class="token operator">=</span> <span class="token function">pulseIn</span><span class="token punctuation">(</span>echoPin<span class="token punctuation">,</span> HIGH<span class="token punctuation">)</span><span class="token punctuation">;</span>  duration <span class="token operator">=</span> duration <span class="token operator">/</span> <span class="token number">58</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>duration <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>duration <span class="token operator">></span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> false<span class="token punctuation">;</span>  <span class="token keyword">return</span> duration<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//返回距离</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//超声检测</span><span class="token keyword">void</span> <span class="token function">_supersound</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"message"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">ardublockUltrasonicSensorCodeAutoGeneratedReturnCM</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//开启超声检测</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token function">ardublockUltrasonicSensorCodeAutoGeneratedReturnCM</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// 检测前方有障碍物,message &lt;= 45</span>    <span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">noTone</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//蜂鸣器无声</span>  <span class="token punctuation">}</span>  <span class="token keyword">else</span>  <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// 前方暂无障碍物，自动循迹前行</span>    <span class="token function">_trace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">tone</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">440</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//蜂鸣器启动</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/******小车行驶函数******/</span><span class="token comment" spellcheck="true">//小车左转</span><span class="token keyword">void</span> <span class="token function">drive_left</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token function">analogWrite</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">analogWrite</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">analogWrite</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">analogWrite</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token number">220</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//右边轮子正转</span>  <span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//小车右转</span><span class="token keyword">void</span> <span class="token function">drive_right</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token function">analogWrite</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">analogWrite</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token number">220</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//左边轮子正转</span>  <span class="token function">analogWrite</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">analogWrite</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// 小车前进</span><span class="token keyword">void</span> <span class="token function">drive_forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token function">analogWrite</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">analogWrite</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">analogWrite</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">analogWrite</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// 小车后退</span><span class="token keyword">void</span> <span class="token function">drive_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//左右轮反转</span>  <span class="token function">analogWrite</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">analogWrite</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">analogWrite</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">analogWrite</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// 小车减速</span><span class="token keyword">void</span> <span class="token function">speed_down</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token function">analogWrite</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">analogWrite</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">160</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">analogWrite</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">analogWrite</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">160</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// 小车停止</span><span class="token keyword">void</span> <span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token function">analogWrite</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token function">analogWrite</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token function">analogWrite</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token function">analogWrite</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> 本科课程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 手工 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>阿巛的Hexo博客搭建</title>
      <link href="posts/a881.html"/>
      <url>posts/a881.html</url>
      
        <content type="html"><![CDATA[<ul><li>图片加载优化</li><li>滚动条美化</li><li>增加artitalk说说页面</li><li>博客优化</li><li>CDN加速</li><li>绑定域名(github、coding双绑定)</li><li>证书认证</li><li>滚动条美化</li></ul><pre class=" language-css"><code class="language-css"><span class="token comment" spellcheck="true">/***** 滚动条 *****/</span><span class="token comment" spellcheck="true">/* 滚动条里面的小方块 */</span><span class="token selector"><span class="token pseudo-element">::-webkit-scrollbar-thumb</span> </span><span class="token punctuation">{</span>    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token hexcode">#FF2A68</span><span class="token punctuation">;</span>    <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token function">-webkit-linear-gradient</span><span class="token punctuation">(</span><span class="token number">45</span>deg,<span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">255</span>,<span class="token number">255</span>,<span class="token number">255</span>,<span class="token number">.4</span><span class="token punctuation">)</span> <span class="token number">25%</span>,transparent <span class="token number">25%</span>,transparent <span class="token number">50%</span>,<span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">255</span>,<span class="token number">255</span>,<span class="token number">255</span>,<span class="token number">.4</span><span class="token punctuation">)</span> <span class="token number">50%</span>,<span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">255</span>,<span class="token number">255</span>,<span class="token number">255</span>,<span class="token number">.4</span><span class="token punctuation">)</span> <span class="token number">75%</span>,transparent <span class="token number">75%</span>,transparent<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">border-radius</span><span class="token punctuation">:</span> <span class="token number">3</span>em<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/* 滚动条的轨道 */</span><span class="token selector"><span class="token pseudo-element">::-webkit-scrollbar-track</span> </span><span class="token punctuation">{</span>    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token hexcode">#ffcaca</span>ff<span class="token punctuation">;</span>    <span class="token property">border-radius</span><span class="token punctuation">:</span> <span class="token number">3</span>em<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/* 滚动条整体部分 */</span><span class="token selector"><span class="token pseudo-element">::-webkit-scrollbar</span> </span><span class="token punctuation">{</span>    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">8</span>px<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">15</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="全站CDN加速"><a href="#全站CDN加速" class="headerlink" title="全站CDN加速"></a>全站CDN加速</h2><p>CDN的全称是Content Delivery Network，即内容分发网络。CDN是构建在网络之上的内容分发网络，依靠部署在各地的边缘服务器，通过中心平台的负载均衡、内容分发、调度等功能模块，使用户就近获取所需内容，降低网络拥塞，提高用户访问响应速度和命中率。CDN的关键技术主要有内容存储和分发技术。——百度百科<br>用法：</p><pre class=" language-http"><code class="language-http"><span class="token header-name keyword">https:</span>//cdn.jsdelivr.net/gh/你的用户名/你的仓库名@发布的版本号/文件路径</code></pre><h2 id="SEO优化"><a href="#SEO优化" class="headerlink" title="SEO优化"></a>SEO优化</h2><p>SEO（Search Engine Optimization）：汉译为搜索引擎优化。是一种方式：利用搜索引擎的规则提高网站在有关搜索引擎内的自然排名。 ——百度百科<br>请参考这篇博文：<a href="https://blog.sky03.cn/posts/42790.html#toc-heading-18">https://blog.sky03.cn/posts/42790.html#toc-heading-18</a></p><h2 id="新建文章自动打开本地-Markdown-编辑器"><a href="#新建文章自动打开本地-Markdown-编辑器" class="headerlink" title="新建文章自动打开本地 Markdown 编辑器"></a>新建文章自动打开本地 Markdown 编辑器</h2><p>写新文章时，需要控制台执行 hexo new “文章名字”，这样就会在_posts 下生成一篇新文章，但需要手动打开，挺麻烦，只需要在站点根目录下新建 scripts 目录，然后再新建 auto_open.js，在文件填入一下内容</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> spawn <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'child_process'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>exec<span class="token punctuation">;</span><span class="token comment" spellcheck="true">// Hexo 2.x 用户复制这段</span><span class="token comment" spellcheck="true">//hexo.on('new', function(path){</span>  <span class="token comment" spellcheck="true">//spawn('start  "markdown编辑器绝对路径.exe" ' + path);</span><span class="token comment" spellcheck="true">//});</span><span class="token comment" spellcheck="true">// Hexo 3 用户复制这段</span>hexo<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'new'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//   spawn('start  "D:\Program Files\Typora\Typora.exe" ' + data.path); // Typora</span>  <span class="token function">spawn</span><span class="token punctuation">(</span><span class="token string">'start  "D:\\Program_Files\\Microsoft VS Code\\Code.exe" '</span> <span class="token operator">+</span> data<span class="token punctuation">.</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//VSCode</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>The Python Challenge Daily Record</title>
      <link href="posts/c134.html"/>
      <url>posts/c134.html</url>
      
        <content type="html"><![CDATA[<p><a href="http://www.pythonchallenge.com/">Python Challenge</a>是首个谜语编程网站。挑战者需要连续挑战33个需要编程才能解开的谜题以锻炼自己的编程能力。</p><p>该网站建立于2005年，至今已经有三百多万位访客浏览并尝试解决该网站的谜题。</p><blockquote><p>Python Challenge is a game in which each level can be solved by a bit of (Python) programming.</p><p>The Python Challenge was written by Nadav Samet.</p><p>All levels can be solved by straightforward and very short scripts.(well, except of level 32.)</p><p>Python Challenge welcomes programmers of all languages. You will be able to solve most riddles in any programming language, but some of them will require Python.</p><p>Sometimes you’ll need extra modules. All can be downloaded for free from the internet.</p><p>It is just for fun - nothing waits for you at the end.</p><p>Keep the scripts you write - they might become useful.</p></blockquote><p>希望每天都能坚持刷题哈！🚩(然而并没有…)</p><h2 id="level-0-2020-10-28"><a href="#level-0-2020-10-28" class="headerlink" title="level_0_2020.10.28"></a>level_0_2020.10.28</h2><p>Link: <a href="http://www.pythonchallenge.com/pc/def/0.html">http://www.pythonchallenge.com/pc/def/0.html</a><br><img src="https://i.loli.net/2020/11/14/HC8xwDEoN4hPyvn.png" alt="热身关"><br><strong>🖊Learned</strong><br>代码的强大<br>回顾一下乘方运算(这可能是python语法里最熟的之一了)</p><p><strong>🔑Solution</strong><br>就按照图片给的乘方算吧!</p><p><strong>💻Code</strong></p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#! level 0</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">**</span><span class="token number">38</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 274877906944</span></code></pre><h2 id="level-1-map-2020-10-27"><a href="#level-1-map-2020-10-27" class="headerlink" title="level_1_map_2020.10.27"></a>level_1_map_2020.10.27</h2><p>Link : <a href="http://www.pythonchallenge.com/pc/def/274877906944.html">http://www.pythonchallenge.com/pc/def/274877906944.html</a><br><img src="https://i.loli.net/2020/11/14/Y2EqrAsKB9lHtQi.png" alt="level_1"><br><strong>🖊Learned</strong><br>其实还可以用map方法，但是需要用if判断，不然空格括号也被翻译了。<br><code>ord(char)</code>:返回char的ASCII序列值<br><code>chr(num)</code>:返回ASCII码对应的字符</p><p><strong>🔑Solution</strong><br>根据所给图片提示,发现K和M,O和Q,E和G都差两个字母,所以应该就是做一个映射表,把给的字符翻译出来</p><p><strong>💻Code</strong></p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> stringorginal_str <span class="token operator">=</span> "g fmnc wms bgblr rpylqjyrc gr zw fylb<span class="token punctuation">.</span> rfyrq ufyr amknsrcpq ypc dmp<span class="token punctuation">.</span> bmgle \gr gl zw fylb gq glcddgagclr ylb rfyr'q ufw rfgq rcvr gq qm jmle<span class="token punctuation">.</span> sqgle qrpgle<span class="token punctuation">.</span>kyicrpylq<span class="token punctuation">(</span><span class="token punctuation">)</span> gq pcamkkclbcb<span class="token punctuation">.</span> lmu ynnjw ml rfc spj<span class="token punctuation">.</span>"trans <span class="token operator">=</span> str<span class="token punctuation">.</span>maketrans<span class="token punctuation">(</span>string<span class="token punctuation">.</span>ascii_lowercase<span class="token punctuation">,</span>                      string<span class="token punctuation">.</span>ascii_lowercase<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token operator">+</span> string<span class="token punctuation">.</span>ascii_lowercase<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># string.ascii_lowercase = abcdefghijklmnopqrstuvwxyz</span><span class="token comment" spellcheck="true"># string.ascii_lowercase[2:] + string.ascii_lowercase[:2] cdefghijklmnopqrstuvwxyzab</span><span class="token keyword">print</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span>ascii_lowercase<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token operator">+</span> string<span class="token punctuation">.</span>ascii_lowercase<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>changed_str <span class="token operator">=</span> orginal_str<span class="token punctuation">.</span>translate<span class="token punctuation">(</span>trans<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>changed_str<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># output i hope you didnt translate it by hand. thats what computers are for. doing it in by hand is inefficient and that's why this text is so long.</span><span class="token comment" spellcheck="true"># using string.maketrans() is recommended. now apply on the url.</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'map'</span><span class="token punctuation">.</span>translate<span class="token punctuation">(</span>trans<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># ocr</span></code></pre><h2 id="level-2-ocr-2020-10-28"><a href="#level-2-ocr-2020-10-28" class="headerlink" title="level_2_ocr_2020.10.28"></a>level_2_ocr_2020.10.28</h2><p>Link: <a href="http://www.pythonchallenge.com/pc/def/ocr.html">http://www.pythonchallenge.com/pc/def/ocr.html</a><br><img src="https://i.loli.net/2020/11/14/RL6ucAMmJ3k4vNn.png" alt="level_2"><br><strong>🖊Learned</strong><br><strong>request和urllib的区别：</strong><br>我们在使用python爬虫时，需要模拟发起网络请求，主要用到的库有requests库和python内置的urllib库，一般建议使用requests，它是对urllib的再次封装，它们使用的主要区别：<br>requests可以直接构建常用的get和post请求并发起，urllib一般要先构建get或者post请求，然后再发起请求。</p><p><strong>正则：</strong></p><ul><li><code>requests.get(url).text</code> 获得html内容</li><li><code>re.search</code> 找到匹配的字符串，只匹配一次</li><li>获得需要处理的内容，\s可以匹配空格、Tab空白符）</li><li><code>match.group(n)</code>返回子字符串,注意到group(0)永远是原始字符串，group(1)、group(2)……表示第1、2、……个子串。</li><li><code>.</code>匹配除了换行的任意字符,<code>\s</code>匹配任何Unicode空白字符（包括 [ \t\n\r\f\v] ,?对它前面的正则式匹配0到1次重复</li></ul><p><strong>🔑Solution</strong><br>查看页面源代码,发现后面有一堆乱七八糟的字符,我们的任务就是把里面参杂的字母给挑出来</p><p><strong>💻Code</strong></p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#  level2</span><span class="token keyword">import</span> requests<span class="token keyword">import</span> re<span class="token keyword">from</span> collections <span class="token keyword">import</span> Counterhtml <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>    <span class="token string">"http://www.pythonchallenge.com/pc/def/ocr.html"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text  <span class="token comment" spellcheck="true"># 获取HTML文档</span>text <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span>r<span class="token string">"&lt;!--\n(%(.|\s)+)?\n-->"</span><span class="token punctuation">,</span> html<span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>file <span class="token operator">=</span> open<span class="token punctuation">(</span><span class="token string">'output/level_2_data.txt'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span>file<span class="token punctuation">.</span>write<span class="token punctuation">(</span>text<span class="token punctuation">)</span>final_text <span class="token operator">=</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">"[a-z]"</span><span class="token punctuation">,</span> text<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># findall 返回字符串列表</span><span class="token keyword">print</span><span class="token punctuation">(</span>final_text<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 或者直接对所有字符计数</span><span class="token comment" spellcheck="true"># final_text = re.search("&lt;!--\n%(.|\s)+", text).group()</span><span class="token comment" spellcheck="true"># q = Counter(final_text)  # 对里面的所有字符计数</span><span class="token comment" spellcheck="true"># print(q)</span><span class="token comment" spellcheck="true"># t = [i for i in q if q[i] == 1]  # 找出只出现一次的字符</span><span class="token comment" spellcheck="true"># print("".join(t))</span><span class="token comment" spellcheck="true"># 输出了equality</span><span class="token triple-quoted-string string">""" 另一种方法，使用了urllibimport urllib.request as urimport reurl = "http://www.pythonchallenge.com/pc/def/ocr.html"def main():    global url    response = ur.urlopen(url)    body = response.read()    print(body)    text = re.search("&lt;!--\n%(.|\s)+", body.decode())    dic = {}    # print(text.group(0))    for x in text.group(0):        if x not in dic:            dic[x] = 1        else:            dic[x] += 1    for k,v in dic.items():        print(k,v)    for i in dic:        if (dic[i] == 1 and 'a' &lt;= i &lt;= 'z'):            print(i, end='')if __name__ == '__main__':    main()"""</span></code></pre><h2 id="level-3-equality-2020-10-29"><a href="#level-3-equality-2020-10-29" class="headerlink" title="level 3_equality_2020.10.29"></a>level 3_equality_2020.10.29</h2><p>Link : <a href="http://www.pythonchallenge.com/pc/def/equality.html">http://www.pythonchallenge.com/pc/def/equality.html</a><br><img src="https://i.loli.net/2020/11/14/dXmwRVtqJkvEosO.png" alt="level_3"></p><p><strong>🖊Learned</strong></p><ul><li>findall用括号自动返回子串，当给出的正则表达式中带有多个括号时，列表的元素为多个字符串组成的tuple</li><li><code>re.findall(r'[^A-Z][A-Z]{3}([a-z])[A-Z]{3}[^A-Z]', text)</code>匹配时需要注意既然约定了3个大写字母,那外围就是小写字母了!</li></ul><p><strong>🔑Solution</strong><br>根据图片底下的文字提示,需要找到源代码中被三个大写字母包围的小写字母,然后把它们拼接在一起,为linklist<br>打开 <a href="http://www.pythonchallenge.com/pc/def/linkedlist.html">http://www.pythonchallenge.com/pc/def/linkedlist.html</a> 提示linkedlist.php<br>再打开 <a href="http://www.pythonchallenge.com/pc/def/linkedlist.php">http://www.pythonchallenge.com/pc/def/linkedlist.php</a></p><p><strong>💻Code</strong></p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> requests<span class="token keyword">import</span> rehtml <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"http://www.pythonchallenge.com/pc/def/equality.html"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>texttext <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span>r<span class="token string">'&lt;!--\n((.|\s)+)?\n-->'</span><span class="token punctuation">,</span> html<span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>file <span class="token operator">=</span> open<span class="token punctuation">(</span><span class="token string">'level_3_data.txt'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span>file<span class="token punctuation">.</span>write<span class="token punctuation">(</span>text<span class="token punctuation">)</span>results <span class="token operator">=</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span>r<span class="token string">'[^A-Z][A-Z]{3}([a-z])[A-Z]{3}[^A-Z]'</span><span class="token punctuation">,</span> text<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>results<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#linkedlist</span><span class="token comment" spellcheck="true"># ? 如果不括号起来，得到的结果会是</span><span class="token comment" spellcheck="true"># !['qIQNlQSLi', 'eOEKiVEYj', 'aZADnMCZq', 'bZUTkLYNg', 'uCNDeHSBj', 'kOIXdKBFh', 'dXJVlGZVm', 'gZAGiLQZx', 'vCJAsACFl', 'qKWGtIDCj']</span><span class="token comment" spellcheck="true"># 所以说findall用括号自动返回子串，当给出的正则表达式中带有多个括号时，列表的元素为多个字符串组成的tuple</span></code></pre><h2 id="level-4-linkedlist-2020-10-30"><a href="#level-4-linkedlist-2020-10-30" class="headerlink" title="level_4_linkedlist_2020.10.30"></a>level_4_linkedlist_2020.10.30</h2><p>Link :<a href="http://www.pythonchallenge.com/pc/def/linkedlist.php">http://www.pythonchallenge.com/pc/def/linkedlist.php</a><br><img src="https://i.loli.net/2020/11/14/1a8I2zg9c3CShUB.png" alt="level_4头图"><br><strong>🖊Learned</strong><br>要注意函数的局部变量和全局变量呀<br>request 尝试多次连接页面</p><pre class=" language-python"><code class="language-python">    i <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">while</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">:</span>        <span class="token keyword">try</span><span class="token punctuation">:</span>            html <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">,</span> timeout<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text            <span class="token keyword">return</span> html        <span class="token keyword">except</span> requests<span class="token punctuation">.</span>exceptions<span class="token punctuation">.</span>RequestException<span class="token punctuation">:</span>            i <span class="token operator">+=</span> <span class="token number">1</span></code></pre><p><strong>🔑Solution</strong><br>点击<a href="http://www.pythonchallenge.com/pc/def/linkedlist.php?nothing=12345">linkedlist.php?nothing=12345</a>这个链接,进入的页面显示and the next nothing is 44827,反复操作,发现这一关就是疯狂跳转网页</p><p><strong>💻Code</strong></p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> re<span class="token keyword">import</span> requests<span class="token keyword">def</span> <span class="token function">next_page</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">global</span> steps <span class="token comment" spellcheck="true"># 使得函数内的step和全局变量为一个变量</span>    html <span class="token operator">=</span> gethtml<span class="token punctuation">(</span>f<span class="token string">"http://www.pythonchallenge.com/pc/def/linkedlist.php?nothing={link}"</span><span class="token punctuation">)</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>        hint <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span>r<span class="token string">'.*\s(\d+)'</span><span class="token punctuation">,</span> html<span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>    <span class="token keyword">except</span> AttributeError<span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"小心前面有诡计！"</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token string">'stop'</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        steps <span class="token operator">+=</span><span class="token number">1</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>steps<span class="token punctuation">,</span> hint<span class="token punctuation">)</span>        <span class="token keyword">return</span> hint<span class="token keyword">def</span> <span class="token function">gethtml</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">'''    因为发现request经常会卡住无响应，所以封装了这个函数，用于重试    '''</span>    i <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">while</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">:</span>        <span class="token keyword">try</span><span class="token punctuation">:</span>            html <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">,</span> timeout<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text            <span class="token keyword">return</span> html        <span class="token keyword">except</span> requests<span class="token punctuation">.</span>exceptions<span class="token punctuation">.</span>RequestException<span class="token punctuation">:</span>            i <span class="token operator">+=</span> <span class="token number">1</span><span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>        link <span class="token operator">=</span> next_page<span class="token punctuation">(</span>link<span class="token punctuation">)</span>        <span class="token keyword">if</span> link <span class="token operator">==</span> <span class="token string">'stop'</span><span class="token punctuation">:</span>            <span class="token keyword">break</span>steps <span class="token operator">=</span> <span class="token number">1</span>link <span class="token operator">=</span> <span class="token number">12345</span>run<span class="token punctuation">(</span>link<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># Yes. Divide by two and keep going.</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'怕啥，那我就输入8022继续跑'</span><span class="token punctuation">)</span>run<span class="token punctuation">(</span><span class="token number">8022</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 16044//2=8022</span><span class="token comment" spellcheck="true"># 最终输出结果peak.html，打开http://www.pythonchallenge.com/pc/def/peak.html</span></code></pre><h2 id="level-5-peak-2020-10-31"><a href="#level-5-peak-2020-10-31" class="headerlink" title="level_5_peak_2020.10.31"></a>level_5_peak_2020.10.31</h2><p>Link: <a href="http://www.pythonchallenge.com/pc/def/peak.html">http://www.pythonchallenge.com/pc/def/peak.html</a></p><p><img src="https://i.loli.net/2020/10/31/gGHW3n5NeKUZBY9.png" alt="level_5"></p><p><strong>🖊Learned</strong><br>爬虫</p><ul><li><code>requests.get(url).text</code> 是获得纯文本内容</li><li><code>requests.get(url).content</code>是二进制内容</li><li><code>urllib.urlopen(url)</code> 返回的是文件对象，用read()查看</li></ul><p>pickle<br><code>pickle</code>是python语言的一个标准模块，能对数据进行序列化和反序列化，序列化过程将文本信息转变为二进制数据流。反序列化便可以得到原始的数据。这样便于存储数据和发送数据</p><ul><li><code>pickle.dump() </code>序列化</li><li><code>pickle.load()</code> 反序列化方法</li></ul><p><strong>🔑Solution</strong><br>点击<a href="http://www.pythonchallenge.com/pc/def/banner.p">banner.p</a>，发现页面只有这样的长~条</p><pre><code>(lp0(lp1(S' 'p2I95tp3aa(lp4(g2I14tp5a(S'#'p6I5tp7a(g2I70tp8a(g6I5tp9a(g2I1tp10aa(lp11(g2I15tp12</code></pre><p>之前源代码提示”peak hell sounds familiar “,peak hell 的谐音是pickle，就用pickle处理数据，发现是一个二维数组，每行都以[(‘ ‘/‘#’, 数字)],这种形式存放内容单位, 而列表的每行数字相加都为95，猜测前面是打印的内容，后面跟着是打印的数量，最后竟然在终端输出为一个大大的“channel”!</p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> re<span class="token keyword">import</span> requests<span class="token keyword">import</span> pickle<span class="token comment" spellcheck="true"># 获取二进制的数据</span>content<span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"http://www.pythonchallenge.com/pc/def/banner.p"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>content<span class="token comment" spellcheck="true"># print(content)</span>data <span class="token operator">=</span> pickle<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 发现是一个二维数组，每行都以[(' '/'#', 数字)],这种形式存放内容单位</span><span class="token keyword">for</span> line <span class="token keyword">in</span> data<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 列表的每行相加都为95，猜测前面是打印的内容，后面跟着是打印的数量</span><span class="token keyword">for</span> line <span class="token keyword">in</span> data<span class="token punctuation">:</span>    output <span class="token operator">=</span> <span class="token string">''</span>    <span class="token keyword">for</span> c <span class="token keyword">in</span> line<span class="token punctuation">:</span>        output <span class="token operator">+=</span>c<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>c<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>output<span class="token punctuation">)</span><span class="token comment" spellcheck="true">##得到channel的输出</span><span class="token comment" spellcheck="true">## http://www.pythonchallenge.com/pc/def/channel.html</span></code></pre><p><strong>Output</strong></p><pre><code>              #####                                                                      #####               ####                                                                       ####               ####                                                                       ####               ####                                                                       ####               ####                                                                       ####               ####                                                                       ####               ####                                                                       ####               ####                                                                       ####      ###      ####   ###         ###       #####   ###    #####   ###          ###       ####   ###   ##    #### #######     ##  ###      #### #######   #### #######     ###  ###     ####  ###     ###  #####    ####   ###   ####    #####    ####  #####    ####   ###     ###   #### ###           ####     ####   ###    ###    ####     ####  ####     ####  ###      ####  #### ###           ####     ####          ###    ####     ####  ####     ####  ###       ###  ########           ####     ####     ##   ###    ####     ####  ####     #### ####       ###  ########           ####     ####   ##########    ####     ####  ####     #### ##############  ########           ####     ####  ###    ####    ####     ####  ####     #### ####            ########           ####     #### ####     ###    ####     ####  ####     #### ####            #### ###           ####     #### ####     ###    ####     ####  ####     ####  ###            ####  ###      ##  ####     ####  ###    ####    ####     ####  ####     ####   ###      ##   ####   ###    ##   ####     ####   ###########   ####     ####  ####     ####    ###    ##    ####      ###     ######    #####    ##    #### ######    ###########    #####      ###      ######</code></pre><h2 id="level-6-channel-2020-11-1"><a href="#level-6-channel-2020-11-1" class="headerlink" title="level_6_channel_2020.11.1"></a>level_6_channel_2020.11.1</h2><p>Link: <a href="http://www.pythonchallenge.com/pc/def/channel.html">http://www.pythonchallenge.com/pc/def/channel.html</a></p><p><img src="https://i.loli.net/2020/11/14/Iu7NkRG8coOTPZs.jpg"><br><strong>🖊Learned</strong><br>python中如何打开压缩包<br><code>channel_zip = zipfile.ZipFile(zip_file, "r")</code>创建压缩包对象<br><code>channel_zip.open('readme.txt', 'r')</code> 打开压缩包里的某个文件</p><p><strong>🔑Solution</strong><br>查看源代码</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span> <span class="token comment" spellcheck="true">&lt;!-- &lt;-- zip --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>now there are pairs<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../style.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>center</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>channel.jpg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span><span class="token comment" spellcheck="true">&lt;!-- The following has nothing to do with the riddle itself. I justthought it would be the right point to offer you to donate to thePython Challenge project. Any amount will be greatly appreciated.-thesamet--></span></code></pre> <!-- <-- zip --><p>如果把注释去掉就是html &lt;– zip，暗示把html改为zip</p><p>提示是zip，于是改url，发现可下载zip！（城会玩！）</p><p><img src="https://i.loli.net/2020/11/14/8RCsjhBYHVJLSTt.png"></p><p>查看压缩包，发现里面有一个readme.txt, 剩下的文件是一大坨以数字命名的txt,阅读readme, 发现这一关和linklist类似,谜底和peak关又类似, 最后答案为hockey</p><p><strong>💻Code</strong></p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> requests<span class="token keyword">import</span> io<span class="token keyword">import</span> re<span class="token keyword">import</span> zipfile  <span class="token comment" spellcheck="true"># #导入对zip文件处理的模块 zipfile</span><span class="token comment" spellcheck="true">##获取二进制数据</span>zip_get <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>    <span class="token string">"http://www.pythonchallenge.com/pc/def/channel.zip"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>content<span class="token comment" spellcheck="true"># StringIO和BytesIO是在内存中操作str和bytes的方法，使得和读写文件具有一致的接口</span>zip_file <span class="token operator">=</span> io<span class="token punctuation">.</span>BytesIO<span class="token punctuation">(</span>zip_get<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#将函数返回的压缩包的二进制数据在内存中读</span>channel_zip <span class="token operator">=</span> zipfile<span class="token punctuation">.</span>ZipFile<span class="token punctuation">(</span>zip_file<span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#以只读方式打开压缩包</span><span class="token keyword">print</span><span class="token punctuation">(</span>channel_zip<span class="token punctuation">.</span>namelist<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#打印压缩包内的文件名列表</span><span class="token comment" spellcheck="true">#阅读 readme.txt</span><span class="token keyword">with</span> channel_zip<span class="token punctuation">.</span>open<span class="token punctuation">(</span><span class="token string">'readme.txt'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#文件里的内容是byte字节，所以用utf-8读取</span> <span class="token triple-quoted-string string">"""得到如下提示 welcome to my zipped list.# hint1: start from 90052# hint2: answer is inside the zip"""</span>file_name_next <span class="token operator">=</span> <span class="token string">"90052"</span>  <span class="token comment" spellcheck="true"># 阅读readme.txt的提示</span>comment <span class="token operator">=</span> <span class="token string">''</span>  <span class="token comment" spellcheck="true"># 阅读 46145.txt，说要collect the comments</span><span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>    file_comment <span class="token operator">=</span> channel_zip<span class="token punctuation">.</span>getinfo<span class="token punctuation">(</span>file_name_next <span class="token operator">+</span> <span class="token string">".txt"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>comment<span class="token punctuation">.</span>decode<span class="token punctuation">(</span>        <span class="token string">"utf-8"</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 以utf-8方式读取压缩包内的各个文件</span>    <span class="token comment" spellcheck="true">#comment是个什么东东？？</span>    comment <span class="token operator">+=</span> file_comment    <span class="token keyword">with</span> channel_zip<span class="token punctuation">.</span>open<span class="token punctuation">(</span>file_name_next <span class="token operator">+</span> <span class="token string">".txt"</span><span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>  <span class="token comment" spellcheck="true"># 阅读文件内容</span>        file_content <span class="token operator">=</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>file_content<span class="token punctuation">)</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>  <span class="token comment" spellcheck="true"># 尝试查找下一个线索，用正则查找数字</span>        file_name_next <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span>r<span class="token string">"\d+"</span><span class="token punctuation">,</span> file_content<span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>    <span class="token keyword">except</span><span class="token punctuation">:</span>  <span class="token comment" spellcheck="true">#没有则中断</span>        <span class="token keyword">break</span><span class="token keyword">print</span><span class="token punctuation">(</span>comment<span class="token punctuation">)</span>zip_file<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p><strong>Output</strong></p><pre><code>**********************************************************************************************************************************                                                            ****   OO    OO    XX      YYYY    GG    GG  EEEEEE NN      NN  ****   OO    OO  XXXXXX   YYYYYY   GG   GG   EEEEEE  NN    NN   ****   OO    OO XXX  XXX YYY   YY  GG GG     EE       NN  NN    ****   OOOOOOOO XX    XX YY        GGG       EEEEE     NNNN     ****   OOOOOOOO XX    XX YY        GGG       EEEEE      NN      ****   OO    OO XXX  XXX YYY   YY  GG GG     EE         NN      ****   OO    OO  XXXXXX   YYYYYY   GG   GG   EEEEEE     NN      ****   OO    OO    XX      YYYY    GG    GG  EEEEEE     NN      ****                                                            ****************************************************************** **************************************************************</code></pre><p>所谓的comment其实可以通过banzip查看,”空白”的注释应该是空格或者换行符</p><p><img src="https://i.loli.net/2020/11/15/Bb4tqPk7efEyZho.png" alt="使用banzip查看压缩包内容"></p><h2 id="level-7-oxygen-2020-11-2"><a href="#level-7-oxygen-2020-11-2" class="headerlink" title="level_7_oxygen_2020.11.2"></a>level_7_oxygen_2020.11.2</h2><p>Link: <a href="http://www.pythonchallenge.com/pc/def/hockey.html">http://www.pythonchallenge.com/pc/def/hockey.html</a></p><p><strong>🖊Learned</strong><br>这是第一次遇到PIL,后面PIL就是老盆友咯!<br>img.getpixel((x,y)) 获得像素值<br>img.size 获得w和h</p><p><strong>🔑Solution</strong><br>it’s in the air. look at the letters. letter指的是hockey，说在空气中，空气那就是氮气、氧气、二氧化碳等东西，猜测是氧气oxygen。</p><p>于是打开<a href="http://www.pythonchallenge.com/pc/def/oxygen.html%EF%BC%8C%E5%8F%91%E7%8E%B0%E7%AC%AC%E4%B8%83%E5%85%B3%E8%B0%9C%E9%A2%98%EF%BC%8C%E5%8F%AA%E6%9C%89%E4%B8%80%E5%BC%A0%E5%9B%BE%EF%BC%8C%E4%B8%AD%E9%97%B4%E6%9C%89%E4%B8%AA%E7%81%B0%E5%B8%A6html%E4%BB%A3%E7%A0%81%E5%A6%82%E4%B8%8B">http://www.pythonchallenge.com/pc/def/oxygen.html，发现第七关谜题，只有一张图，中间有个灰带html代码如下</a><br><img src="https://i.loli.net/2020/11/14/xiZeBmbaCh3L4oJ.png"></p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>smarty<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../style.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>oxygen.png<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><p>获取图片，对其进行处理</p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> requests<span class="token keyword">import</span> io<span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image  <span class="token comment" spellcheck="true"># Python Imaging Library导入Image</span>url <span class="token operator">=</span> <span class="token string">'http://www.pythonchallenge.com/pc/def/oxygen.png'</span>image <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span>contentimg_io <span class="token operator">=</span> io<span class="token punctuation">.</span>BytesIO<span class="token punctuation">(</span>image<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#二进制数据放入内存</span>img <span class="token operator">=</span> Image<span class="token punctuation">.</span>open<span class="token punctuation">(</span>img_io<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#打开图片，创建图片对象</span><span class="token comment" spellcheck="true"># img.show() # 显示图像，启动一个窗口</span><span class="token comment" spellcheck="true"># print(img.size)  #629,95</span><span class="token comment" spellcheck="true"># 灰色带大概在图片中间部位</span>width<span class="token punctuation">,</span> height <span class="token operator">=</span> img<span class="token punctuation">.</span>sizey <span class="token operator">=</span> height <span class="token operator">//</span> <span class="token number">2</span>  <span class="token comment" spellcheck="true">##灰色带的大致区域设为y</span><span class="token keyword">print</span><span class="token punctuation">(</span>img<span class="token punctuation">.</span>mode<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 查看图片像素模式，RGBA，带alpha通道</span><span class="token comment" spellcheck="true"># 获取中间条带的信息</span><span class="token keyword">for</span> x <span class="token keyword">in</span> range<span class="token punctuation">(</span>width<span class="token punctuation">)</span><span class="token punctuation">:</span>    pixel <span class="token operator">=</span> img<span class="token punctuation">.</span>getpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>pixel<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#打印各个点的像素信息</span></code></pre><p>筛选出灰色带</p><pre class=" language-python"><code class="language-python"><span class="token keyword">for</span> x <span class="token keyword">in</span> range<span class="token punctuation">(</span>width<span class="token punctuation">)</span><span class="token punctuation">:</span>    pixel <span class="token operator">=</span> img<span class="token punctuation">.</span>getpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> pixel<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> pixel<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">and</span> pixel<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> pixel<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>pixel<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>输出结果：开头的115重复5次，中间的重复7次，最后重复8次</p><pre><code>115 115 115 115 115 109 109 109 109 109 109 109 97 97 97 97 97 97 97 114 114 114 114 114 114 114 116 116 116 116 116 116 116 32 32 32 32 32 32 32 103 103 103 103 103 103 103 117 117 117 117 117 117 117 121 121 121 121 121 121 121 44 44 44 44 44 44 44 32 32 32 32 32 32 32 121 121 121 121 121 121 121 111 111 111 111 111 111 111 117 117 117 117 117 117 117 ... 52 52 52 52 52 52 52 44 44 44 44 44 44 44 32 32 32 332 32 32 32 49 49 49 49 49 49 49 48 48 48 48 48 48 48 53 53 53 53 53 53 53 44 44 44 4 4 44 44 44 32 32 32 32 32 32 32 49 49 49 49 49 49 49 49 49 49 49 49 49 49 54 54 54 544 54 54 54 44 44 44 44 44 44 44 32 32 32 32 32 32 32 49 49 49 49 49 49 49 50 50 50 50 550 50 50 49 49 49 49 49 49 49 93 93 93 93 93 93 93 93</code></pre><p>把每个灰度值提取出来</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#</span><span class="token comment" spellcheck="true">#尝试 给字符串去重, 但是发现会自动排序🤣丢失信息</span><span class="token triple-quoted-string string">""" grey_list = []for x in range(width):    pixel = img.getpixel((x, y))    if pixel[1] == pixel[0] and pixel[0] == pixel[2]:        grey_list.append(pixel[0])grey_set = set(grey_list) #用set去重print(grey_set) """</span><span class="token comment" spellcheck="true"># 每七个取一个数字</span><span class="token keyword">for</span> x <span class="token keyword">in</span> range<span class="token punctuation">(</span>width<span class="token punctuation">)</span><span class="token punctuation">:</span>    pixel <span class="token operator">=</span> img<span class="token punctuation">.</span>getpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> pixel<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> pixel<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">and</span> pixel<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> pixel<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> x <span class="token operator">%</span> <span class="token number">7</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span>pixel<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>得到数字串</p><pre><code>115 109 97 114 116 32 103 117 121 44 32 121 111 117 32 109 97 100 101 32 105 116 46 32 116104 101 32 110 101 120 116 32 108 101 118 101 108 32 105 115 32 91 49 48 53 44 32 49 49 4844 32 49 49 54 44 32 49 48 49 44 32 49 48 51 44 32 49 49 52 44 32 49 48 53 44 32 49 49 54                         4432 49 50 49 93</code></pre><p>猜测把字符串用ASCII码翻译</p><pre class=" language-python"><code class="language-python"><span class="token keyword">for</span> x <span class="token keyword">in</span> range<span class="token punctuation">(</span>width<span class="token punctuation">)</span><span class="token punctuation">:</span>    pixel <span class="token operator">=</span> img<span class="token punctuation">.</span>getpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> pixel<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> pixel<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">and</span> pixel<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> pixel<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> x <span class="token operator">%</span> <span class="token number">7</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span>chr<span class="token punctuation">(</span>pixel<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># ! 得到 smart guy, you made it. the next level is [105, 110, 116, 101, 103, 114, 105, 116, 121]</span></code></pre><p>最后的处理, 得到integrity</p><pre class=" language-python"><code class="language-python">hint <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">105</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">116</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token number">103</span><span class="token punctuation">,</span> <span class="token number">114</span><span class="token punctuation">,</span> <span class="token number">105</span><span class="token punctuation">,</span> <span class="token number">116</span><span class="token punctuation">,</span> <span class="token number">121</span><span class="token punctuation">]</span><span class="token keyword">for</span> num <span class="token keyword">in</span> hint<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>chr<span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#integrity</span></code></pre><p><strong>💻Code</strong><br>完整代码</p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> requests<span class="token keyword">import</span> io<span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image  <span class="token comment" spellcheck="true"># Python Imaging Library导入Image</span>url <span class="token operator">=</span> <span class="token string">'http://www.pythonchallenge.com/pc/def/oxygen.png'</span>image <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span>contentimg_io <span class="token operator">=</span> io<span class="token punctuation">.</span>BytesIO<span class="token punctuation">(</span>image<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 二进制数据放入内存</span>img <span class="token operator">=</span> Image<span class="token punctuation">.</span>open<span class="token punctuation">(</span>img_io<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 打开图片，创建图片对象</span><span class="token comment" spellcheck="true"># img.show() # 显示图像，启动一个窗口</span><span class="token comment" spellcheck="true"># print(img.size)  #629,95</span><span class="token comment" spellcheck="true"># 灰色带大概在图片中间部位</span>width<span class="token punctuation">,</span> height <span class="token operator">=</span> img<span class="token punctuation">.</span>sizey <span class="token operator">=</span> height <span class="token operator">//</span> <span class="token number">2</span>  <span class="token comment" spellcheck="true"># 灰色带的大致区域设为y</span><span class="token keyword">print</span><span class="token punctuation">(</span>img<span class="token punctuation">.</span>mode<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 查看图片像素模式，RGBA，带alpha通道</span><span class="token keyword">for</span> x <span class="token keyword">in</span> range<span class="token punctuation">(</span>width<span class="token punctuation">)</span><span class="token punctuation">:</span>    pixel <span class="token operator">=</span> img<span class="token punctuation">.</span>getpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>pixel<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 打印各个点的像素信息</span><span class="token comment" spellcheck="true"># 得到各个点的RGBA值后，先对灰色像素带处理</span><span class="token comment" spellcheck="true"># 每七个取一个数字</span><span class="token comment" spellcheck="true"># ?猜测把字符串用ASCII码翻译</span><span class="token keyword">for</span> x <span class="token keyword">in</span> range<span class="token punctuation">(</span>width<span class="token punctuation">)</span><span class="token punctuation">:</span>    pixel <span class="token operator">=</span> img<span class="token punctuation">.</span>getpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> pixel<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> pixel<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">and</span> pixel<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> pixel<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> x <span class="token operator">%</span> <span class="token number">7</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span>chr<span class="token punctuation">(</span>pixel<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># ! 得到 smart guy, you made it. the next level is [105, 110, 116, 101, 103, 114, 105, 116, 121]</span>hint <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">105</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">116</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token number">103</span><span class="token punctuation">,</span> <span class="token number">114</span><span class="token punctuation">,</span> <span class="token number">105</span><span class="token punctuation">,</span> <span class="token number">116</span><span class="token punctuation">,</span> <span class="token number">121</span><span class="token punctuation">]</span><span class="token keyword">for</span> num <span class="token keyword">in</span> hint<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>chr<span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># integrity</span></code></pre><h2 id="level-8-integrity-2020-11-3"><a href="#level-8-integrity-2020-11-3" class="headerlink" title="level 8_integrity_2020.11.3"></a>level 8_integrity_2020.11.3</h2><p>Link : <a href="http://www.pythonchallenge.com/pc/def/integrity.html">http://www.pythonchallenge.com/pc/def/integrity.html</a></p><p><strong>🖊Learned</strong></p><blockquote><p>bz2 模块是 bzip2 库的接口，用于压缩数据以进行存储或传输。提供了三种 API：</p><p>​    “一次性” 压缩 / 解压缩功能，用于操作大堆数据,<a href="https://docs.python.org/zh-cn/3/library/bz2.html#bz2.compress"><code>compress()</code></a> 和 <a href="https://docs.python.org/zh-cn/3/library/bz2.html#bz2.decompress"><code>decompress()</code></a> 函数。<br>​            用于处理数据流的迭代压缩 / 解压缩对象,<a href="https://docs.python.org/zh-cn/3/library/bz2.html#bz2.BZ2Compressor"><code>BZ2Compressor</code></a> 和 <a href="https://docs.python.org/zh-cn/3/library/bz2.html#bz2.BZ2Decompressor"><code>BZ2Decompressor</code></a> 类。<br>​            类似文件的类，支持与未压缩文件一样的读写,<a href="https://docs.python.org/zh-cn/3/library/bz2.html#bz2.open"><code>open()</code></a> 函数和 <a href="https://docs.python.org/zh-cn/3/library/bz2.html#bz2.BZ2File"><code>BZ2File</code></a> 类。<br>————————————————</p></blockquote><p>然后总结一下bz2的用法，首先输入的解压数据得是二进制，<code>bz2.BZ2Decompressor()</code>是创建一个Decompressor，还是得用decompress来解压数据，不过这是逐步处理而不是一次性将数据全放入内存！</p><p>记住b’BZ..’二进制数据BZ开头就是用bz2压缩的,之后也会经常遇到</p><p><strong>🔑Solution</strong></p><p>查看源代码</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>working hard?<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../style.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>integrity.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>640<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>480<span class="token punctuation">"</span></span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">usemap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#notinsect<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>map</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>notinsect<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>area</span> <span class="token attr-name">shape</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>poly<span class="token punctuation">"</span></span>        <span class="token attr-name">coords</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>179,284,214,311,255,320,281,226,319,224,363,309,339,222,371,225,411,229,404,242,415,252,428,233,428,214,394,207,383,205,390,195,423,192,439,193,442,209,440,215,450,221,457,226,469,202,475,187,494,188,494,169,498,147,491,121,477,136,481,96,471,94,458,98,444,91,420,87,405,92,391,88,376,82,350,79,330,82,314,85,305,90,299,96,290,103,276,110,262,114,225,123,212,125,185,133,138,144,118,160,97,168,87,176,110,180,145,176,153,176,150,182,137,190,126,194,121,198,126,203,151,205,160,195,168,217,169,234,170,260,174,282<span class="token punctuation">"</span></span>        <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../return/good.html<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>map</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>font</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#303030<span class="token punctuation">"</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>+2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Where is the missing link?<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>font</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--un: 'BZh91AY&amp;SYA\xaf\x82\r\x00\x00\x01\x01\x80\x02\xc0\x02\x00 \x00!\x9ah3M\x07&lt;]\xc9\x14\xe1BA\x06\xbe\x084'pw: 'BZh91AY&amp;SY\x94$|\x0e\x00\x00\x00\x81\x00\x03$ \x00!\x9ah3M\x13&lt;]\xc9\x14\xe1BBP\x91\xf08'--></span></code></pre><p>Where is the missing link? 链接缺失，area有属性的coords好像有问题，输入进去</p><p>难道有鬼？？？</p><pre class=" language-python"><code class="language-python">may_hint <span class="token operator">=</span> <span class="token string">"179,284,214,311,255,320,281,226,319,224,363,309,339,222,371,225,411,229,404,242,415,252,428,233,428,214,394,207,383,205,390,195,423,192,439,193,442,209,440,215,450,221,457,226,469,202,475,187,494,188,494,169,498,147,491,121,477,136,481,96,471,94,458,98,444,91,420,87,405,92,391,88,376,82,350,79,330,82,314,85,305,90,299,96,290,103,276,110,262,114,225,123,212,125,185,133,138,144,118,160,97,168,87,176,110,180,145,176,153,176,150,182,137,190,126,194,121,198,126,203,151,205,160,195,168,217,169,234,170,260,174,282"</span>mh_list <span class="token operator">=</span> may_hint<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>mh_list<span class="token punctuation">)</span><span class="token keyword">for</span> num <span class="token keyword">in</span> mh_list<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>chr<span class="token punctuation">(</span>int<span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">"""output result：it seems terrible!!!³ĜÖķÿŀęâĿàūĵœÞųáƛåƔòƟüƬéƬÖƊÏſÍƆÃƧÀƷÁƺÑƸ×ǂÝǉâǕÊǛ»Ǯ¼Ǯ©ǲǫyǝǡ`Ǘ^ǊbƼ[ƤWƕ\ƇXŸRŞOŊRĺUıZī`ĢgĔnĆrá{Ô}¹°°¶¾~ÂyÆ~ËÍ Ã¨Ù©êªĄ®Ě³"""</span></code></pre><p>好吧是我想多了，还有其他信息</p><p>点击超链接，看到让人输出用户名和密码</p><p><img src="https://i.loli.net/2020/11/14/mX5UOF8JTP6h3wW.png"></p><p>看到最后一段的注释好像就是对应的用户名un和密码pw，问题是这玩意怎么解！！！</p><pre class=" language-html"><code class="language-html"><span class="token comment" spellcheck="true">&lt;!--un: 'BZh91AY&amp;SYA\xaf\x82\r\x00\x00\x01\x01\x80\x02\xc0\x02\x00 \x00!\x9ah3M\x07&lt;]\xc9\x14\xe1BA\x06\xbe\x084'pw: 'BZh91AY&amp;SY\x94$|\x0e\x00\x00\x00\x81\x00\x03$ \x00!\x9ah3M\x13&lt;]\xc9\x14\xe1BBP\x91\xf08'--></span></code></pre><p>注意到开头BZ，查阅之后得知是bzip2压缩, 把un和pw字符串进行解压就可以得到答案了</p><p><strong>💻Code</strong></p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> bz2un <span class="token operator">=</span> b<span class="token string">'BZh91AY&amp;SYA\xaf\x82\r\x00\x00\x01\x01\x80\x02\xc0\x02\x00 \x00!\x9ah3M\x07&lt;]\xc9\x14\xe1BA\x06\xbe\x084'</span>pw <span class="token operator">=</span> b<span class="token string">'BZh91AY&amp;SY\x94$|\x0e\x00\x00\x00\x81\x00\x03$ \x00!\x9ah3M\x13&lt;]\xc9\x14\xe1BBP\x91\xf08'</span><span class="token comment" spellcheck="true"># 1. 逐步处理</span><span class="token keyword">print</span><span class="token punctuation">(</span>bz2<span class="token punctuation">.</span>BZ2Decompressor<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decompress<span class="token punctuation">(</span>un<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>bz2<span class="token punctuation">.</span>BZ2Decompressor<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decompress<span class="token punctuation">(</span>pw<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 2. 一次性处理</span><span class="token keyword">print</span> <span class="token punctuation">(</span>bz2<span class="token punctuation">.</span>decompress<span class="token punctuation">(</span>un<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span> <span class="token punctuation">(</span>bz2<span class="token punctuation">.</span>decompress<span class="token punctuation">(</span>pw<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># output:</span><span class="token comment" spellcheck="true"># b'huge'</span><span class="token comment" spellcheck="true"># b'file'</span></code></pre><p>然后就输入用户名huge，密码file进入第九关啦！</p><p><a href="http://www.pythonchallenge.com/pc/return/good.html">点击进入下一关</a></p><h2 id="level-9-good-2020-11-4"><a href="#level-9-good-2020-11-4" class="headerlink" title="level_9_good_2020.11.4"></a>level_9_good_2020.11.4</h2><p>Link :<a href="http://www.pythonchallenge.com/pc/return/good.html">http://www.pythonchallenge.com/pc/return/good.html</a></p><p><strong>🖊Learned</strong></p><p>今天要学习的内容：</p><ul><li><a href="https://www.runoob.com/python/python-func-zip.html">Python zip() 函数</a>，经常用于列表两个两个处理</li><li><a href="https://zhuanlan.zhihu.com/p/59849190">Python Pillow 库 ImageDraw 绘制图像模块</a></li><li><a href="https://www.jianshu.com/p/171ce1d0656e">python Image</a></li></ul><p>PIL.Image.new(mode, size, color=0)</p><ul><li>mode 颜色模式，9种，分别为1(非黑即白)，L(灰色），P（8bit,调色板模式)，RGB，RGBA，CMYK，YCbCr，I，F。</li><li>size 大小（500，500）</li><li>color 默认黑色</li></ul><p>Web客户端授权验证</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 用户名</span>user <span class="token operator">=</span> <span class="token string">"huge"</span><span class="token comment" spellcheck="true"># 密码</span>passwd <span class="token operator">=</span> <span class="token string">"file"</span><span class="token comment" spellcheck="true"># Web服务器 IP</span>url <span class="token operator">=</span> <span class="token string">"http://www.pythonchallenge.com/pc/return/good.html"</span><span class="token comment" spellcheck="true"># 1. 构建一个密码管理对象，用来保存需要处理的用户名和密码</span>passwdmgr <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>HTTPPasswordMgrWithDefaultRealm<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 2. 添加账户信息，第一个参数realm是与远程服务器相关的域信息，一般没人管它都是写None，后面三个参数分别是 Web服务器、用户名、密码</span>passwdmgr<span class="token punctuation">.</span>add_password<span class="token punctuation">(</span>None<span class="token punctuation">,</span> url<span class="token punctuation">,</span> user<span class="token punctuation">,</span> passwd<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 3. 构建一个HTTP基础用户名/密码验证的HTTPBasicAuthHandler处理器对象，参数是创建的密码管理对象</span>httpauth_handler <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>HTTPBasicAuthHandler<span class="token punctuation">(</span>passwdmgr<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 4. 通过 build_opener()方法使用这些代理Handler对象，创建自定义opener对象，参数包括构建的 proxy_handler</span>opener <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>build_opener<span class="token punctuation">(</span>httpauth_handler<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 5. 可以选择通过install_opener()方法定义opener为全局opener</span>urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>install_opener<span class="token punctuation">(</span>opener<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 6. 构建 Request对象</span>request <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>Request<span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 7. 定义opener为全局opener后，可直接使用urlopen()发送请求</span>response <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 8. 打印响应内容</span>html <span class="token operator">=</span> response<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>好像有点长~哇</p><p><strong>🔑Solution</strong></p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token keyword">from</span> PIL <span class="token keyword">import</span> ImageDraw<span class="token comment" spellcheck="true">#改天用正则表达式改下</span>first <span class="token operator">=</span> <span class="token punctuation">[</span>    <span class="token number">146</span><span class="token punctuation">,</span> <span class="token number">399</span><span class="token punctuation">,</span> <span class="token number">163</span><span class="token punctuation">,</span> <span class="token number">403</span><span class="token punctuation">,</span> <span class="token number">170</span><span class="token punctuation">,</span> <span class="token number">393</span><span class="token punctuation">,</span> <span class="token number">169</span><span class="token punctuation">,</span> <span class="token number">391</span><span class="token punctuation">,</span> <span class="token number">166</span><span class="token punctuation">,</span> <span class="token number">386</span><span class="token punctuation">,</span> <span class="token number">170</span><span class="token punctuation">,</span> <span class="token number">381</span><span class="token punctuation">,</span> <span class="token number">170</span><span class="token punctuation">,</span> <span class="token number">371</span><span class="token punctuation">,</span> <span class="token number">170</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>second <span class="token operator">=</span> <span class="token punctuation">[</span>    <span class="token number">156</span><span class="token punctuation">,</span> <span class="token number">141</span><span class="token punctuation">,</span> <span class="token number">165</span><span class="token punctuation">,</span> <span class="token number">135</span><span class="token punctuation">,</span> <span class="token number">169</span><span class="token punctuation">,</span> <span class="token number">131</span><span class="token punctuation">,</span> <span class="token number">176</span><span class="token punctuation">,</span> <span class="token number">130</span><span class="token punctuation">,</span> <span class="token number">187</span><span class="token punctuation">,</span> <span class="token number">134</span><span class="token punctuation">,</span> <span class="token number">191</span><span class="token punctuation">,</span> <span class="token number">140</span><span class="token punctuation">,</span> <span class="token number">191</span><span class="token punctuation">,</span> <span class="token number">146</span><span class="token punctuation">,</span> <span class="token number">186</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token comment" spellcheck="true">#创建图片对象，背景为白色，模式为非黑即白</span>img <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>draw <span class="token operator">=</span> ImageDraw<span class="token punctuation">.</span>Draw<span class="token punctuation">(</span>img<span class="token punctuation">)</span></code></pre><p>打印first</p><pre class=" language-python"><code class="language-python">draw<span class="token punctuation">.</span>line<span class="token punctuation">(</span>list<span class="token punctuation">(</span>zip<span class="token punctuation">(</span>first<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> first<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>img<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><img src="https://i.loli.net/2020/11/14/niUgVLqSEk8sT3x.png" width="50%"><p>打印second</p><pre class=" language-python"><code class="language-python">draw<span class="token punctuation">.</span>line<span class="token punctuation">(</span>list<span class="token punctuation">(</span>zip<span class="token punctuation">(</span>second<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> second<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>img<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><img src="https://i.loli.net/2020/11/14/XCBEkIuJLOo3pjH.png" width="50%;"><p>合并</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># draw.line(list(zip(first[0::2], first[1::2])))</span><span class="token comment" spellcheck="true"># draw.line(list(zip(second[0::2], second[1::2])))</span>draw<span class="token punctuation">.</span>line<span class="token punctuation">(</span>first<span class="token punctuation">)</span>draw<span class="token punctuation">.</span>line<span class="token punctuation">(</span>second<span class="token punctuation">)</span>img<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><img src="https://i.loli.net/2020/11/14/nlBoNPd1jp3GEvc.png" width="50%"><p>换一种画图</p><pre class=" language-python"><code class="language-python">img <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">'RGB'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">)</span>draw <span class="token operator">=</span> ImageDraw<span class="token punctuation">.</span>Draw<span class="token punctuation">(</span>img<span class="token punctuation">)</span>draw<span class="token punctuation">.</span>polygon<span class="token punctuation">(</span>list<span class="token punctuation">(</span>zip<span class="token punctuation">(</span>first<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> first<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> fill<span class="token operator">=</span><span class="token string">"white"</span><span class="token punctuation">)</span>draw<span class="token punctuation">.</span>polygon<span class="token punctuation">(</span>list<span class="token punctuation">(</span>zip<span class="token punctuation">(</span>second<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> second<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> fill<span class="token operator">=</span><span class="token string">"white"</span><span class="token punctuation">)</span>img<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><img src="https://cdn.jsdelivr.net/gh/Achuan-2/PicBed/assets/20201226131057-2020-12-26.png" width="50%"><p>所以答案就是bull啦</p><p><strong>💻Code</strong></p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token keyword">from</span> PIL <span class="token keyword">import</span> ImageDraw<span class="token keyword">import</span> urllib<span class="token punctuation">.</span>request<span class="token keyword">import</span> re<span class="token comment" spellcheck="true"># 用户名</span>user <span class="token operator">=</span> <span class="token string">"huge"</span><span class="token comment" spellcheck="true"># 密码</span>passwd <span class="token operator">=</span> <span class="token string">"file"</span><span class="token comment" spellcheck="true"># Web服务器 IP</span>url <span class="token operator">=</span> <span class="token string">"http://www.pythonchallenge.com/pc/return/good.html"</span><span class="token comment" spellcheck="true"># 1. 构建一个密码管理对象，用来保存需要处理的用户名和密码</span>passwdmgr <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>HTTPPasswordMgrWithDefaultRealm<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 2. 添加账户信息，第一个参数realm是与远程服务器相关的域信息，一般没人管它都是写None，后面三个参数分别是 Web服务器、用户名、密码</span>passwdmgr<span class="token punctuation">.</span>add_password<span class="token punctuation">(</span>None<span class="token punctuation">,</span> url<span class="token punctuation">,</span> user<span class="token punctuation">,</span> passwd<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 3. 构建一个HTTP基础用户名/密码验证的HTTPBasicAuthHandler处理器对象，参数是创建的密码管理对象</span>httpauth_handler <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>HTTPBasicAuthHandler<span class="token punctuation">(</span>passwdmgr<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 4. 通过 build_opener()方法使用这些代理Handler对象，创建自定义opener对象，参数包括构建的 proxy_handler</span>opener <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>build_opener<span class="token punctuation">(</span>httpauth_handler<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 5. 可以选择通过install_opener()方法定义opener为全局opener</span>urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>install_opener<span class="token punctuation">(</span>opener<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 6. 构建 Request对象</span>request <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>Request<span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 7. 定义opener为全局opener后，可直接使用urlopen()发送请求</span>response <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 8. 打印响应内容</span>html <span class="token operator">=</span> response<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span>first_str <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span>r<span class="token string">"first:\n((.|\s)+)\n\nsecond:"</span><span class="token punctuation">,</span> html<span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>first_num <span class="token operator">=</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span>r<span class="token string">'\d+'</span><span class="token punctuation">,</span> first_str<span class="token punctuation">)</span>first_num <span class="token operator">=</span> <span class="token punctuation">[</span>int<span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> first_num<span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>first_num<span class="token punctuation">)</span>second_str <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span>r<span class="token string">'second:\n((.|\s)+)'</span><span class="token punctuation">,</span> html<span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>second_num <span class="token operator">=</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span>r<span class="token string">'\d+'</span><span class="token punctuation">,</span> second_str<span class="token punctuation">)</span>second_num <span class="token operator">=</span> <span class="token punctuation">[</span>int<span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> second_num<span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>second_num<span class="token punctuation">)</span>img <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>draw <span class="token operator">=</span> ImageDraw<span class="token punctuation">.</span>Draw<span class="token punctuation">(</span>img<span class="token punctuation">)</span>draw<span class="token punctuation">.</span>line<span class="token punctuation">(</span>first_num<span class="token punctuation">)</span>draw<span class="token punctuation">.</span>line<span class="token punctuation">(</span>second_num<span class="token punctuation">)</span>img<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># img = Image.new('RGB', (500, 500))</span><span class="token comment" spellcheck="true"># draw = ImageDraw.Draw(img)</span><span class="token comment" spellcheck="true"># draw.polygon(list(zip(first_num[0::2], first_num[1::2])), fill="white")</span><span class="token comment" spellcheck="true"># draw.polygon(list(zip(second_num[0::2], second_num[1::2])), fill="brown")</span><span class="token comment" spellcheck="true"># img.show()</span></code></pre><p><a href="http://www.pythonchallenge.com/pc/return/bull.html">点击进入下一关</a></p><h2 id="level-10-bull-2020-11-5"><a href="#level-10-bull-2020-11-5" class="headerlink" title="level_10_bull_2020.11.5"></a>level_10_bull_2020.11.5</h2><p>Link: <a href="http://www.pythonchallenge.com/pc/return/bull.html">http://www.pythonchallenge.com/pc/return/bull.html</a><br><img src="https://i.loli.net/2020/11/14/g5mdp2QahHuecCU.png"></p><p><strong>🖊Learned</strong><br>这一关考察数学归纳还有编程功底, 计算每个字符出现的重复次数的方法需要学习一下, 虽然可以直接通过python的库实现<br><strong>🔑Solution</strong><br>点击图片，看到</p><pre><code>a = [1, 11, 21, 1211, 111221,...]</code></pre><p>所以这题的意思就是找规律</p><p>1，1个1→11</p><p>2个1→21</p><p>1个2一个1→1211</p><p>1个1，1个2，2个1→111221</p><p><strong>💻Code</strong></p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># len(a[30]) = ?</span>a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">]</span>b <span class="token operator">=</span> <span class="token string">''</span><span class="token keyword">for</span> num <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment" spellcheck="true"># 运行30次</span>    position <span class="token operator">=</span> <span class="token number">0</span>    repeats <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">while</span> position <span class="token operator">&lt;</span> len<span class="token punctuation">(</span>a<span class="token punctuation">[</span>num<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">while</span> repeats <span class="token operator">&lt;</span> len<span class="token punctuation">(</span>a<span class="token punctuation">[</span>num<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">and</span> a<span class="token punctuation">[</span>num<span class="token punctuation">]</span><span class="token punctuation">[</span>repeats<span class="token punctuation">]</span> <span class="token operator">==</span> a<span class="token punctuation">[</span>num<span class="token punctuation">]</span><span class="token punctuation">[</span>position<span class="token punctuation">]</span><span class="token punctuation">:</span>            repeats <span class="token operator">+=</span> <span class="token number">1</span>        b <span class="token operator">+=</span> str<span class="token punctuation">(</span>repeats <span class="token operator">-</span> position<span class="token punctuation">)</span> <span class="token operator">+</span> a<span class="token punctuation">[</span>num<span class="token punctuation">]</span><span class="token punctuation">[</span>position<span class="token punctuation">]</span>        position <span class="token operator">=</span> repeats    a<span class="token punctuation">.</span>append<span class="token punctuation">(</span>b<span class="token punctuation">)</span>    b <span class="token operator">=</span> <span class="token string">''</span><span class="token keyword">print</span><span class="token punctuation">(</span>len<span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p>得到5080</p><p>所以点击进入下一关： <a href="http://www.pythonchallenge.com/pc/return/5808.html">http://www.pythonchallenge.com/pc/return/5808.html</a></p><h2 id="level-11-5808-amp-pillow-2020-11-6"><a href="#level-11-5808-amp-pillow-2020-11-6" class="headerlink" title="level_11_5808&amp;pillow_2020.11.6"></a>level_11_5808&amp;pillow_2020.11.6</h2><p>翻译了一整天的药学作业的两篇论文，copy了两万多字，差点吐血🤮</p><p>好了，今晚还是继续挑战python吧</p><h3 id="🖊Learned的知识-pillow"><a href="#🖊Learned的知识-pillow" class="headerlink" title="🖊Learned的知识-pillow"></a>🖊Learned的知识-pillow</h3><p>感觉好几关都和图像处理有关欸！就稍微补一点pillow库的知识吧</p><p><a href="https://liam.page/2015/04/22/pil-tutorial-basic-usage/">PIL 简明教程 - 基本用法</a></p><p><a href="https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/0014320027235877860c87af5544f25a8deeb55141d60c5000#0">廖雪峰 - Pillow</a></p><p><a href="https://www.jianshu.com/p/e8d058767dfa#%E5%9B%BE%E5%83%8F%E9%80%9A%E9%81%93%E5%87%A0%E4%BD%95%E5%8F%98%E6%8D%A2%E8%A3%81%E5%89%AA">python PIL 图像处理</a></p><p>PIL：Python Imaging Library，已经是Python平台事实上的图像处理标准库了。PIL功能非常强大，但API却非常简单易用。但由于PIL仅支持到Python 2.7，加上年久失修，于是一群志愿者在PIL的基础上创建了兼容的版本，名字叫<a href="https://github.com/python-pillow/Pillow">Pillow</a>，支持最新Python 3.x，又加入了许多新特性，因此，我们可以直接安装使用Pillow。</p><pre class=" language-python"><code class="language-python"> pip install pillow</code></pre><h4 id="图像打开，保存"><a href="#图像打开，保存" class="headerlink" title="图像打开，保存"></a>图像打开，保存</h4><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token comment" spellcheck="true"># 打开一个jpg图像文件，注意是当前路径:</span>im <span class="token operator">=</span> Image<span class="token punctuation">.</span>open<span class="token punctuation">(</span><span class="token string">'test.jpg'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 获得图像尺寸:</span>w<span class="token punctuation">,</span> h <span class="token operator">=</span> im<span class="token punctuation">.</span>size <span class="token comment" spellcheck="true"># 注意，比如尺寸是640，480，实际为0-639，0-479</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Original image size: %sx%s'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>w<span class="token punctuation">,</span> h<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Resize image to: %sx%s'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>w<span class="token operator">//</span><span class="token number">2</span><span class="token punctuation">,</span> h<span class="token operator">//</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 把缩放后的图像用jpeg格式保存:</span>im<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'thumbnail.jpg'</span><span class="token punctuation">,</span> <span class="token string">'jpeg'</span><span class="token punctuation">)</span></code></pre><h4 id="图片切片"><a href="#图片切片" class="headerlink" title="图片切片"></a>图片切片</h4><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#box变量是一个四元组(左，上，右，下)。</span>box <span class="token operator">=</span> <span class="token punctuation">(</span>int<span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token punctuation">,</span> int<span class="token punctuation">(</span>top<span class="token punctuation">)</span><span class="token punctuation">,</span>int<span class="token punctuation">(</span>right<span class="token punctuation">)</span><span class="token punctuation">,</span>int<span class="token punctuation">(</span>bottom<span class="token punctuation">)</span><span class="token punctuation">)</span>region <span class="token operator">=</span> im<span class="token punctuation">.</span>crop<span class="token punctuation">(</span>box<span class="token punctuation">)</span></code></pre><h4 id="图片缩放"><a href="#图片缩放" class="headerlink" title="图片缩放"></a>图片缩放</h4><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 缩放到50%:</span>im<span class="token punctuation">.</span>thumbnail<span class="token punctuation">(</span><span class="token punctuation">(</span>w<span class="token operator">//</span><span class="token number">2</span><span class="token punctuation">,</span> h<span class="token operator">//</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#  thumbnail会保持宽高比</span><span class="token comment" spellcheck="true"># 如果要重设大小和比例可以用resize，Image.ANTIALIAS是高质量滤镜</span>img <span class="token operator">=</span> img<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">480</span><span class="token punctuation">,</span> <span class="token number">270</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Image<span class="token punctuation">.</span>ANTIALIAS<span class="token punctuation">)</span></code></pre><h4 id="使用matplotlib-pyplot"><a href="#使用matplotlib-pyplot" class="headerlink" title="使用matplotlib.pyplot"></a>使用matplotlib.pyplot</h4><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> pltimg <span class="token operator">=</span> Image<span class="token punctuation">.</span>open<span class="token punctuation">(</span><span class="token string">'assets/cave.jpg'</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#打开图像</span>plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token string">"beauty"</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'origin'</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token punctuation">,</span> plt<span class="token punctuation">.</span>axis<span class="token punctuation">(</span><span class="token string">'off'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#box变量是一个四元组(左，上，右，下)。</span>box <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">260</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>roi <span class="token operator">=</span> img<span class="token punctuation">.</span>crop<span class="token punctuation">(</span>box<span class="token punctuation">)</span>plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'roi'</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>roi<span class="token punctuation">)</span>plt<span class="token punctuation">.</span>axis<span class="token punctuation">(</span><span class="token string">'off'</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p><img src="https://i.loli.net/2020/11/14/7ISiFbVpC29mDTO.png"></p><h4 id="新建图像"><a href="#新建图像" class="headerlink" title="新建图像"></a>新建图像</h4><pre class=" language-python"><code class="language-python">odd_img <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">"RGB"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>width <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">,</span> height <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><h4 id="高斯模糊"><a href="#高斯模糊" class="headerlink" title="高斯模糊"></a>高斯模糊</h4><pre class=" language-python"><code class="language-python">im2 <span class="token operator">=</span> im<span class="token punctuation">.</span>filter<span class="token punctuation">(</span>ImageFilter<span class="token punctuation">.</span>BLUR<span class="token punctuation">)</span>im2<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'blur.jpg'</span><span class="token punctuation">,</span> <span class="token string">'jpeg'</span><span class="token punctuation">)</span></code></pre><h4 id="生成字母验证码图片"><a href="#生成字母验证码图片" class="headerlink" title="生成字母验证码图片"></a>生成字母验证码图片</h4><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token punctuation">,</span> ImageDraw<span class="token punctuation">,</span> ImageFont<span class="token punctuation">,</span> ImageFilter<span class="token keyword">import</span> random<span class="token comment" spellcheck="true"># 随机字母:</span><span class="token keyword">def</span> <span class="token function">rndChar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> chr<span class="token punctuation">(</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 随机颜色1:</span><span class="token keyword">def</span> <span class="token function">rndColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 随机颜色2:</span><span class="token keyword">def</span> <span class="token function">rndColor2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">127</span><span class="token punctuation">)</span><span class="token punctuation">,</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">127</span><span class="token punctuation">)</span><span class="token punctuation">,</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">127</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 240 x 60:</span>width <span class="token operator">=</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">4</span>height <span class="token operator">=</span> <span class="token number">60</span>image <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">'RGB'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 创建Font对象:</span>setfont <span class="token operator">=</span> ImageFont<span class="token punctuation">.</span>truetype<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">'C:/windows/fonts/Arial.ttf'</span><span class="token punctuation">,</span> <span class="token number">36</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 创建Draw对象:</span>draw <span class="token operator">=</span> ImageDraw<span class="token punctuation">.</span>Draw<span class="token punctuation">(</span>image<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 填充每个像素:</span><span class="token keyword">for</span> x <span class="token keyword">in</span> range<span class="token punctuation">(</span>width<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> y <span class="token keyword">in</span> range<span class="token punctuation">(</span>height<span class="token punctuation">)</span><span class="token punctuation">:</span>        draw<span class="token punctuation">.</span>point<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">,</span> fill<span class="token operator">=</span>rndColor<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 输出文字:</span><span class="token keyword">for</span> t <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    draw<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">60</span> <span class="token operator">*</span> t <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rndChar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> font<span class="token operator">=</span>setfont<span class="token punctuation">,</span> fill<span class="token operator">=</span>rndColor2<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 模糊:</span>image <span class="token operator">=</span> image<span class="token punctuation">.</span>filter<span class="token punctuation">(</span>ImageFilter<span class="token punctuation">.</span>BLUR<span class="token punctuation">)</span>image<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>image<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'code.jpg'</span><span class="token punctuation">,</span> <span class="token string">'jpeg'</span><span class="token punctuation">)</span></code></pre><p><img src="https://i.loli.net/2020/11/14/2yhrMLeH8QngKUC.jpg"></p><p><strong>🔑Solution</strong></p><p>查看网页源代码，odd even 提示很明显了，就是处理图片偶数和奇数像素点</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>odd even<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../style.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>center</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>center</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cave.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>640<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>480<span class="token punctuation">"</span></span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>font</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>gold<span class="token punctuation">"</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>+1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>font</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><p>把图保存到本地，如果把这张图放大，就会发现像素块是间隔排列的</p><p><img src="https://i.loli.net/2020/11/14/5qYKj2CQuB4MswU.png"></p><p><strong>💻Code</strong><br>于是就快乐的码代码啦！</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 本来想直接用requests但是这个网站http://www.pythonchallenge.com/pc/return/cave.jpg需要输入账号和密码才能访问</span><span class="token comment" spellcheck="true"># import requests</span><span class="token comment" spellcheck="true"># import io</span><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token comment" spellcheck="true"># 就暂时不知道如何处理，就把图片先直接保存到本地了</span>img <span class="token operator">=</span> Image<span class="token punctuation">.</span>open<span class="token punctuation">(</span>r<span class="token string">"assets/cave.jpg"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 打印图片格式，大小，颜色模式</span><span class="token keyword">print</span><span class="token punctuation">(</span>img<span class="token punctuation">.</span>format<span class="token punctuation">,</span> img<span class="token punctuation">.</span>size<span class="token punctuation">,</span> img<span class="token punctuation">.</span>mode<span class="token punctuation">)</span>width<span class="token punctuation">,</span> height <span class="token operator">=</span> img<span class="token punctuation">.</span>size<span class="token comment" spellcheck="true"># ? 为什么宽度和高度要除以2呢？</span>odd_img <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">"RGB"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>width <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">,</span> height <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span>even_img <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">"RGB"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>width <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">,</span> height <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span>origin_img_1 <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">"RGB"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>width <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">,</span> height <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>origin_img_2 <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">"RGB"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>width <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">,</span> height <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># print(img.getpixel((640, 480)))</span><span class="token comment" spellcheck="true"># 对xy都为奇数，xy都为偶数和其他都打印</span><span class="token keyword">for</span> x <span class="token keyword">in</span> range<span class="token punctuation">(</span>width<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> y <span class="token keyword">in</span> range<span class="token punctuation">(</span>height<span class="token punctuation">)</span><span class="token punctuation">:</span>        color <span class="token operator">=</span> img<span class="token punctuation">.</span>getpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">and</span> <span class="token punctuation">(</span>y <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token comment" spellcheck="true"># 然后再放入新像素里</span>            even_img<span class="token punctuation">.</span>putpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>x <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">,</span> y <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> value<span class="token operator">=</span>color<span class="token punctuation">)</span>        <span class="token keyword">elif</span> <span class="token punctuation">(</span>x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">and</span> <span class="token punctuation">(</span>y <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            odd_img<span class="token punctuation">.</span>putpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>x <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">,</span> y <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> value<span class="token operator">=</span>color<span class="token punctuation">)</span>        <span class="token keyword">elif</span> <span class="token punctuation">(</span>x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">and</span> <span class="token punctuation">(</span>y <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            origin_img_1<span class="token punctuation">.</span>putpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>x <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">,</span> y <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> value<span class="token operator">=</span>color<span class="token punctuation">)</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            origin_img_2<span class="token punctuation">.</span>putpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">,</span> y <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> value<span class="token operator">=</span>color<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 显示图片</span>odd_img<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>even_img<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>origin_img_1<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>origin_img_2<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 保存图片</span>odd_img<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'output\level_11_odd.png'</span><span class="token punctuation">,</span> <span class="token string">'png'</span><span class="token punctuation">)</span>even_img<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'output\level_11_even.png'</span><span class="token punctuation">,</span> <span class="token string">'png'</span><span class="token punctuation">)</span>origin_img_1<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'output\level_11_origin_1.png'</span><span class="token punctuation">,</span> <span class="token string">'png'</span><span class="token punctuation">)</span>origin_img_2<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'output\level_11_origin_2.png'</span><span class="token punctuation">,</span> <span class="token string">'png'</span><span class="token punctuation">)</span></code></pre><p>得到的结果会发现odd和even是同一张图，而origin_1和origin_2也是同一张图，相当于是给的图片里放了4张图，两种图</p><p><img src="https://i.loli.net/2020/11/15/hOt3bEveocDF9Sj.png" alt="藏文字的图"></p><p><img src="https://i.loli.net/2020/11/14/2CImv51jyeGuRfM.png" alt="原图"></p><p>原理大概就是这样，用OneNote画的</p><p><img src="https://i.loli.net/2020/11/14/KqNaCX1TykZWD7I.png"></p><p>所以根据这个原理，其实尝试自己也可以搞一张图，但是效果并不好</p><p>注意藏文字的图文字一定要暗（如果背景黑的话），主要自己是直接用python画的，没有渐变，所以有点生硬，只好把颜色调的很暗才不那么明显。</p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token keyword">from</span> PIL <span class="token keyword">import</span> ImageDraw<span class="token keyword">from</span> PIL <span class="token keyword">import</span> ImageFontimg <span class="token operator">=</span> Image<span class="token punctuation">.</span>open<span class="token punctuation">(</span>r<span class="token string">"assets/wallhaven-vg8mo8.jpg"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># print(w, h)</span><span class="token comment" spellcheck="true">###** 自己也在图片上写一个文字**###</span>draw_img <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">'RGB'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">480</span><span class="token punctuation">,</span> <span class="token number">270</span><span class="token punctuation">)</span><span class="token punctuation">)</span>draw <span class="token operator">=</span> ImageDraw<span class="token punctuation">.</span>Draw<span class="token punctuation">(</span>draw_img<span class="token punctuation">)</span><span class="token comment" spellcheck="true">#选择文字字体和大小</span>setFont <span class="token operator">=</span> ImageFont<span class="token punctuation">.</span>truetype<span class="token punctuation">(</span><span class="token string">'C:/windows/fonts/msyh.ttc'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#设置文字颜色</span>fillColor <span class="token operator">=</span> <span class="token string">"#030800"</span><span class="token comment" spellcheck="true">#写入文字</span>draw<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">,</span> u<span class="token string">'傻逼'</span><span class="token punctuation">,</span> font<span class="token operator">=</span>setFont<span class="token punctuation">,</span> fill<span class="token operator">=</span>fillColor<span class="token punctuation">)</span>draw_img<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>w<span class="token punctuation">,</span> h <span class="token operator">=</span> img<span class="token punctuation">.</span>sizeoutput_img <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">"RGB"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">960</span><span class="token punctuation">,</span> <span class="token number">540</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 缩放大小</span><span class="token comment" spellcheck="true"># img.thumbnail((320, 240)) 因为thumbnail会保持宽高比，实际大小为240*240</span>img <span class="token operator">=</span> img<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">480</span><span class="token punctuation">,</span> <span class="token number">270</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Image<span class="token punctuation">.</span>ANTIALIAS<span class="token punctuation">)</span>img<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">for</span> x <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">960</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> y <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">540</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">and</span> <span class="token punctuation">(</span>y <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token comment" spellcheck="true"># 获取当前图片的像素</span>            color <span class="token operator">=</span> draw_img<span class="token punctuation">.</span>getpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>x <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">,</span> y <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token comment" spellcheck="true"># 然后再放入新像素里</span>        <span class="token keyword">elif</span> <span class="token punctuation">(</span>x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">and</span> <span class="token punctuation">(</span>y <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            color <span class="token operator">=</span> draw_img<span class="token punctuation">.</span>getpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>x <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">,</span> y <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            color <span class="token operator">=</span> img<span class="token punctuation">.</span>getpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>x <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">,</span> y <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        output_img<span class="token punctuation">.</span>putpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">,</span> value<span class="token operator">=</span>color<span class="token punctuation">)</span>output_img<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>output_img<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">"output/try.png"</span><span class="token punctuation">)</span>draw_img<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">"output/draw.png"</span><span class="token punctuation">)</span></code></pre><p><img src="https://i.loli.net/2020/11/14/toJBKS8TMUdWv6s.png" alt="藏文字的图"></p><p><img src="https://i.loli.net/2020/11/14/248rDqWKUiw3TJp.png" alt="合成的图片"></p><p>所以点击进入下一关： <a href="http://www.pythonchallenge.com/pc/return/evil.html">http://www.pythonchallenge.com/pc/return/evil.html</a></p><h2 id="level-12-evil-2020-11-7"><a href="#level-12-evil-2020-11-7" class="headerlink" title="level_12_evil_2020.11.7"></a>level_12_evil_2020.11.7</h2><p>Link: <a href="http://www.pythonchallenge.com/pc/return/evil.html">http://www.pythonchallenge.com/pc/return/evil.html</a></p><p><img src="https://i.loli.net/2020/11/14/bkphDU3lxgujKGN.png" alt="level_12_evil"></p><p><strong>🖊Learned</strong><br>data[i::5]每个五个取一个,得到的就是按顺序发的牌嘛!</p><p><strong>🔑Solution</strong></p><p>一开始看见这图片的像素有问题，试着用level11的方法处理的一下，果不其然——</p><p>这图是由4张一样图合并出来的，然而并没有什么用🤮</p><p>发现封面图片被命名为evil1，因为图片描述的是发牌，于是自然想到evil2，evil3，evil4<br><a href="http://www.pythonchallenge.com/pc/return/evil2.jpg">http://www.pythonchallenge.com/pc/return/evil2.jpg</a></p><p><img src="https://cdn.jsdelivr.net/gh/Achuan-2/PicBed/assets/20201227090034-2020-12-27.png" alt="evil2，not jpg-_.gfx"><br><img src="https://cdn.jsdelivr.net/gh/Achuan-2/PicBed/assets/20201227090127-2020-12-27.png" alt="evil3，no more evils..."></p><p>用edge打开<a href="http://www.pythonchallenge.com/pc/return/evil4.jpg">http://www.pythonchallenge.com/pc/return/evil4.jpg</a><br>得到的只是一个小方格<br><img src="https://cdn.jsdelivr.net/gh/Achuan-2/PicBed/assets/20201227090510-2020-12-27.png" alt="evil4"><br>但是到了IE竟然就显示”Bert is evil! go back!” 这句话暂时不知道有什么用，留着！<br><img src="https://i.loli.net/2020/11/14/PSUwEAVN2fmOZrH.png"></p><p>目前所以关键线索在evil2身上，点击<a href="http://www.pythonchallenge.com/pc/return/evil2.gfx">http://www.pythonchallenge.com/pc/return/evil2.gfx</a><br>自动下载evil2.gfx文件，打开之后发现是二进制文件<br>根据封面图的牌被分成了五份，于是猜想也要将gfx文件分五份</p><p><strong>💻Code</strong></p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> io<span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token keyword">with</span> open<span class="token punctuation">(</span><span class="token string">"assets/evil2.gfx"</span><span class="token punctuation">,</span> <span class="token string">"rb"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> gfx<span class="token punctuation">:</span>    data <span class="token operator">=</span> gfx<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># print(data) 二进制数据</span><span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    piece <span class="token operator">=</span> data<span class="token punctuation">[</span>i<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token comment" spellcheck="true"># 为什么要每隔5个取一个呢？——dealing card 😶</span>    im <span class="token operator">=</span> Image<span class="token punctuation">.</span>open<span class="token punctuation">(</span>io<span class="token punctuation">.</span>BytesIO<span class="token punctuation">(</span>piece<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 为的是看图片 </span>    <span class="token comment" spellcheck="true"># im.show() #发现预览第四张图有问题？OSError: image file is truncated 说图像文件被截断</span>    <span class="token keyword">with</span> open<span class="token punctuation">(</span><span class="token string">"output/level_12_%d.%s"</span> <span class="token operator">%</span> <span class="token punctuation">(</span>i<span class="token punctuation">,</span> im<span class="token punctuation">.</span>format<span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"wb"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> w<span class="token punctuation">:</span>        w<span class="token punctuation">.</span>write<span class="token punctuation">(</span>piece<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 写入文件</span></code></pre><p>最后得到四张图</p><img src="https://cdn.jsdelivr.net/gh/Achuan-2/PicBed/assets/college-2020-12-27.jpg" height="500px"><p>所以答案就是disproportional啦<br><a href="http://www.pythonchallenge.com/pc/return/disproportional.html">点击进入下一关</a></p><h2 id="level-13-XML-RPC-2020-11-8"><a href="#level-13-XML-RPC-2020-11-8" class="headerlink" title="level_13_XML-RPC_2020.11.8"></a>level_13_XML-RPC_2020.11.8</h2><p>Link: <a href="http://www.pythonchallenge.com/pc/return/disproportional.html">http://www.pythonchallenge.com/pc/return/disproportional.html</a></p><p>暂时决定虽然要坚持每天闯一关，但是就少废话了，花更多的时间记录python相关知识，学学pandas、matplotlib可能更理智点，没必要把解题过程详细码出来（反正基本都是参考别人的）</p><p><strong>🖊Learned</strong><br><strong>XML-RPC:</strong><br>XML-RPC（XML Remote Procedure Call，即XML远程方法调用），RPC是Remote Procedure Call的缩写，即远程方法调用，是一种在本地的机器上调用远端机器上的一个过程（方法）的技术，这个过程也被大家称为“分布式计算”，是为了提高各个分立机器的“互操作性”而发明出来的技术。</p><p>这种远程过程调用使用http作为传输协议，xml作为传送信息的编码格式。</p><p><strong>🔑Solution</strong><br>网页源代码，phone that <remote> evil，提示拨打给远程的evil</remote></p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>call him<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../style.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>center</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>disprop.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>640<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>480<span class="token punctuation">"</span></span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">usemap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#evil<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>map</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>evil<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>area</span> <span class="token attr-name">shape</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>circle<span class="token punctuation">"</span></span> <span class="token attr-name">coords</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>326,177,45<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../phonebook.php<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>map</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>font</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>gold<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">></span></span>    phone that <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>remote</span> <span class="token punctuation">/></span></span> evil<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>br</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><p>打开phonebook.php，得到一个xml但是报错了</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>methodResponse</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fault</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>struct</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>member</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>faultCode<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>int</span><span class="token punctuation">></span></span>105<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>int</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>member</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>member</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>faultString<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">></span></span>XML error: Invalid document end at line 1, column 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>member</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>struct</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fault</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>methodResponse</span><span class="token punctuation">></span></span></code></pre><p><strong>💻Code</strong></p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> xmlrpc<span class="token punctuation">.</span>clienturl <span class="token operator">=</span> <span class="token string">"http://www.pythonchallenge.com/pc/phonebook.php"</span>conn <span class="token operator">=</span> xmlrpc<span class="token punctuation">.</span>client<span class="token punctuation">.</span>ServerProxy<span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>conn<span class="token punctuation">.</span>system<span class="token punctuation">.</span>listMethods<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># ['phone', 'system.listMethods', 'system.methodHelp', 'system.methodSignature', 'system.multicall', 'system.getCapabilities']</span><span class="token comment" spellcheck="true"># 看到方法中有phone</span><span class="token keyword">print</span><span class="token punctuation">(</span>conn<span class="token punctuation">.</span>system<span class="token punctuation">.</span>methodHelp<span class="token punctuation">(</span><span class="token string">"phone"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># Returns the phone of a person</span><span class="token keyword">print</span><span class="token punctuation">(</span>conn<span class="token punctuation">.</span>system<span class="token punctuation">.</span>methodSignature<span class="token punctuation">(</span><span class="token string">"phone"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># [['string', 'string']]</span><span class="token keyword">print</span><span class="token punctuation">(</span>conn<span class="token punctuation">.</span>phone<span class="token punctuation">(</span><span class="token string">"Bert"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 还记得evil4.jpg的"Bert is evil! go back!"吗？</span><span class="token comment" spellcheck="true"># 最终结果555-ITALY</span></code></pre><p>点击进入下一关：  <a href="http://www.pythonchallenge.com/pc/return/italy.html">http://www.pythonchallenge.com/pc/return/italy.html</a></p><h2 id="level-14-italy-2020-11-9"><a href="#level-14-italy-2020-11-9" class="headerlink" title="level_14_italy_2020.11.9"></a>level_14_italy_2020.11.9</h2><p><img src="https://pic4.zhimg.com/80/v2-f5f7c5f6878289bfd2e95d5ab99826bd.png"></p><p><strong>🖊Learned</strong><br>这一关主要靠算法<br><code>directions = [(1,0),(0,1),(-1,0),(0,-1)]</code>这种方式真的巧妙<br>像这种绕圈的时候要把长度*2(l=100,d=200),这样通过step = d//2, d -= 1, 就可以得到螺线式走走法</p><p><strong>🔑Solution</strong><br>通过这图里的圈圈面包,猜测要把下面的wire.png也绕成一团</p><p><strong>💻Code</strong></p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Imageim <span class="token operator">=</span> Image<span class="token punctuation">.</span>open<span class="token punctuation">(</span><span class="token string">'assets/wire.png'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>im<span class="token punctuation">.</span>size<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># (10000, 1),是一个长条</span>hint_im <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">'RGB'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span>directions <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> p <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span> <span class="token comment" spellcheck="true"># x从-1开始,这样第一个点为(0,0)</span>d <span class="token operator">=</span> <span class="token number">200</span>  <span class="token comment" spellcheck="true"># 步长设为200，是为了出现(100，99，99，98),(98,97,97,96)...的螺线性走法</span><span class="token keyword">while</span> d <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true"># 跑一圈</span>    <span class="token keyword">for</span> v <span class="token keyword">in</span> directions<span class="token punctuation">:</span>        steps <span class="token operator">=</span>d<span class="token operator">//</span><span class="token number">2</span>        <span class="token comment" spellcheck="true"># 跑一条直线</span>        <span class="token keyword">for</span> s <span class="token keyword">in</span> range<span class="token punctuation">(</span>steps<span class="token punctuation">)</span><span class="token punctuation">:</span>            x<span class="token punctuation">,</span>y <span class="token operator">=</span>x<span class="token operator">+</span>v<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>y<span class="token operator">+</span>v<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>            hint_im<span class="token punctuation">.</span>putpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">,</span> im<span class="token punctuation">.</span>getpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            p <span class="token operator">+=</span> <span class="token number">1</span>        d <span class="token operator">-=</span> <span class="token number">1</span>hint_im<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>hint_im<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'output/level_14_hint.img'</span><span class="token punctuation">)</span></code></pre><p>得到猫图<br><img src="https://pic4.zhimg.com/80/v2-33a36f418680e298e730f27701b0b200.png" alt="cat"></p><p>另外如果把d改为100的话，会得到一张蛮有意思的图</p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Imageim <span class="token operator">=</span> Image<span class="token punctuation">.</span>open<span class="token punctuation">(</span><span class="token string">'assets/wire.png'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>im<span class="token punctuation">.</span>size<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># (10000, 1)</span>hint_im <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">'RGB'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span>delta <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> p <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span>d <span class="token operator">=</span> <span class="token number">100</span>  <span class="token comment" spellcheck="true"># 如果直接设置为100，步长就成了100，99，98，97...</span><span class="token keyword">while</span> d <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true"># 跑一圈</span>    <span class="token keyword">for</span> v <span class="token keyword">in</span> delta<span class="token punctuation">:</span>        steps <span class="token operator">=</span> d        <span class="token comment" spellcheck="true"># 跑一条直线</span>        <span class="token keyword">for</span> s <span class="token keyword">in</span> range<span class="token punctuation">(</span>steps<span class="token punctuation">)</span><span class="token punctuation">:</span>            x<span class="token punctuation">,</span> y <span class="token operator">=</span> x<span class="token operator">+</span>v<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> y<span class="token operator">+</span>v<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>            hint_im<span class="token punctuation">.</span>putpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">,</span> im<span class="token punctuation">.</span>getpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            p <span class="token operator">+=</span> <span class="token number">1</span>        d <span class="token operator">-=</span> <span class="token number">1</span>hint_im<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p><img src="https://pic4.zhimg.com/80/v2-0e9fa3f9c977e3ed693b4f080e58bf65.png"><br>于是点击：<a href="http://www.pythonchallenge.com/pc/return/cat.html">http://www.pythonchallenge.com/pc/return/cat.html</a><br>得到hint: and its name is uzi. you’ll hear from him later.<br>再点击：<a href="http://www.pythonchallenge.com/pc/return/uzi.html">http://www.pythonchallenge.com/pc/return/uzi.html</a><br>进入level 15</p><h2 id="level-15-datetime-2020-11-10"><a href="#level-15-datetime-2020-11-10" class="headerlink" title="level_15_datetime _2020.11.10"></a>level_15_datetime _2020.11.10</h2><p><img src="https://pic4.zhimg.com/80/v2-0f8c17a3b2936d56ed46e504409fb451.png"></p><p><strong>🖊Learned</strong><br>datetime<br><code>d = datetime.date(year, 1, 26)</code>创建一个日期对象<br><code>d.isoweeklevel()</code> 返回今天是星期几,Monlevel==1,Sunlevel==7</p><p>calendar判断闰年</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 判断闰年</span><span class="token keyword">print</span><span class="token punctuation">(</span>calendar<span class="token punctuation">.</span>isleap<span class="token punctuation">(</span><span class="token number">1006</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 结果为 False</span><span class="token keyword">print</span><span class="token punctuation">(</span>calendar<span class="token punctuation">.</span>isleap<span class="token punctuation">(</span><span class="token number">1016</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 结果为 True</span></code></pre><p><strong>🔑Solution</strong></p><blockquote><p>Combinated with all hints,so we are looking for a person, who’s related to that particular date, and he is not the youngest…<br>The key is to find what year it was.</p></blockquote><p>于是这一关就是要找到正确的日期,再通过日期来推测那个人是谁<br>日历上显示的是1__6年1月26日为星期一,再看图片下方显示二月有29天,所以这一年就还闰年,所以就可以通过遍历找到符合条件的年份</p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> datetime<span class="token keyword">import</span> calendar<span class="token comment" spellcheck="true"># 判断闰年</span><span class="token keyword">print</span><span class="token punctuation">(</span>calendar<span class="token punctuation">.</span>isleap<span class="token punctuation">(</span><span class="token number">1006</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 结果为 False</span><span class="token keyword">print</span><span class="token punctuation">(</span>calendar<span class="token punctuation">.</span>isleap<span class="token punctuation">(</span><span class="token number">1016</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 结果为 True</span><span class="token comment" spellcheck="true"># 所以从1016年开始每20年检查一次</span><span class="token keyword">for</span> year <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">1016</span><span class="token punctuation">,</span> <span class="token number">1996</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    d <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span>year<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> d<span class="token punctuation">.</span>isoweeklevel<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>  <span class="token comment" spellcheck="true"># return level of the week, where Monlevel==1,Sunlevel==7</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>year<span class="token punctuation">)</span><span class="token comment" spellcheck="true">#####output###</span><span class="token triple-quoted-string string">"""11761356157617561976"""</span><span class="token comment" spellcheck="true"># hint: &lt;!-- he ain't the youngest, he is the second --></span><span class="token comment" spellcheck="true"># so we choose 1756</span><span class="token comment" spellcheck="true"># hint: &lt;!-- todo: buy flowers for tomorrow --></span><span class="token comment" spellcheck="true"># so we look at 1756-1-27</span></code></pre><p>search the Internet,it turns out that level is the birthlevel of Morzart<br><img src="https://pic4.zhimg.com/80/v2-ad0333fa1bed4567f48c101b475c72c8.png"></p><p>so click this <a href="http://www.pythonchallenge.com/pc/return/mozart.html">link</a>, to level 16</p><p>PS: I just found writing in Engslish is much more convinent for markdown</p><h2 id="level-16-ImageChops-amp-numpy-roll-2020-11-11"><a href="#level-16-ImageChops-amp-numpy-roll-2020-11-11" class="headerlink" title="level_16_ImageChops &amp; numpy.roll_2020.11.11"></a>level_16_ImageChops &amp; numpy.roll_2020.11.11</h2><p>Link : <a href="http://www.pythonchallenge.com/pc/return/mozart.html">http://www.pythonchallenge.com/pc/return/mozart.html</a></p><p>今天双十一啦，可惜我啥也没买，继续刷题吧！<br><img src="https://cdn.jsdelivr.net/gh/Achuan-2/PicBed/assets/20201229213540-2020-12-29.png"></p><p><strong>🖊Learned</strong><br>今日所学<br>ImageChops 模块包含许多算术图像操作，称为通道操作（“chops”）。这些可以用于各种用途，包括特殊效果、图像合成、算法绘制等</p><ul><li>Image.histogram()返回图像的直方图。直方图作为像素计数列表返回，它的x轴是像素值，y轴是对应的像素在图像里的数量。</li><li>PIL.ImageChops.offset(image, xoffset, yoffset=None),返回数据被给定距离偏移的图像的副本。数据环绕边缘。如果 yoffset 如果省略，则假定等于 X偏移.</li><li>Image.paste(im,box)将一张图粘贴到另一张图像上。变量box或者是一个给定左上角的2元组，或者是定义了左，上，右和下像素坐标的4元组，或者为空（与（0，0）一样）。如果给定4元组，被粘贴的图像的尺寸必须与区域尺寸一样。</li></ul><p>NumPy 是一个主要用于数组计算的数学库</p><ul><li>np.array(image),image类 转 numpy，一行一行的用数字代表各个像素</li><li>tolist()将数组或者矩阵转换成列表</li><li>list.index(),从列表中找出某个值第一个匹配项的索引位置。</li><li>numpy.roll(a,&nbsp;shift,&nbsp;axis=None)沿着给定轴滚动数组元素。超出最后位置的元素将会滚动到第一个位置。<pre class=" language-python"><code class="language-python">a1 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>roll<span class="token punctuation">(</span>a1<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># [ 2  3  4  5  6  7  8  9 10  0  1]</span></code></pre></li></ul><p><strong>🔑Solution</strong><br>方法一：使用ImageChops.offset()对图像进行偏移</p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token punctuation">,</span> ImageChops<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token comment" spellcheck="true"># NumPy 是一个主要用于数组计算的数学库</span><span class="token comment" spellcheck="true"># ImageChops 模块包含许多算术图像操作，称为通道操作（“chops”）。这些可以用于各种用途，包括特殊效果、图像合成、算法绘制等</span>image <span class="token operator">=</span> Image<span class="token punctuation">.</span>open<span class="token punctuation">(</span><span class="token string">"assets/mozart.gif"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 生成图像像素直方图，找到频数正好为image.height的整倍的，因为从图中可以看到pink每行都出现了</span><span class="token comment" spellcheck="true"># 我们的任务就是把每行像素都移动，让pink组成一整块</span>frequency <span class="token operator">=</span><span class="token punctuation">[</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> image<span class="token punctuation">.</span>histogram<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> x <span class="token operator">%</span> image<span class="token punctuation">.</span>height <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">and</span> x <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>frequency<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># [2400]</span><span class="token keyword">print</span><span class="token punctuation">(</span>image<span class="token punctuation">.</span>histogram<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>index<span class="token punctuation">(</span><span class="token number">2400</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 返回频次为2400的x轴坐标195，即pink颜色</span><span class="token comment" spellcheck="true"># 查看是不是这个颜色</span>tmp <span class="token operator">=</span> image<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span>tmp<span class="token punctuation">.</span>frombytes<span class="token punctuation">(</span>bytes<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">195</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token punctuation">(</span>tmp<span class="token punctuation">.</span>height <span class="token operator">*</span> tmp<span class="token punctuation">.</span>width<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>tmp<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 对图片每行偏移</span><span class="token keyword">for</span> y <span class="token keyword">in</span> range<span class="token punctuation">(</span>image<span class="token punctuation">.</span>size<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true">#(left, upper, right, lower)-tuple.</span>    box <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">,</span> image<span class="token punctuation">.</span>size<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> y <span class="token operator">+</span> <span class="token number">1</span>    row <span class="token operator">=</span> image<span class="token punctuation">.</span>crop<span class="token punctuation">(</span>box<span class="token punctuation">)</span>    bytes_data <span class="token operator">=</span> row<span class="token punctuation">.</span>tobytes<span class="token punctuation">(</span><span class="token punctuation">)</span>    i <span class="token operator">=</span> bytes_data<span class="token punctuation">.</span>index<span class="token punctuation">(</span><span class="token number">195</span><span class="token punctuation">)</span>    row <span class="token operator">=</span> ImageChops<span class="token punctuation">.</span>offset<span class="token punctuation">(</span>row<span class="token punctuation">,</span> <span class="token operator">-</span>i<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># offset 偏移量</span>    image<span class="token punctuation">.</span>paste<span class="token punctuation">(</span>row<span class="token punctuation">,</span> box<span class="token punctuation">)</span>image<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">"output/level_16_mozart.gif_1.gif"</span><span class="token punctuation">)</span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/Achuan-2/PicBed/assets/20201229213738-2020-12-29.png"><br>方法二：使用numpy.roll对图片进行偏移<br>不知道为什么得到的是灰色的？？？</p><pre class=" language-python"><code class="language-python">image <span class="token operator">=</span> Image<span class="token punctuation">.</span>open<span class="token punctuation">(</span><span class="token string">"assets/mozart.gif"</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>image<span class="token punctuation">.</span>mode<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 模式“P”为8位彩色图像，它的每个像素用8个bit表示，其对应的彩色值是按照调色板查询出来的。</span><span class="token comment" spellcheck="true"># roll th image</span>shifted <span class="token operator">=</span> <span class="token punctuation">[</span>bytes<span class="token punctuation">(</span>np<span class="token punctuation">.</span>roll<span class="token punctuation">(</span>row<span class="token punctuation">,</span> <span class="token operator">-</span>row<span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>index<span class="token punctuation">(</span><span class="token number">195</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">for</span> row <span class="token keyword">in</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>image<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token comment" spellcheck="true"># print(shifted)</span><span class="token comment" spellcheck="true"># 根据二进制数据创建图像</span>Image<span class="token punctuation">.</span>frombytes<span class="token punctuation">(</span><span class="token string">"P"</span><span class="token punctuation">,</span> image<span class="token punctuation">.</span>size<span class="token punctuation">,</span> b<span class="token string">""</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>shifted<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">"output/level_16_mozart.gif_2"</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># romance</span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/Achuan-2/PicBed/assets/20201229213813-2020-12-29.png"></p><p>click to next level: <a href="http://www.pythonchallenge.com/pc/return/romance.html">http://www.pythonchallenge.com/pc/return/romance.html</a></p><h2 id="level-17-cookie-amp-urllib-parse-2020-11-12"><a href="#level-17-cookie-amp-urllib-parse-2020-11-12" class="headerlink" title="level_17_cookie &amp; urllib.parse_2020.11.12"></a>level_17_cookie &amp; urllib.parse_2020.11.12</h2><p>这一关基本是爬虫+复习关了，好难，直接copy代码了🤢<br>参考资料：</p><ul><li><a href="https://www.jianshu.com/p/ea3ae84022e5">Python Challenge[17]-Recgat简书</a></li><li><a href="http://kwangka.github.io/2015/01/31/pc17/">Python Challenge (Level 17)曾梦想仗剑走天涯</a></li><li><a href="https://www.hackingnote.com/en/python-challenge-solutions/level-17">hackingnote</a></li></ul><p><img src="https://cdn.jsdelivr.net/gh/Achuan-2/PicBed/assets/20201229214859-2020-12-29.png"><br><strong>🖊Learned</strong><br>cookie和获取cookie<br><a href="https://zhuanlan.zhihu.com/p/22396872">Cookie 是什么</a><br><a href="https://blog.csdn.net/MuWinter/article/details/75313476">如何查看cookies</a></p><p>Cookie 是浏览器访问服务器后，服务器传给浏览器的一段数据。浏览器需要保存这段数据，不得轻易删除。<br>第一个作用是识别用户身份。<br>第二个作用是记录历史。<br><strong>如何获取cookie</strong></p><ul><li>使用httplib2库，cookie信息包含在httplib2.Http().request()返回的Response实例中。<pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> httplib2<span class="token punctuation">,</span>reh <span class="token operator">=</span> httplib2<span class="token punctuation">.</span>Http<span class="token punctuation">(</span><span class="token string">'.Cache'</span><span class="token punctuation">)</span>url<span class="token punctuation">,</span> num <span class="token operator">=</span> <span class="token string">'http://www.pythonchallenge.com/pc/def/linkedlist.php?busynothing='</span><span class="token punctuation">,</span> <span class="token string">'12345'</span>pattern <span class="token operator">=</span> re<span class="token punctuation">.</span>compile<span class="token punctuation">(</span><span class="token string">'info=(.*)'</span><span class="token punctuation">)</span>info <span class="token operator">=</span> <span class="token string">''</span><span class="token keyword">while</span> num<span class="token punctuation">.</span>isdigit<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>resp<span class="token punctuation">,</span>content<span class="token operator">=</span>h<span class="token punctuation">.</span>request<span class="token punctuation">(</span>url<span class="token operator">+</span>num<span class="token punctuation">)</span>info <span class="token operator">+=</span> pattern<span class="token punctuation">.</span>search<span class="token punctuation">(</span>resp<span class="token punctuation">[</span><span class="token string">'set-cookie'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">';'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>groups<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>num <span class="token operator">=</span> content<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span></code></pre></li><li>使用urllib库获取cookie信息<pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> urllib<span class="token punctuation">.</span>requesth <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span>url<span class="token punctuation">)</span>cookie <span class="token operator">=</span> h<span class="token punctuation">.</span>getheader<span class="token punctuation">(</span><span class="token string">'Set-Cookie'</span><span class="token punctuation">)</span></code></pre></li></ul><p><strong>设置cookie</strong><br>Request：模拟浏览器发送GET请求（GET-从指定的资源请求数据。），就需要使用Request对象，通过往Request对象添加HTTP头，我们就可以把请求伪装成浏览器</p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> urllib<span class="token punctuation">.</span>request <span class="token keyword">import</span> Request<span class="token punctuation">,</span> urlopen<span class="token keyword">from</span> urllib<span class="token punctuation">.</span>parse <span class="token keyword">import</span> quote_plusreq <span class="token operator">=</span> Request<span class="token punctuation">(</span>url<span class="token punctuation">,</span> headers <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">"Cookie"</span><span class="token punctuation">:</span> <span class="token string">"info="</span> <span class="token operator">+</span> quote_plus<span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>urlopen<span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p><strong>urllib.parse</strong></p><p>parse是解析的意思，urllib.parse提供了一些辅助方法，用于对url进行编码、解码。url中是不能出现一些特殊的符号的，有些符号有特殊的用途。我们知道以get方式提交数据的时候，会在url中添加key=value这样的字符串，所以在value中是不允许有’=’，因此要对其进行编码；与此同时服务器接收到这些参数的时候，要进行解码，还原成原始的数据。<br>quote_plus：这个方法是将一些特殊的字符串转换为固定的一些符号字母数字组合</p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> urllib <span class="token keyword">import</span> parsed <span class="token operator">=</span> parse<span class="token punctuation">.</span>quote<span class="token punctuation">(</span><span class="token string">'a&amp;b/c'</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#未编码斜线</span><span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># a%26b/c</span>d1 <span class="token operator">=</span> parse<span class="token punctuation">.</span>quote_plus<span class="token punctuation">(</span><span class="token string">'a&amp;b/c'</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#编码了斜线</span><span class="token keyword">print</span><span class="token punctuation">(</span>d1<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># a%26b%2Fc</span></code></pre><p>unquote/unquote_plus</p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> urllib <span class="token keyword">import</span> parse<span class="token operator">>></span><span class="token operator">></span> parse<span class="token punctuation">.</span>unquote<span class="token punctuation">(</span><span class="token string">'1+2'</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#不解码加号</span><span class="token string">'1+2'</span><span class="token operator">>></span><span class="token operator">></span> parse<span class="token punctuation">.</span>unquote_plus<span class="token punctuation">(</span><span class="token string">'1+2'</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#把加号解码为空格</span><span class="token string">'1 2'</span></code></pre><p>urlencode，将一些传入的元素使用&amp;串联起来，效果如下：</p><pre class=" language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span>params <span class="token operator">=</span> <span class="token punctuation">{</span>            <span class="token string">"appid"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>            <span class="token string">"mch_id"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>            <span class="token string">"body"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>            <span class="token string">"out_trade_no"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>            <span class="token string">"total_fee"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>            <span class="token string">"spbill_create_ip"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>            <span class="token string">"notify_url"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>            <span class="token string">"trade_type"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>            <span class="token string">"nonce_str"</span><span class="token punctuation">:</span> <span class="token number">1</span>        <span class="token punctuation">}</span><span class="token operator">>></span><span class="token operator">></span>parse<span class="token punctuation">.</span>urlencode<span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token string">'appid=1&amp;mch_id=1&amp;body=1&amp;out_trade_no=1&amp;total_fee=1&amp;spbill_create_ip=1&amp;notify_url=1&amp;trade_type=1&amp;nonce_str=1'</span></code></pre><p>经urllib.parse.unquote_to_bytes(string)方法转换返回的对象可以正常解压，该方法功能是将%xx转义替换为其等效的single-octet字符（unquote_plus()和unquote()是单个字符），以字节对象返回。不像unquote_plus()能将+转为空格，unquote_to_bytes()需要手动替换。</p><p><strong>🔑Solution</strong><br>refer to level 4 <a href="http://www.pythonchallenge.com/pc/def/linkedlist.php">http://www.pythonchallenge.com/pc/def/linkedlist.php</a></p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> urllib<span class="token punctuation">.</span>request <span class="token keyword">import</span> urlopen<span class="token keyword">from</span> urllib<span class="token punctuation">.</span>parse <span class="token keyword">import</span> unquote_plus<span class="token punctuation">,</span>unquote_to_bytes<span class="token keyword">import</span> re<span class="token punctuation">,</span> bz2<span class="token keyword">def</span> <span class="token function">geth</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">:</span>    i<span class="token operator">=</span><span class="token number">0</span>    <span class="token keyword">while</span> i<span class="token operator">&lt;</span><span class="token number">3</span><span class="token punctuation">:</span>        <span class="token keyword">try</span><span class="token punctuation">:</span>            h <span class="token operator">=</span>urlopen<span class="token punctuation">(</span>url<span class="token punctuation">,</span>timeout<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> h        <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>            i <span class="token operator">+=</span><span class="token number">1</span>num <span class="token operator">=</span> <span class="token string">'12345'</span>info <span class="token operator">=</span> <span class="token string">''</span><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    h <span class="token operator">=</span> geth<span class="token punctuation">(</span><span class="token string">'http://www.pythonchallenge.com/pc/def/linkedlist.php?busynothing='</span><span class="token operator">+</span>num<span class="token punctuation">)</span>    raw <span class="token operator">=</span> h<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>raw<span class="token punctuation">)</span>    cookie <span class="token operator">=</span>h<span class="token punctuation">.</span>getheader<span class="token punctuation">(</span><span class="token string">"Set-Cookie"</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># print(cookie)</span>    info <span class="token operator">+=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">'info=(.*?);'</span><span class="token punctuation">,</span>cookie<span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>    match <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">'the next busynothing is (\d+)'</span><span class="token punctuation">,</span>raw<span class="token punctuation">)</span>    <span class="token keyword">if</span> match <span class="token operator">==</span>None<span class="token punctuation">:</span>        <span class="token keyword">break</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        num <span class="token operator">=</span>match<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># print(info)</span><span class="token triple-quoted-string string">"""BZh91AY%26SY%94%3A%E2I%00%00%21%19%80P%81%11%00%AFg%9E%A0+%00hE%3DM%B5%23%D0%D4%D1%E2%8D%06%A9%FA%26S%D4%D3%21%A1%EAi7h%9B%9A%2B%BF%60%22%C5WX%E1%ADL%80%E8V%3C%C6%A8%DBH%2632%18%A8x%01%08%21%8DS%0B%C8%AF%96KO%CA2%B0%F1%BD%1Du%A0%86%05%92s%B0%92%C4Bc%F1w%24S%85%09%09C%AE%24%90"""</span>res <span class="token operator">=</span> unquote_to_bytes<span class="token punctuation">(</span>info<span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">"+"</span><span class="token punctuation">,</span><span class="token string">"%20"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 暂时不知道为什么要把加变成空格，不过info确实有一个+啦</span><span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>bz2<span class="token punctuation">.</span>decompress<span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># is it the 26th already? call his father and inform him that "the flowers are on their way". he'll understand.</span><span class="token comment" spellcheck="true"># 提示找Mozart父亲Leopold"</span></code></pre><p>提示到第13关，继续打电话</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># refer to level 13</span><span class="token keyword">from</span> xmlrpc<span class="token punctuation">.</span>client <span class="token keyword">import</span> ServerProxyconn <span class="token operator">=</span> ServerProxy<span class="token punctuation">(</span><span class="token string">"http://www.pythonchallenge.com/pc/phonebook.php"</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>conn<span class="token punctuation">.</span>phone<span class="token punctuation">(</span><span class="token string">"Leopold"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># output 555-VIOLIN</span><span class="token comment" spellcheck="true"># http://www.pythonchallenge.com/pc/return/violin.html</span><span class="token comment" spellcheck="true"># no! i mean yes! but ../stuff/violin.php.</span></code></pre><p>点开<a href="http://www.pythonchallenge.com/pc/stuff/violin.php">violin.php</a>，根据前面的提示，告诉他爹”the flowers are on their way”</p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> urllib<span class="token punctuation">.</span>request <span class="token keyword">import</span> Request<span class="token punctuation">,</span>urlopen<span class="token keyword">from</span> urllib<span class="token punctuation">.</span>parse <span class="token keyword">import</span> quote_plus<span class="token comment" spellcheck="true">#is it the 26th already?</span><span class="token comment" spellcheck="true"># call his father and inform him that "the flowers are on their way". he'll understand.</span>url <span class="token operator">=</span> <span class="token string">"http://www.pythonchallenge.com/pc/stuff/violin.php"</span>msg <span class="token operator">=</span> <span class="token string">"the flowers are on their way"</span>req <span class="token operator">=</span> Request<span class="token punctuation">(</span>url<span class="token punctuation">,</span> headers<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"Cookie"</span><span class="token punctuation">:</span> <span class="token string">"info="</span> <span class="token operator">+</span> quote_plus<span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>urlopen<span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p><strong>output</strong></p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>it's me. what do you want?<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../style.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>center</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>font</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>gold<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>leopold.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>oh well, don't you dare to forget the balloons.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>font</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><h2 id="level-18-ballons-2020-11-13"><a href="#level-18-ballons-2020-11-13" class="headerlink" title="level_18_ballons_2020.11.13"></a>level_18_ballons_2020.11.13</h2><p>Link: <a href="http://www.pythonchallenge.com/pc/return/balloons.html">http://www.pythonchallenge.com/pc/return/balloons.html</a></p><p><img src="https://cdn.jsdelivr.net/gh/Achuan-2/PicBed/assets/20201229215541-2020-12-29.png"></p><p><strong>🖊Learned</strong><br>1.区分两个数据的异同difflib.Differ().compare(a, b)<br><code>difflib.Differ().compare(a, b)</code> will generate<br>lines start with +: appear in a not in b<br>lines start with -: appear in b not in a<br>others: appear in both</p><p>2.bytes()&amp;int(str,16)<br>16进制形式的字符如何转成字节码，用bytes()<br>首先要先用int(str,16)将字符列表转化为10进制的数字列表，才能用bytes()</p><p>3.list [:53]<br>忘了，列表切片是左开右闭了……😳</p><pre class=" language-python"><code class="language-python">bytes<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">74</span><span class="token punctuation">,</span> <span class="token number">158</span><span class="token punctuation">,</span> <span class="token number">198</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">185</span><span class="token punctuation">,</span> <span class="token number">141</span><span class="token punctuation">,</span> <span class="token number">219</span><span class="token punctuation">,</span> <span class="token number">243</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">141</span><span class="token punctuation">,</span> <span class="token number">74</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">112</span><span class="token punctuation">,</span> <span class="token number">154</span><span class="token punctuation">,</span> <span class="token number">121</span><span class="token punctuation">,</span> <span class="token number">49</span><span class="token punctuation">,</span> <span class="token number">149</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># → b'J\x9e\xc6\x05\n\xb9\x8d\xdb\xf3P\x8dJdp\x9ay1\x95'</span></code></pre><p><strong>🔑Solution</strong><br>go to <a href="http://www.pythonchallenge.com/pc/return/bright.html">http://www.pythonchallenge.com/pc/return/bright.html</a> , then show </p><blockquote><p>ness<br>so go to <a href="http://www.pythonchallenge.com/pc/return/brightness.html">http://www.pythonchallenge.com/pc/return/brightness.html</a><br>maybe consider deltas.gz </p></blockquote><p>下载delta.gz,打开delta.txt，明显看到两栏很相似的信息，前面提示这一关要tell the difference，对于这两栏的信息，我们要用到difflib来比较它们，然后将得到的信息decode，输出为三张图片</p><p><img src="https://cdn.jsdelivr.net/gh/Achuan-2/PicBed/assets/20201229215755-2020-12-29.png"></p><p><strong>💻Code</strong></p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> gzip<span class="token keyword">import</span> difflibdata <span class="token operator">=</span> gzip<span class="token punctuation">.</span>open<span class="token punctuation">(</span><span class="token string">"assets/deltas.gz"</span><span class="token punctuation">)</span>d1<span class="token punctuation">,</span> d2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">for</span> line <span class="token keyword">in</span> data<span class="token punctuation">:</span>    d1<span class="token punctuation">.</span>append<span class="token punctuation">(</span>line<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">53</span><span class="token punctuation">]</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'\n'</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 选择53是列表左开右闭，记得每一行需要手动加\n</span>    d2<span class="token punctuation">.</span>append<span class="token punctuation">(</span>line<span class="token punctuation">[</span><span class="token number">56</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 因为后面自带\n</span>compare <span class="token operator">=</span> difflib<span class="token punctuation">.</span>Differ<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>compare<span class="token punctuation">(</span>d1<span class="token punctuation">,</span> d2<span class="token punctuation">)</span>f <span class="token operator">=</span> open<span class="token punctuation">(</span><span class="token string">"output/level_18_f.png"</span><span class="token punctuation">,</span> <span class="token string">"wb"</span><span class="token punctuation">)</span>f1 <span class="token operator">=</span> open<span class="token punctuation">(</span><span class="token string">"output/level_18_f1.png"</span><span class="token punctuation">,</span> <span class="token string">"wb"</span><span class="token punctuation">)</span>f2 <span class="token operator">=</span> open<span class="token punctuation">(</span><span class="token string">"output/level_18_f2.png"</span><span class="token punctuation">,</span> <span class="token string">"wb"</span><span class="token punctuation">)</span><span class="token keyword">for</span> line <span class="token keyword">in</span> compare<span class="token punctuation">:</span>    <span class="token comment" spellcheck="true"># print(line)</span>    <span class="token comment" spellcheck="true"># print([int(hex, 16) for hex in line[2:].strip().split(" ") if hex])</span>    bs <span class="token operator">=</span> bytes<span class="token punctuation">(</span><span class="token punctuation">[</span>int<span class="token punctuation">(</span>hex<span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span> <span class="token keyword">for</span> hex <span class="token keyword">in</span> line<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span> <span class="token keyword">if</span> hex<span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>bs<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># appear in d1 not in d2</span>    <span class="token keyword">if</span> line<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'+'</span><span class="token punctuation">:</span>        f1<span class="token punctuation">.</span>write<span class="token punctuation">(</span>bs<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># appear in d2 not in d1</span>    <span class="token keyword">elif</span> line<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'-'</span><span class="token punctuation">:</span>        f2<span class="token punctuation">.</span>write<span class="token punctuation">(</span>bs<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># appear in both</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>bs<span class="token punctuation">)</span>f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>f1<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>f2<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p><img src="https://pic4.zhimg.com/80/v2-52ca5bb9b74c6c1a7d80ee1d58d94be0.png" alt="f"></p><p><img src="https://pic4.zhimg.com/80/v2-4df5f46e8ff0e6af8a5f8b355c32574f.png" alt="f1"></p><p><img src="https://pic4.zhimg.com/80/v2-b2d6a66e7468e84f9e2fc1c7ce145539.png" alt="f2"></p><p>so next level: <a href="http://www.pythonchallenge.com/pc/hex/bin.html">http://www.pythonchallenge.com/pc/hex/bin.html</a></p><h2 id="level-19-bin-2020-11-14"><a href="#level-19-bin-2020-11-14" class="headerlink" title="level_19_bin_2020.11.14"></a>level_19_bin_2020.11.14</h2><p>Link: <a href="http://www.pythonchallenge.com/pc/hex/bin.html">http://www.pythonchallenge.com/pc/hex/bin.html</a><br>username: butter<br>password: fly</p><p><strong>🖊Learned</strong><br><a href="https://www.cnblogs.com/yongdaimi/p/10722355.html">音频属性相关：声道、采样率、采样位数、样本格式、比特率</a></p><blockquote><p>WAV有三个重要的参数：声道数、取样频率和量化位数。<br>声道数：可以是单声道或者是双声道<br>采样频率：一秒内对声音信号的采集次数，常用的有8kHz, 16kHz, 32kHz, 48kHz, 11.025kHz, 22.05kHz, 44.1kHz<br>量化位数：用多少bit表达一次采样所采集的数据，通常有8bit、16bit、24bit和32bit等几种<br>Wave_read.getnchannels()<br>返回声道数量（1 为单声道，2 为立体声）</p><p>Wave_read.getsampwidth()<br>返回采样字节长度。</p><p>Wave_read.getframerate()<br>返回采样频率。</p><p>Wave_read.getnframes()<br>返回音频总帧数。<br>Wave_read.readframes(n)<br>读取并返回以 bytes 对象表示的最多 n 帧音频。</p></blockquote><p><strong>💻Code</strong></p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> base64<span class="token keyword">import</span> wave<span class="token comment" spellcheck="true"># 将view-source:http://www.pythonchallenge.com/pc/hex/bin.html的base64编码复制为文本处理</span>message <span class="token operator">=</span> open<span class="token punctuation">(</span><span class="token string">"assets/level_19.txt"</span><span class="token punctuation">,</span> <span class="token string">"rb"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>open<span class="token punctuation">(</span><span class="token string">'output/level_19_indian.wav'</span><span class="token punctuation">,</span> <span class="token string">'wb'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>write<span class="token punctuation">(</span>base64<span class="token punctuation">.</span>decodebytes<span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p>得到的wav打开之后听到sorry……<br>打开<a href="http://www.pythonchallenge.com/pc/hex/sorry.html">http://www.pythonchallenge.com/pc/hex/sorry.html</a><br>得到- “what are you apologizing for?”<br>回头看网页显示的地图，陆地的颜色明显和海洋的颜色颠倒了，提示将音频的帧颠倒</p><pre class=" language-python"><code class="language-python">w <span class="token operator">=</span> wave<span class="token punctuation">.</span>open<span class="token punctuation">(</span><span class="token string">'output/level_19_indian.wav'</span><span class="token punctuation">,</span> <span class="token string">"rb"</span><span class="token punctuation">)</span>h <span class="token operator">=</span> wave<span class="token punctuation">.</span>open<span class="token punctuation">(</span><span class="token string">'output/level_19_result.wav'</span><span class="token punctuation">,</span> <span class="token string">"wb"</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>w<span class="token punctuation">.</span>getnchannels<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>w<span class="token punctuation">.</span>getsampwidth<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>w<span class="token punctuation">.</span>getframerate<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>h<span class="token punctuation">.</span>setnchannels<span class="token punctuation">(</span>w<span class="token punctuation">.</span>getnchannels<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>h<span class="token punctuation">.</span>setsampwidth<span class="token punctuation">(</span>w<span class="token punctuation">.</span>getsampwidth<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">//</span><span class="token number">2</span><span class="token punctuation">)</span>h<span class="token punctuation">.</span>setframerate<span class="token punctuation">(</span>w<span class="token punctuation">.</span>getframerate<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span>frames <span class="token operator">=</span> w<span class="token punctuation">.</span>readframes<span class="token punctuation">(</span>w<span class="token punctuation">.</span>getnframes<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># big_endiana 字节序，低地址端 存放 高位字节。</span>wave<span class="token punctuation">.</span>big_endiana <span class="token operator">=</span> <span class="token number">1</span>h<span class="token punctuation">.</span>writeframes<span class="token punctuation">(</span>frames<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># for i in range(w.getnframes()):</span><span class="token comment" spellcheck="true">#     h.writeframes(w.readframes(1)[::-1])</span>h<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>听出You are a idiot<br>打开 <a href="http://www.pythonchallenge.com/pc/hex/idiot.html">http://www.pythonchallenge.com/pc/hex/idiot.html</a><br>“Now you should apologize…”<br><a href="http://www.pythonchallenge.com/pc/hex/idiot2.html">http://www.pythonchallenge.com/pc/hex/idiot2.html</a></p><h2 id="level-20-idiot2-2020-11-15"><a href="#level-20-idiot2-2020-11-15" class="headerlink" title="level_20_idiot2_2020.11.15"></a>level_20_idiot2_2020.11.15</h2><p>开始用Jupyter跑python代码了，感觉飞起呀！！！！</p><p>又是看不懂的一关，直接copy网上的代码吧……</p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">,</span> base64<span class="token punctuation">,</span>rerequest <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>Request<span class="token punctuation">(</span><span class="token string">'http://www.pythonchallenge.com/pc/hex/unreal.jpg'</span><span class="token punctuation">)</span>cred <span class="token operator">=</span> base64<span class="token punctuation">.</span>b64encode<span class="token punctuation">(</span>b<span class="token string">"butter:fly"</span><span class="token punctuation">)</span>request<span class="token punctuation">.</span>add_header<span class="token punctuation">(</span><span class="token string">"Authorization"</span><span class="token punctuation">,</span> <span class="token string">"Basic %s"</span> <span class="token operator">%</span> cred<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>headers<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># {'Authorization': 'Basic YnV0dGVyOmZseQ=='}</span>response <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>headers<span class="token punctuation">)</span></code></pre><pre><code>{'Authorization': 'Basic YnV0dGVyOmZseQ=='}Content-Type: image/jpegContent-Range: bytes 0-30202/2123456789Connection: closeTransfer-Encoding: chunkedDate: Sun, 15 Nov 2020 05:52:24 GMTServer: lighttpd/1.4.35</code></pre><pre class=" language-python"><code class="language-python">pattern <span class="token operator">=</span> re<span class="token punctuation">.</span>compile<span class="token punctuation">(</span><span class="token string">'bytes (\d+)-(\d+)/(\d+)'</span><span class="token punctuation">)</span>content_range <span class="token operator">=</span> response<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'content-range'</span><span class="token punctuation">]</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> end<span class="token punctuation">,</span> length<span class="token punctuation">)</span> <span class="token operator">=</span> pattern<span class="token punctuation">.</span>search<span class="token punctuation">(</span>content_range<span class="token punctuation">)</span><span class="token punctuation">.</span>groups<span class="token punctuation">(</span><span class="token punctuation">)</span>request<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'Range'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'bytes=%i-'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>int<span class="token punctuation">(</span>end<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>response <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>headers<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><pre><code>Content-Type: application/octet-streamContent-Transfer-Encoding: binaryContent-Range: bytes 30237-30283/2123456789Connection: closeTransfer-Encoding: chunkedDate: Sun, 15 Nov 2020 05:52:40 GMTServer: lighttpd/1.4.35we can go on in this way for really long time.</code></pre><p>So now the content between 30203 and 30236 is served, which is “Why don’t you respect my privacy?”; continue for a few iterations:</p><pre class=" language-python"><code class="language-python">pattern <span class="token operator">=</span> re<span class="token punctuation">.</span>compile<span class="token punctuation">(</span><span class="token string">'bytes (\d+)-(\d+)/(\d+)'</span><span class="token punctuation">)</span>content_range <span class="token operator">=</span> response<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'content-range'</span><span class="token punctuation">]</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> end<span class="token punctuation">,</span> length<span class="token punctuation">)</span> <span class="token operator">=</span> pattern<span class="token punctuation">.</span>search<span class="token punctuation">(</span>content_range<span class="token punctuation">)</span><span class="token punctuation">.</span>groups<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>        request<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'Range'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'bytes=%i-'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>int<span class="token punctuation">(</span>end<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>        response <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span>request<span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>headers<span class="token punctuation">)</span>        <span class="token punctuation">(</span>start<span class="token punctuation">,</span> end<span class="token punctuation">,</span> length<span class="token punctuation">)</span> <span class="token operator">=</span> pattern<span class="token punctuation">.</span>search<span class="token punctuation">(</span>response<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'content-range'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>groups<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">except</span><span class="token punctuation">:</span>        <span class="token keyword">break</span></code></pre><pre><code>stop this!Content-Type: application/octet-streamContent-Transfer-Encoding: binaryContent-Range: bytes 30284-30294/2123456789Connection: closeTransfer-Encoding: chunkedDate: Sun, 15 Nov 2020 05:53:12 GMTServer: lighttpd/1.4.35invader! invader!Content-Type: application/octet-streamContent-Transfer-Encoding: binaryContent-Range: bytes 30295-30312/2123456789Connection: closeTransfer-Encoding: chunkedDate: Sun, 15 Nov 2020 05:53:13 GMTServer: lighttpd/1.4.35ok, invader. you are inside now. Content-Type: application/octet-streamContent-Transfer-Encoding: binaryContent-Range: bytes 30313-30346/2123456789Connection: closeTransfer-Encoding: chunkedDate: Sun, 15 Nov 2020 05:53:13 GMTServer: lighttpd/1.4.35</code></pre><p>The last request ends at 30346.</p><blockquote><p>Why don’t you respect my privacy?<br>we can go on in this way for really long time.<br>stop this!<br>invader! invader!<br>ok, invader. you are inside now.</p></blockquote><pre class=" language-python"><code class="language-python">request<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'Range'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'bytes=%i-'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>int<span class="token punctuation">(</span>length<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>response <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>headers<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><pre><code>Content-Type: application/octet-streamContent-Transfer-Encoding: binaryContent-Range: bytes 2123456744-2123456788/2123456789Connection: closeTransfer-Encoding: chunkedDate: Sun, 15 Nov 2020 05:54:13 GMTServer: lighttpd/1.4.35esrever ni emankcin wen ruoy si drowssap eht</code></pre><p>​    </p><p>The content is reversed: “the password is your new nickname in reverse”. The “nickname” is “invader”, so password is “redavni”. Now “reverse” the search:</p><pre class=" language-python"><code class="language-python">request<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'Range'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'bytes=2123456743-'</span>response <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>headers<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><pre><code>Content-Type: application/octet-streamContent-Transfer-Encoding: binaryContent-Range: bytes 2123456712-2123456743/2123456789Connection: closeTransfer-Encoding: chunkedDate: Sun, 15 Nov 2020 05:54:52 GMTServer: lighttpd/1.4.35and it is hiding at 1152983631.</code></pre><pre class=" language-python"><code class="language-python">request<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'Range'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'bytes=1152983631-'</span>response <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token keyword">with</span> open<span class="token punctuation">(</span><span class="token string">"output/level_21.zip"</span><span class="token punctuation">,</span> <span class="token string">"wb"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>    f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>response<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p>Yes! This is really level 21 in here.<br>And yes, After you solve it, you’ll be in level 22!</p><p>Now for the level:</p><ul><li>We used to play this game when we were kids</li><li>When I had no idea what to do, I looked backwards.</li></ul><h2 id="level-21-2020-11-17"><a href="#level-21-2020-11-17" class="headerlink" title="level_21_2020.11.17"></a>level_21_2020.11.17</h2><blockquote><p>啊啊啊啊，昨天忙着做分子生物学作业和整hexo的域名，后来24：00电脑准时没电关机啦，只好厚脸皮今天补啦！</p></blockquote><blockquote><p>Yes! This is really level 21 in here. And yes, After you solve &gt;it, you’ll be in level 22!<br>Now for the level:<br>We used to play this game when we were kids<br>When I had no idea what to do, I looked backwards.</p></blockquote><p>这一关主要过程是对package.pack文件不断进行解压。根据上一次解压得到的结果，判断下一次解压用zlib还是bz2，以及判断得到的数据是正向的还是要reverse.<br>考察多种编码格式的运用，观察“package.pack”中的数据，发现是以b”x\x9c”开头的，这是zlib算法压缩的数据，使用zlib模块解码。重复几次，发现有以b”BZ”开头的，这是bz2压缩的数据，使用bz2模块解码。又重复几次，发现有以b”\x80\x8d”开头的，看看第2条提示，发现字节流是以b”\x9cx”结尾的，反转整个字节流。最终得到一句话“look at your logs”。</p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> zlib<span class="token keyword">import</span> bz2result <span class="token operator">=</span> <span class="token string">""</span><span class="token keyword">with</span> open<span class="token punctuation">(</span><span class="token string">"output/package.pack"</span><span class="token punctuation">,</span> <span class="token string">"rb"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>    data <span class="token operator">=</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>        <span class="token comment" spellcheck="true">#x\x9c是zlib压缩的开头</span>        <span class="token keyword">if</span> data<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span>b<span class="token string">'x\x9c'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            data <span class="token operator">=</span> zlib<span class="token punctuation">.</span>decompress<span class="token punctuation">(</span>data<span class="token punctuation">)</span>            result <span class="token operator">+=</span> <span class="token string">' '</span>        <span class="token comment" spellcheck="true"># BZHbzip2 压缩编码</span>        <span class="token keyword">elif</span> data<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span>b<span class="token string">'BZh'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            data <span class="token operator">=</span> bz2<span class="token punctuation">.</span>decompress<span class="token punctuation">(</span>data<span class="token punctuation">)</span>            result <span class="token operator">+=</span> <span class="token string">'#'</span>        <span class="token comment" spellcheck="true"># When I had no idea what to do, I looked backwards.</span>        <span class="token keyword">elif</span> data<span class="token punctuation">.</span>endswith<span class="token punctuation">(</span>b<span class="token string">'\x9cx'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            data <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>            result <span class="token operator">+=</span> <span class="token string">'\n'</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            <span class="token keyword">break</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># b'sgol ruoy ta kool'</span><span class="token comment" spellcheck="true">### reverse</span><span class="token comment" spellcheck="true">#look at your logs</span><span class="token comment" spellcheck="true">##</span><span class="token comment" spellcheck="true">#?? 没有 logs 啊，记录变化？这里有变化的就是压缩方法,就把这三种方法编号一下</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span></code></pre><pre><code>      ###          ###      ########    ########    ##########  ########      #######      #######    #########   #########   #########   #########    ##     ##    ##     ##   ##      ##  ##      ##  ##          ##      ##  ##           ##       ##  ##      ##  ##      ##  ##          ##      ##  ##           ##       ##  #########   #########   ########    #########   ##           ##       ##  ########    ########    ########    ########    ##           ##       ##  ##          ##          ##          ##   ##      ##     ##    ##     ##   ##          ##          ##          ##    ##      #######      #######    ##          ##          #########   ##     ##       ###          ###      ##          ##          ##########  ##      ##</code></pre><h2 id="level-22-2020-11-17"><a href="#level-22-2020-11-17" class="headerlink" title="level_22_2020.11.17"></a>level_22_2020.11.17</h2><p><a href="http://www.pythonchallenge.com/pc/hex/copper.html">http://www.pythonchallenge.com/pc/hex/copper.html</a></p><p><img src="https://cdn.jsdelivr.net/gh/Achuan-2/PicBed/assets/20201229220700-2020-12-29.png"><br><strong>🔑Solution</strong></p><p>查看源代码提示下载文件“white.gif”<a href="http://www.pythonchallenge.com/pc/hex/white.gif">http://www.pythonchallenge.com/pc/hex/white.gif</a></p><p>发现每一帧都是黑的，但每一帧都有一个像素点不是纯黑的 RGB != (0,0,0)，且该像素都在中心点(100,100)附近，再由游戏摇杆得到启发。举例来说，详见下表</p><table><thead><tr><th>帧</th><th>非黑点位置</th><th>实际位置</th></tr></thead><tbody><tr><td>1</td><td>(100,100)</td><td>(100,100) 归零</td></tr><tr><td>2</td><td>( 98,102)</td><td>( 98,102)</td></tr><tr><td>3</td><td>( 98,100)</td><td>( 96,102)</td></tr><tr><td>4</td><td>(100,102)</td><td>( 96,104)</td></tr><tr><td>5</td><td>(100,100)</td><td>(100,100) 归零</td></tr></tbody></table><p>把两次归零操作之间，每一帧的实际位置都画出来，就能得到一幅图案。最终发现一共有5幅图案，按顺序绘制出来，发现是一个单词“bonus”。</p><ul><li>gif. n_frame返回所有关键帧</li><li>gif.seek()在给定的文件序列中查找指定的帧。如果查找超越了序列的末尾，则产生一个EOFError异常。当文件序列被打开时，PIL库自动指定到第0帧上。</li><li>gif.tell()返回当前帧</li></ul><p><strong>💻Code</strong></p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token punctuation">,</span> ImageDrawgif <span class="token operator">=</span> Image<span class="token punctuation">.</span>open<span class="token punctuation">(</span><span class="token string">"assets/white.gif"</span><span class="token punctuation">)</span>new <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">'RGB'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 默认背景为黑</span>draw <span class="token operator">=</span> ImageDraw<span class="token punctuation">.</span>Draw<span class="token punctuation">(</span>new<span class="token punctuation">)</span>cx<span class="token punctuation">,</span> cy <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span> <span class="token comment" spellcheck="true"># 画点的起始位置</span><span class="token keyword">for</span> frame <span class="token keyword">in</span> range<span class="token punctuation">(</span>gif<span class="token punctuation">.</span>n_frames<span class="token punctuation">)</span><span class="token punctuation">:</span>    gif<span class="token punctuation">.</span>seek<span class="token punctuation">(</span>frame<span class="token punctuation">)</span>    left<span class="token punctuation">,</span> upper<span class="token punctuation">,</span> right<span class="token punctuation">,</span> lower <span class="token operator">=</span> gif<span class="token punctuation">.</span>getbbox<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># 得到与100,100的相对位置</span>    dx <span class="token operator">=</span> left <span class="token operator">-</span> <span class="token number">100</span>    dy <span class="token operator">=</span> upper <span class="token operator">-</span> <span class="token number">100</span>    <span class="token comment" spellcheck="true"># 一个图案画完了,移远一点,继续画</span>    <span class="token keyword">if</span> dx <span class="token operator">==</span> dy <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>        cx <span class="token operator">+=</span> <span class="token number">50</span>        cy <span class="token operator">=</span> <span class="token number">100</span>    cx <span class="token operator">+=</span> dx    cy <span class="token operator">+=</span> dy    draw<span class="token punctuation">.</span>point<span class="token punctuation">(</span><span class="token punctuation">[</span>cx<span class="token punctuation">,</span> cy<span class="token punctuation">]</span><span class="token punctuation">)</span>new<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><h2 id="level-23-2020-12-15"><a href="#level-23-2020-12-15" class="headerlink" title="level_23_2020.12.15"></a>level_23_2020.12.15</h2><blockquote><p>额，之前为了考试周，于是拖了好久，然后就一直捡不起来了哇！剧刷腻了，b站搞笑视频也觉得不好玩了，就又回来写python了<br>希望之后可以一直坚持下去哇！！！！</p></blockquote><p>解题Solution：源代码里的’va gur snpr bs jung?’明显也是解码，title为”what is this module?“，结合后面的”it can’t find it. this is an undocumented module”，猜测为this模块（就是大名鼎鼎的The Zen of Python啦）！<br>方法1：可以尝试用ocr那题（level_1）的代码试试，依次检验26个偏移量能否得到一个有含义的句子</p><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">ocr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    text <span class="token operator">=</span> <span class="token string">'va gur snpr bs jung?'</span>    <span class="token keyword">for</span> offset <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">26</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        trans <span class="token operator">=</span> str<span class="token punctuation">.</span>maketrans<span class="token punctuation">(</span>string<span class="token punctuation">.</span>ascii_lowercase<span class="token punctuation">,</span>string<span class="token punctuation">.</span>ascii_lowercase<span class="token punctuation">[</span>offset<span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token operator">+</span> string<span class="token punctuation">.</span>ascii_lowercase<span class="token punctuation">[</span><span class="token punctuation">:</span>offset<span class="token punctuation">]</span><span class="token punctuation">)</span>        new_text <span class="token operator">=</span> text<span class="token punctuation">.</span>translate<span class="token punctuation">(</span>trans<span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>new_text<span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    ocr<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>发现偏移量为13时，字符可解码为in the face of what?</p><pre><code>0 → va gur snpr bs jung?1 → wb hvs toqs ct kvoh?2 → xc iwt uprt du lwpi?3 → yd jxu vqsu ev mxqj?4 → ze kyv wrtv fw nyrk?5 → af lzw xsuw gx ozsl?6 → bg max ytvx hy patm?7 → ch nby zuwy iz qbun?8 → di ocz avxz ja rcvo?9 → ej pda bwya kb sdwp?10 → fk qeb cxzb lc texq?11 → gl rfc dyac md ufyr?12 → hm sgd ezbd ne vgzs?`13 → in the face of what?`14 → jo uif gbdf pg xibu?15 → kp vjg hceg qh yjcv?16 → lq wkh idfh ri zkdw?17 → mr xli jegi sj alex?18 → ns ymj kfhj tk bmfy?19 → ot znk lgik ul cngz?20 → pu aol mhjl vm doha?21 → qv bpm nikm wn epib?22 → rw cqn ojln xo fqjc?23 → sx dro pkmo yp grkd?24 → ty esp qlnp zq hsle?25 → uz ftq rmoq ar itmf?</code></pre><p>import this,里面有一句“In the face of ambiguity”，所以答案就是ambiguity，<a href="http://www.pythonchallenge.com/pc/hex/ambiguity.html">http://www.pythonchallenge.com/pc/hex/ambiguity.html</a></p><pre><code>The Zen of Python, by Tim PetersBeautiful is better than ugly.Explicit is better than implicit.Simple is better than complex.Complex is better than complicated.Flat is better than nested.Sparse is better than dense.Readability counts.Special cases aren't special enough to break the rules.Although practicality beats purity.Errors should never pass silently.Unless explicitly silenced.In the face of ambiguity, refuse the temptation to guess.There should be one-- and preferably only one --obvious way to do it.Although that way may not be obvious at first unless you're Dutch.Now is better than never.Although never is often better than *right* now.If the implementation is hard to explain, it's a bad idea.If the implementation is easy to explain, it may be a good idea.Namespaces are one honking great idea -- let's do more of those!Gur Mra bs Clguba, ol Gvz Crgref</code></pre><p>Solution2：<br>如果尝试输入<code>print(this.s)</code>,你会发现得到的是The Zen of python的加密版本，输入<code>print(this.d)</code>,得到的解密本字典,所以推理得到给的那个字符串也是这样加密的<br>方法2:<br>简单粗暴</p><pre class=" language-python"><code class="language-python">text <span class="token operator">=</span> <span class="token string">'va gur snpr bs jung?'</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">[</span>this<span class="token punctuation">.</span>d<span class="token punctuation">.</span>get<span class="token punctuation">(</span>c<span class="token punctuation">,</span>c<span class="token punctuation">)</span> <span class="token keyword">for</span> c <span class="token keyword">in</span> text<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#in the face of what?</span></code></pre><blockquote><p>老实说,隔了这么久,不知道再继续玩python challenge还有没有必要哈,但是我好像确实没什么其他想到能做的事了(咸鱼一只),所以就脚踏实地吧,总要坚持一件事,我也相信前方或许会有意想不到的收获.不知道为什么,进入大三之后,整个人变得浮躁不堪,静不下心去踏实学东西,我觉得这样很糟!</p></blockquote><h2 id="level-24-maze-2020-12-16"><a href="#level-24-maze-2020-12-16" class="headerlink" title="level_24_maze_2020.12.16"></a>level_24_maze_2020.12.16</h2><p><img src="https://cdn.jsdelivr.net/gh/Achuan-2/PicBed/assets/maze-2020-12-18.png" alt="maze">]<br>发现Vscode真的适合把图片放大到像素级<br><img src="https://cdn.jsdelivr.net/gh/Achuan-2/PicBed/assets/20201218190652-2020-12-18.png" alt="图片放大"><br><strong>🔑Solution</strong><br>  这一关真的好有趣呀，就是得先找到迷宫的entrance和exit，然后就需要使用数据结构的知识来走迷宫啦，我用的是栈深度搜索，队列就是广度搜索了吧，收集走迷宫的路径每个像素位置以及点的R通道值，然后转化为二进制数据，发现开头是PK，提示为压缩包，所以就将数据生成为压缩包，解压即得到下一关提示。<br><strong>🖊Learned</strong></p><ul><li>二进制开头b’PK’为压缩包</li><li><code>ImageDraw.Draw</code>模块</li><li>栈和队列复习</li></ul><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token keyword">from</span> PIL <span class="token keyword">import</span> ImageDrawmaze <span class="token operator">=</span> Image<span class="token punctuation">.</span>open<span class="token punctuation">(</span><span class="token string">"assets/maze.png"</span><span class="token punctuation">)</span>directions <span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token comment" spellcheck="true"># 方向</span>white <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">)</span>w<span class="token punctuation">,</span>h <span class="token operator">=</span> maze<span class="token punctuation">.</span>sizenext_map <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true"># 通过for i in range(w): print(maze.getpixel((i, 0)))可知入口的黑色像素位置</span>entrance <span class="token operator">=</span> <span class="token punctuation">(</span>w <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 通过 for i in range(w): print(maze.getpixel((i, h - 1)))可知出口位置</span>exit <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> h <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># stack代表的用栈来存储可能的路口</span>stack <span class="token operator">=</span> <span class="token punctuation">[</span>exit<span class="token punctuation">]</span><span class="token keyword">while</span> stack<span class="token punctuation">:</span>    pos <span class="token operator">=</span> stack<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 当前位置</span>    <span class="token keyword">if</span> pos <span class="token operator">==</span> entrance<span class="token punctuation">:</span>        <span class="token keyword">break</span>    <span class="token keyword">for</span> d <span class="token keyword">in</span> directions<span class="token punctuation">:</span>        tmp <span class="token operator">=</span> <span class="token punctuation">(</span>pos<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> d<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> pos<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> d<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#tmp代表的是可能的下一个位置</span>        <span class="token keyword">if</span> <span class="token operator">not</span> tmp <span class="token keyword">in</span> next_map <span class="token operator">and</span> <span class="token number">0</span> <span class="token operator">&lt;=</span> tmp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> w <span class="token operator">and</span> <span class="token number">0</span> <span class="token operator">&lt;=</span> tmp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> h <span class="token operator">and</span> maze<span class="token punctuation">.</span>getpixel<span class="token punctuation">(</span>tmp<span class="token punctuation">)</span> <span class="token operator">!=</span> white<span class="token punctuation">:</span>            next_map<span class="token punctuation">[</span>tmp<span class="token punctuation">]</span> <span class="token operator">=</span> pos  <span class="token comment" spellcheck="true"># next_map放的是下一个位置←该位置的字典，但该程序会记录错误的路线而不会删除，虽然不影响回溯</span>            stack<span class="token punctuation">.</span>append<span class="token punctuation">(</span>tmp<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 会把所有可能的路口都入栈</span>path <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>img <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">'RGBA'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">641</span><span class="token punctuation">,</span> <span class="token number">641</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span>draw <span class="token operator">=</span> ImageDraw<span class="token punctuation">.</span>Draw<span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token keyword">while</span> pos <span class="token operator">!=</span> exit<span class="token punctuation">:</span> <span class="token comment" spellcheck="true"># pos 将从起点开始回溯</span>    path<span class="token punctuation">.</span>append<span class="token punctuation">(</span>maze<span class="token punctuation">.</span>getpixel<span class="token punctuation">(</span>pos<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 只输出第一个RGB值</span>    draw<span class="token punctuation">.</span>point<span class="token punctuation">(</span>pos<span class="token punctuation">,</span>maze<span class="token punctuation">.</span>getpixel<span class="token punctuation">(</span>pos<span class="token punctuation">)</span><span class="token punctuation">)</span>    pos <span class="token operator">=</span> next_map<span class="token punctuation">[</span>pos<span class="token punctuation">]</span>img<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>img<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'output/level_24_path.png'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># print(path)</span><span class="token comment" spellcheck="true"># print(path[1::2])</span><span class="token comment" spellcheck="true"># print(bytes(path[1::2]))</span><span class="token comment" spellcheck="true"># open('output/level_24_maze.zip','wb').write(bytes(path))</span>open<span class="token punctuation">(</span><span class="token string">'output/level_24_maze.zip'</span><span class="token punctuation">,</span><span class="token string">'wb'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>write<span class="token punctuation">(</span>bytes<span class="token punctuation">(</span>path<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># path[1::2]的原因只是因为R通道即红点都是至少都是间隔分布的</span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/Achuan-2/PicBed/assets/level_24_path-2020-12-18.png" alt="level_24_path"><br><img src="https://cdn.jsdelivr.net/gh/Achuan-2/PicBed/assets/20201218190741-2020-12-18.png" alt="放大图片"></p><h2 id="level-25-wave拼图-2020-12-17"><a href="#level-25-wave拼图-2020-12-17" class="headerlink" title="level_25_wave拼图_2020.12.17"></a>level_25_wave拼图_2020.12.17</h2><p>Link: <a href="http://www.pythonchallenge.com/pc/hex/lake.html">http://www.pythonchallenge.com/pc/hex/lake.html</a><br><img src="https://cdn.jsdelivr.net/gh/Achuan-2/PicBed/assets/20201218184825-2020-12-18.png" alt="关卡图"></p><p><strong>Solution：</strong><br>看到图片名是“lake1.jpg”，根据提示尝试获取“lake1.wav”，文件存在，猜测应该还有“lake2.wav”，“lake3.wav”，……于是构造一个网络爬虫<br>以音频方式打开文件，发现都是杂音，根据图片中拼图的提示，将每个音频转化一共图片，25个正好对应了关卡图中5*5拼图，然后把25个图片拼在一起，就得到结果啦<br><strong>Learned：</strong></p><ul><li>python创建文件不会自动创建文件夹吗<ul><li>是的，如果路径不存在，必须手动先创建，可以使用os.makedirs(path) <a href="https://blog.csdn.net/Homewm/article/details/80766894">https://blog.csdn.net/Homewm/article/details/80766894</a></li></ul></li><li>HTTPPasswordMgrWithDefaultRealm()类将创建一个密码管理对象，用来保存 HTTP 请求相关的用户名和密码，主要应用两个场景：<ul><li>验证代理授权的用户名和密码 (ProxyBasicAuthHandler())</li><li>验证Web客户端的的用户名和密码 (HTTPBasicAuthHandler())</li><li><a href="https://blog.csdn.net/weicao1990/article/details/80066655">https://blog.csdn.net/weicao1990/article/details/80066655</a></li></ul></li><li><code>Image.frombytes</code>从二进制中创建，im.paste()粘贴图片上去</li></ul><p><strong>💻Code</strong></p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> urllib <span class="token keyword">import</span> request<span class="token punctuation">,</span> error<span class="token keyword">import</span> wave<span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token keyword">import</span> os<span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token string">"\033[31mLevel 25\033[0m"</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 原来可以打印红色字欸</span><span class="token keyword">def</span> <span class="token function">mkdir</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true"># 创建文件夹函数</span>    folder <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span>path<span class="token punctuation">)</span>    <span class="token keyword">if</span> <span class="token operator">not</span> folder<span class="token punctuation">:</span>        os<span class="token punctuation">.</span>makedirs<span class="token punctuation">(</span>path<span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token string">"---new folder {path}---"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 爬虫部分</span><span class="token comment" spellcheck="true"># 1. 构建一个密码管理对象，用来保存需要处理的用户名和密码</span>password_mgr <span class="token operator">=</span> request<span class="token punctuation">.</span>HTTPPasswordMgrWithDefaultRealm<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 2. 添加账户信息，第一个参数realm是与远程服务器相关的域信息，一般没人管它都是写None，后面三个参数分别是 代理服务器、用户名、密码</span>password_mgr<span class="token punctuation">.</span>add_password<span class="token punctuation">(</span>    None<span class="token punctuation">,</span> <span class="token string">"http://www.pythonchallenge.com/"</span><span class="token punctuation">,</span> <span class="token string">"butter"</span><span class="token punctuation">,</span> <span class="token string">"fly"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 3. 构建一个HTTP基础用户名/密码验证的HTTPBasicAuthHandler处理器对象，参数是创建的密码管理对象</span>handler <span class="token operator">=</span> request<span class="token punctuation">.</span>HTTPBasicAuthHandler<span class="token punctuation">(</span>password_mgr<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># passowrd_mgr→handler，HTTPBasicAuthHandler基本的HTTP验证处理</span><span class="token comment" spellcheck="true"># 4. 通过 build_opener()方法使用这些代理Handler对象，创建自定义opener对象，</span>opener <span class="token operator">=</span> request<span class="token punctuation">.</span>build_opener<span class="token punctuation">(</span>handler<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># handler→opener</span>mkdir<span class="token punctuation">(</span><span class="token string">"output/level_25"</span><span class="token punctuation">)</span><span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token string">"Processing {i:2d}..."</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">'\t'</span><span class="token punctuation">)</span>    url <span class="token operator">=</span> f<span class="token string">"http://www.pythonchallenge.com/pc/hex/lake{i}.wav"</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>        response <span class="token operator">=</span> opener<span class="token punctuation">.</span>open<span class="token punctuation">(</span>url<span class="token punctuation">)</span>    <span class="token keyword">except</span> error<span class="token punctuation">.</span>HTTPError<span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"HTTP ERROR 404"</span><span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        <span class="token keyword">with</span> open<span class="token punctuation">(</span>f<span class="token string">"output/level_25/lake{i}.wav"</span><span class="token punctuation">,</span> <span class="token string">"wb"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> file<span class="token punctuation">:</span> <span class="token comment" spellcheck="true"># 'wb'写入二进制文件</span>            data <span class="token operator">=</span> response<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>            file<span class="token punctuation">.</span>write<span class="token punctuation">(</span>data<span class="token punctuation">)</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Successfully Saved."</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># 一共25个wav文件</span><span class="token comment" spellcheck="true">#创建图片 →把25个wav转成5*5的拼图块→合并图片</span>im <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">"RGB"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true"># wave.open()返回Wave_write对象</span>    <span class="token keyword">with</span> wave<span class="token punctuation">.</span>open<span class="token punctuation">(</span>f<span class="token string">"output/level_25/lake{i}.wav"</span><span class="token punctuation">,</span> <span class="token string">"rb"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> file<span class="token punctuation">:</span>        <span class="token comment" spellcheck="true"># getnframes()返回音频帧数</span>        <span class="token comment" spellcheck="true"># readframes(n)最多读取并返回n帧音频，作为字节对象。</span>        <span class="token comment" spellcheck="true"># file.readframes(file.getnframes())就是先读取一共几帧，然后把所有帧都输出成二进制</span>        data <span class="token operator">=</span> file<span class="token punctuation">.</span>readframes<span class="token punctuation">(</span>file<span class="token punctuation">.</span>getnframes<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        block_im <span class="token operator">=</span> Image<span class="token punctuation">.</span>frombytes<span class="token punctuation">(</span><span class="token string">"RGB"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>        x<span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token punctuation">(</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">5</span> <span class="token operator">*</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">5</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token comment" spellcheck="true"># 超过5个就换下一行</span>        im<span class="token punctuation">.</span>paste<span class="token punctuation">(</span>block_im<span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>im<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">"output/level_25/result.jpg"</span><span class="token punctuation">)</span></code></pre><h2 id="level-26-md5-2020-12-18"><a href="#level-26-md5-2020-12-18" class="headerlink" title="level_26_md5_2020.12.18"></a>level_26_md5_2020.12.18</h2><p>Link: <a href="http://www.pythonchallenge.com/pc/hex/decent.html">http://www.pythonchallenge.com/pc/hex/decent.html</a></p><p><strong>Solution：</strong><br>源码说已经得到邮箱了（我咋不知道），原来早在第19关网页的源代码就给了个邮箱，<a href="mailto:leopold.moz@pythonchallenge.com">leopold.moz@pythonchallenge.com</a>，然后发送，标题为Apologize，内容为Sorry的邮件，你就可以得到以下回复:</p><blockquote><p>Never mind that.</p><p>Have you found my broken zip?</p><p>md5: bbb8b499a0eef99b52c7f13f4e78c24b</p><p>Can you believe what one mistake can lead to?</p></blockquote><p>意思就是说之前我们maze那关得到的压缩包不是除了图片还有一共压缩包吗？如果解压的话就会提示校验值错误，这个回复就是说压缩包的二进制数据有一个错误，要让咱一个个尝试，把它改对，用md5来校验文件是否修复好。（然而之前我用bzip不修复照样也解压出来了……有点尴尬,,ԾㅂԾ,,）<br>最后得到的图片显示”speed”,然后再结合Hurry up, I’m missing the boat,下一关网址就是”speedboat”</p><p><strong>Learned：</strong></p><ul><li>原来python终端可以打印出颜色呀，Learned了<ul><li>Python基础之控制台输出颜色 <a href="https://blog.csdn.net/qq_33567641/article/details/82769523">https://blog.csdn.net/qq_33567641/article/details/82769523</a></li></ul></li><li>切片是左闭右开，我又忘了</li><li>对二进制的操作还是似懂非懂哇，有空专门学习下！</li></ul><p><strong>Code：</strong></p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> hashlib<span class="token keyword">def</span> <span class="token function">repair</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> pos <span class="token keyword">in</span> range<span class="token punctuation">(</span>len<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> pos <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">:</span>            <span class="token keyword">break</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token string">"Trying repairing the position {pos} ..."</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token punctuation">:</span>pos<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token keyword">for</span> j <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true"># try 0-255</span>            newData <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token punctuation">:</span>pos<span class="token punctuation">]</span> <span class="token operator">+</span> bytes<span class="token punctuation">(</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> data<span class="token punctuation">[</span>pos<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token comment" spellcheck="true"># 替换pos那个位置的值</span>            <span class="token keyword">if</span> hashlib<span class="token punctuation">.</span>md5<span class="token punctuation">(</span>newData<span class="token punctuation">)</span><span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> md5code<span class="token punctuation">:</span>                open<span class="token punctuation">(</span><span class="token string">'output/level_26_repaired.zip'</span><span class="token punctuation">,</span><span class="token string">'wb'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>write<span class="token punctuation">(</span>newData<span class="token punctuation">)</span>                <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token string">"\033[1;31m Zip have been repaired！\033[0m"</span><span class="token punctuation">)</span>                <span class="token keyword">return</span>md5code <span class="token operator">=</span> <span class="token string">"bbb8b499a0eef99b52c7f13f4e78c24b"</span>data <span class="token operator">=</span> open<span class="token punctuation">(</span><span class="token string">'assets/mybroken.zip'</span><span class="token punctuation">,</span><span class="token string">'rb'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>repair<span class="token punctuation">(</span>data<span class="token punctuation">)</span></code></pre><h2 id="level-27-between-the-tables-2020-12-19"><a href="#level-27-between-the-tables-2020-12-19" class="headerlink" title="level_27_between the tables_2020.12.19"></a>level_27_between the tables_2020.12.19</h2><p>Link: <a href="http://www.pythonchallenge.com/pc/hex/speedboat.html">http://www.pythonchallenge.com/pc/hex/speedboat.html</a></p><p><strong>🔑Solution</strong><br>点击图片就能直接进入下一关，然而不知账号密码。<br>这一关涉及到图像色板、映射、常见但依旧不了解的二进制数据处理还有keyword模块<br>也没啥Solution了，毕竟是copy别人的代码嘛！</p><p><strong>🖊Learned</strong></p><ul><li>im.getpalette()以列表形式返回图像调色板，putpalette给对象加上调色板，相当于上色,然而暂时不懂调色板是什么东东</li><li>im.tobytes()，把图片转化为二进制</li><li><code>maketrans(A,B)</code>和<code>newData = data.translate()</code>明明很早接触了，然而还是不熟悉</li><li>filter和lambda的用法<code>diff = list(filter(lambda p: p[0] != p[1], zipped))</code></li><li>index的复数形式是indices（滑稽）</li></ul><p><strong>💻Code</strong></p><p>建立二进制索引和色板, 映射到图片字节流数据<br>什么，你问我为什么要这样做？不知道……，毕竟这一关的标题就是between the tables，毕竟别人是这样解题的。</p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> keyword<span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token keyword">import</span> bz2im <span class="token operator">=</span> Image<span class="token punctuation">.</span>open<span class="token punctuation">(</span><span class="token string">'assets/zigzag.gif'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># im.getpalette()以列表形式返回图像调色板，getpalette（）获取图片对应的调色板；putpalette给对象加上调色板，相当于上色</span><span class="token comment" spellcheck="true"># [37, 229, 162, 136, 59, 212, 9, 41, 24, 156, 148, 112, 254, 91,..]</span>palette <span class="token operator">=</span> im<span class="token punctuation">.</span>getpalette<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token comment" spellcheck="true"># print(palette)</span>len<span class="token punctuation">(</span>palette<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#256</span><span class="token comment" spellcheck="true"># 建立二进制索引和色板, 映射到图片字节流数据</span>table <span class="token operator">=</span> bytes<span class="token punctuation">.</span>maketrans<span class="token punctuation">(</span>bytes<span class="token punctuation">(</span><span class="token punctuation">[</span>i <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>bytes<span class="token punctuation">(</span>palette<span class="token punctuation">)</span><span class="token punctuation">)</span>raw <span class="token operator">=</span> im<span class="token punctuation">.</span>tobytes<span class="token punctuation">(</span><span class="token punctuation">)</span>trans <span class="token operator">=</span> raw<span class="token punctuation">.</span>translate<span class="token punctuation">(</span>table<span class="token punctuation">)</span></code></pre><p>比较raw和trans数据，发现除去raw的第一个和tran的最后一个，大致数据差不多</p><pre class=" language-python"><code class="language-python"> <span class="token keyword">print</span><span class="token punctuation">(</span>raw<span class="token punctuation">)</span> <span class="token keyword">print</span>（trans<span class="token punctuation">)</span></code></pre><p>所以下一步就是把不一样的数据过滤出来</p><pre class=" language-python"><code class="language-python">zipped <span class="token operator">=</span> list<span class="token punctuation">(</span>zip<span class="token punctuation">(</span>raw<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">,</span>trans<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>diff <span class="token operator">=</span> list<span class="token punctuation">(</span>filter<span class="token punctuation">(</span><span class="token keyword">lambda</span> p<span class="token punctuation">:</span> p<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">!=</span>p<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> zipped<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 这里用来匿名函数+filter过滤</span>indices <span class="token operator">=</span> <span class="token punctuation">[</span>i <span class="token keyword">for</span> i<span class="token punctuation">,</span> p <span class="token keyword">in</span> enumerate<span class="token punctuation">(</span>zipped<span class="token punctuation">)</span> <span class="token keyword">if</span> p<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">!=</span> p<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token comment" spellcheck="true"># indices是index的复数形式</span></code></pre><p>处理diff数据，转化为text</p><pre class=" language-python"><code class="language-python">s<span class="token operator">=</span><span class="token punctuation">[</span>t<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token keyword">for</span> t <span class="token keyword">in</span> diff<span class="token punctuation">]</span> <span class="token comment" spellcheck="true"># t[1]即trans的数据则没有提示</span><span class="token keyword">print</span><span class="token punctuation">(</span>bytes<span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 熟悉的bz开头</span>text <span class="token operator">=</span> bz2<span class="token punctuation">.</span>decompress<span class="token punctuation">(</span>bytes<span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#解码成文本</span><span class="token keyword">print</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#发现是有一堆python关键字</span></code></pre><p>新建一个白底的图像，利用之前数据不一样的索引，把该位置都改为黑色</p><pre class=" language-python"><code class="language-python">im2 <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">'RGB'</span><span class="token punctuation">,</span> im<span class="token punctuation">.</span>size<span class="token punctuation">)</span>colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">*</span>len<span class="token punctuation">(</span>raw<span class="token punctuation">)</span><span class="token keyword">for</span> i <span class="token keyword">in</span> indices<span class="token punctuation">:</span>    colors<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>im2<span class="token punctuation">.</span>putdata<span class="token punctuation">(</span>colors<span class="token punctuation">)</span></code></pre><p>竟然能得到一张图，提示not keyword，就是说我们要把text里不是keyword的词给提取出来<br><img src="https://cdn.jsdelivr.net/gh/Achuan-2/PicBed/assets/20201219151302-2020-12-19.png" alt="not keyword的提示"></p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> keyword<span class="token keyword">print</span><span class="token punctuation">(</span>set<span class="token punctuation">(</span><span class="token punctuation">[</span>w <span class="token keyword">for</span> w <span class="token keyword">in</span> text<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> <span class="token operator">not</span> keyword<span class="token punctuation">.</span>iskeyword<span class="token punctuation">(</span>w<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p>最终得到</p><pre class=" language-python"><code class="language-python"><span class="token punctuation">{</span>b<span class="token string">'print'</span><span class="token punctuation">,</span> b<span class="token string">'../ring/bell.html'</span><span class="token punctuation">,</span> b<span class="token string">'repeat'</span><span class="token punctuation">,</span> b<span class="token string">'exec'</span><span class="token punctuation">,</span> b<span class="token string">'switch'</span><span class="token punctuation">}</span></code></pre><p>值得注意的是，“print”和“exec”在Python2中式关键字，在Python3中变成了函数，所以没有被去掉。<br>经过尝试，bell.html网页的用户名为repeat，密码为switch。<br>Over！ </p><h2 id="level-28-many-pairs-ring-ring-2020-12-20"><a href="#level-28-many-pairs-ring-ring-2020-12-20" class="headerlink" title="level_28_many pairs ring-ring_2020.12.20"></a>level_28_many pairs ring-ring_2020.12.20</h2><p><strong>🔑Solution</strong><br>本关考察对图片和字节流的处理能力。提示让我们大声说“RING-RING-RING”，是指“RING”谐音“GREEN”，就是指RGB的绿色通道。我们需要将绿色通道的数据两两配对，每组作差取绝对值，例如 green = [55, 97, 73, 115, 120, 78, ……]，操作后的结果是 diff = [42, 42, 42, ……]。查看列表diff的值，发现几乎都是“42”，去掉数值“42”，剩下的数值转成字符构成一条语句：<br>whodunnit().split()[0] ?<br>whodunnit直译是侦探小说,但明显不是这个意思,结合本关的谐音,可以知道是who done it的谐音,再结合<code>.split()[0] </code>可以知道是问python之父是谁<br>当然是那个死胖子,Guido啦,哈哈哈哈<br><img src="https://cdn.jsdelivr.net/gh/Achuan-2/PicBed/assets/20201220133143-2020-12-20.png" alt="Guido van Rossum"></p><p><strong>🖊Learned</strong></p><ul><li><code>list(im.split()[1].getdata())</code> 获得green像素值列表</li><li><code>abs(a-b)for a, b in zip(green[0::2], green[1::2])</code> 列表的前一个减后一个</li><li>filter+lambda 过滤列表</li></ul><p><strong>💻Code</strong></p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Imageim <span class="token operator">=</span> Image<span class="token punctuation">.</span>open<span class="token punctuation">(</span><span class="token string">'assets/bell.png'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># ring-ring的谐音是green,所以提取green值</span>green <span class="token operator">=</span> list<span class="token punctuation">(</span>im<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>getdata<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 发现green前一个和后一个几乎都是差42,有猫腻</span>diff <span class="token operator">=</span> <span class="token punctuation">[</span>abs<span class="token punctuation">(</span>a<span class="token operator">-</span>b<span class="token punctuation">)</span><span class="token keyword">for</span> a<span class="token punctuation">,</span> b <span class="token keyword">in</span> zip<span class="token punctuation">(</span>green<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> green<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token comment" spellcheck="true"># print(diff)</span><span class="token comment" spellcheck="true"># 把42过滤掉</span>filtered <span class="token operator">=</span> list<span class="token punctuation">(</span>filter<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x <span class="token operator">!=</span> <span class="token number">42</span><span class="token punctuation">,</span> diff<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 过滤后的数据转化为二进制并解码</span><span class="token keyword">print</span><span class="token punctuation">(</span>bytes<span class="token punctuation">(</span>filtered<span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># whodunnit().split()[0] ?</span></code></pre><h2 id="level-29-silence-2020-12-21"><a href="#level-29-silence-2020-12-21" class="headerlink" title="level_29_silence_2020.12.21"></a>level_29_silence_2020.12.21</h2><p><strong>🔑Solution</strong><br>一开始看源代码我是懵逼的，看了答案才知道html原来后面的行有玄机！一旦把每行的长度整理成数字列表之后，然后转化为二进制，发现又是BZ开头，用bz2解压，得到下一关的hint<br><img src="https://pic4.zhimg.com/80/v2-f44b0a3b683e58e8e9dffaba4d2da6bf.png" alt="你以为空无一物"><br><img src="https://cdn.jsdelivr.net/gh/Achuan-2/PicBed/assets/20201221181345-2020-12-21.png" alt="程序员的浪漫"><br><strong>🖊Learned</strong></p><ul><li>这一关真的好秒呀，论程序员的浪漫，可以用这关来装逼，隐藏想说的话！</li><li>网页Authorization这个始终记不住……</li><li>splitlines()直接切割行，把内容转化为列表</li><li>列表转bytes，直接bytes(list),bytes转列表 list（bytes）</li></ul><p><strong>💻Code</strong><br>解题</p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> urllib<span class="token punctuation">.</span>request <span class="token keyword">import</span> Request<span class="token punctuation">,</span> urlopen<span class="token keyword">import</span> bz2<span class="token keyword">import</span> base64req <span class="token operator">=</span> Request<span class="token punctuation">(</span><span class="token string">'http://www.pythonchallenge.com/pc/ring/guido.html'</span><span class="token punctuation">)</span>req<span class="token punctuation">.</span>add_header<span class="token punctuation">(</span><span class="token string">'Authorization'</span><span class="token punctuation">,</span>               <span class="token string">'Basic %s'</span> <span class="token operator">%</span> base64<span class="token punctuation">.</span>b64encode<span class="token punctuation">(</span>b<span class="token string">'repeat:switch'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 读取html13行之后的数据</span>raw <span class="token operator">=</span> urlopen<span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>splitlines<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token comment" spellcheck="true"># 数13行之后每行的长度，并转化为二进制</span>data <span class="token operator">=</span> bytes<span class="token punctuation">(</span><span class="token punctuation">[</span>len<span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> raw<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 解压二进制</span><span class="token keyword">print</span><span class="token punctuation">(</span>bz2<span class="token punctuation">.</span>decompress<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p>我们也从作者的角度来反推这个谜题是怎么做出来的<br>加密我们想说的话</p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> bz2message <span class="token operator">=</span> b<span class="token string">""</span> <span class="token comment" spellcheck="true"># 这得二进制</span>compressed <span class="token operator">=</span> bz2<span class="token punctuation">.</span>compress<span class="token punctuation">(</span>message<span class="token punctuation">)</span>num_list <span class="token operator">=</span> list<span class="token punctuation">(</span>compressed<span class="token punctuation">)</span><span class="token keyword">with</span> open<span class="token punctuation">(</span><span class="token string">"level_29_silence.txt"</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> file<span class="token punctuation">:</span>    <span class="token keyword">for</span> num <span class="token keyword">in</span> num_list<span class="token punctuation">:</span>        file<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">' '</span> <span class="token operator">*</span> num <span class="token operator">+</span> <span class="token string">'\n'</span><span class="token punctuation">)</span></code></pre><p>解密,<br>哈哈，毕竟圣诞节到了嘛，不过这个silent.txt发给女生估计会被打！</p><pre class=" language-python"><code class="language-python"><span class="token keyword">with</span> open<span class="token punctuation">(</span><span class="token string">"level_29_silence.txt"</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> file<span class="token punctuation">:</span>    raw <span class="token operator">=</span> file<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>splitlines<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># print(raw)</span><span class="token comment" spellcheck="true"># 数13行之后每行的长度，并转化为二进制</span>data <span class="token operator">=</span> bytes<span class="token punctuation">(</span><span class="token punctuation">[</span>len<span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> raw<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 解压二进制</span><span class="token keyword">print</span><span class="token punctuation">(</span>bz2<span class="token punctuation">.</span>decompress<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># Merry Christmas</span></code></pre><h2 id="level-30-图片翻转质数之积-2020-12-22"><a href="#level-30-图片翻转质数之积-2020-12-22" class="headerlink" title="level_30_图片翻转质数之积_2020.12.22"></a>level_30_图片翻转质数之积_2020.12.22</h2><p><strong>🔑Solution</strong><br>根据提示，下载“yankeedoodle.csv”，里面是一堆浮点数<br>还以为原来的行列可能有玄机，谁知道是直接数多少个数，然后发现可以拆分为两个质数的积，7367 = 53*139， 构造一个53*139的图片，得到一个带公式的图片<code>n = str(x[i])[5] + str(x[i+1])[5] + str(x[i+2])[6]</code>，就按照这个公式来处理csv得到的数据，最终得到“look at grandpa”的提示，剩下的信息别想太多，确实没用</p><p><strong>🖊Learned</strong></p><ul><li>图片左右翻转 <code>img.transpose(Image.FLIP_LEFT_RIGHT)</code></li><li>图片旋转 <code>img.transpose(Image.ROTATE_90)</code></li><li>大概懂了<code>img.putdata</code>的意思</li><li>感觉学来学去，一直都在学图像处理呀！！！哈哈哈哈哈哈</li><li>不知道为什么VSCode现在写markdown卡的要死……一回车就卡死</li></ul><p><strong>💻Code</strong></p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token keyword">with</span> open<span class="token punctuation">(</span><span class="token string">'assets/yankeedoodle.csv'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>    <span class="token comment" spellcheck="true"># 处理成列表</span>    data <span class="token operator">=</span> <span class="token punctuation">[</span>x<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">]</span>    <span class="token comment" spellcheck="true"># 计算列表长度</span>    length <span class="token operator">=</span> len<span class="token punctuation">(</span>data<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 7367</span>factor <span class="token operator">=</span> <span class="token punctuation">[</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> length<span class="token punctuation">)</span> <span class="token keyword">if</span> length <span class="token operator">%</span> x <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>factor<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 计算这个length的因子为53*139</span>img <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">"F"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">53</span><span class="token punctuation">,</span> <span class="token number">139</span><span class="token punctuation">)</span><span class="token punctuation">)</span>img<span class="token punctuation">.</span>putdata<span class="token punctuation">(</span><span class="token punctuation">[</span>float<span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> data<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 左右翻转</span>img <span class="token operator">=</span> img<span class="token punctuation">.</span>transpose<span class="token punctuation">(</span>Image<span class="token punctuation">.</span>FLIP_LEFT_RIGHT<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 顺时针旋转90度</span>img <span class="token operator">=</span> img<span class="token punctuation">.</span>transpose<span class="token punctuation">(</span>Image<span class="token punctuation">.</span>ROTATE_90<span class="token punctuation">)</span>img<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 根据图片给的hint</span>a <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span>b <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span>c <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span>res <span class="token operator">=</span> bytes<span class="token punctuation">(</span><span class="token punctuation">[</span>int<span class="token punctuation">(</span>x1<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">+</span> x2<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">+</span> x3<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">for</span> x1<span class="token punctuation">,</span> x2<span class="token punctuation">,</span> x3 <span class="token keyword">in</span> zip<span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span></code></pre><p>得到的图片<br><img src="https://cdn.jsdelivr.net/gh/Achuan-2/PicBed/assets/20201222110626-2020-12-22.png" alt="formula"><br>最终输出结果</p><pre><code>b'So, you found the hidden message.\nThere is lots of room here for a long message, but we only need very little space to say "look at grandpa", so the rest is just garbage. \nVTZ.l\'\x7ftf*Om@I"p]</code></pre><h2 id="level-31-Mandelbrot-set-2020-12-23"><a href="#level-31-Mandelbrot-set-2020-12-23" class="headerlink" title="level_31_Mandelbrot set_2020.12.23"></a>level_31_Mandelbrot set_2020.12.23</h2><p><strong>🔑Solution</strong><br>点击图片进入下一关,需要用户名和密码,用户名是“kohsamui”，密码是“thailand”，进入第二部分。<br>第二部分的图片名词为mandelbrot,而图片的雪花本身就是曼德博集合.</p><p>注意到网页源代码的window和option标签，我们需要构造一个复平面，宽度对应x轴，高度对应y轴，范围由window标签给出。<br>left=“0.34” top=“0.57” width=“0.036” height=“0.027”<br>w = 640px —— x轴 范围 [left, left+width] = [0.34, 0.376]<br>h = 480px —— y轴 范围 [top, top+height] = [0.57, 0.597]</p><p>对于每个像素点,根据比例计算其在复平面的坐标(x,y) ,记复数c=x+yi,从z0=0开始迭代,迭代公式为zi+1=zi**2+c,c=x+yi,<br>记Mandelbrot集为M,根据定理,若复数c ∈ M  ，则|zi| &lt; 2, ∀ i ∈ N<br>迭代次数由option标签给出，最多128次，若迭代完128次，其模仍小于2，则该点的颜色值为127，若|zi|&lt;2 and|zi+1|&gt;=2, 则该点颜色为i，对应图片的palette表<br>然后将得到的list绘制图片比较两张图的像素差异,把不同的像素点提取出来,最后转化成黑白的图片,图片为阿雷西博信息,所以答案为“arecibo ”</p><p><strong>🖊Learned</strong></p><ul><li>复习图像模式,P-8bit-使用调色板映射到其他任何模式,L-8bit-黑白…对,我又忘记了(,,ԾㅂԾ,,)</li><li>感觉对getpalette(),putpalete()的理解加深了,返回的列表其实是[r, g, b, r, g, b…],三个一个RGB排列下去,P模式，才具有调色板属性,RGB模式getpixel((x,y))是RGB值,而P模式getpixel((x,y))是一个值,即索引,大小范围在0~255之间<br>调色板就是来减少存储空间使用量的,它存储着256种不同的调色方案<br>以下代码将会打印出图像img的调色板情况，按照256个配色方案*3个通道值的格式排列：<pre class=" language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>img<span class="token punctuation">.</span>getpalette<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>使用了调色盘的图像将会被单通道存储，每个像素位置的值是调色盘“表”中的索引，这在存储图像的时候空间要求从RGB的<strong>3</strong>个字节变成了<strong>1</strong>个字节。达到减小空间的目的.<br>但是,因为表中有限的配色方案数量（256），能使用的颜色也是有限制的，这也是P格式图像的一个缺点。<br>  <a href="https://www.zhihu.com/question/334057386/answer/774192372">python中的pil库中的p模式是干什么用的？</a><br>  <a href="https://blog.csdn.net/weixin_40005329/article/details/103481553">Python PIL 图像处理中模式为”P”的含义以及与”RGB”之间的转换</a></li><li>图像的原点是在左上角吧,X轴是从左到右增长的，而Y轴是从上到下增长,所以例如本题构造result图片时因为提前确定好高度和宽度,1679个值从上放到下</li><li><a href="https://zh.wikipedia.org/wiki/%E6%9B%BC%E5%BE%B7%E5%8D%9A%E9%9B%86%E5%90%88">曼德勃罗集（Mandelbrot Set）</a>,<a href="https://www.dogedoge.com/results?q=python+mandelbrot&amp;lang=auto">Python绘制Mandelbrot</a></li><li>原来python中for也有else呀,<a href="https://www.zhihu.com/question/37076998">如何在Python中使用break跳出多层循环？</a></li><li>这一关阿雷西博信息要哭死我啊，正好前几天才了解了下，然而2020年12月1日阿雷西博射电望远镜塌了<del>/(ㄒoㄒ)/</del> <a href="https://zh.wikipedia.org/wiki/%E9%98%BF%E9%9B%B7%E8%A5%BF%E5%8D%9A%E4%BF%A1%E6%81%AF">阿雷西博信息</a></li></ul><p><strong>💻Code</strong></p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token keyword">import</span> os<span class="token keyword">def</span> <span class="token function">mkdir</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true"># 创建文件夹函数</span>    folder <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span>path<span class="token punctuation">)</span>    <span class="token keyword">if</span> <span class="token operator">not</span> folder<span class="token punctuation">:</span>        os<span class="token punctuation">.</span>makedirs<span class="token punctuation">(</span>path<span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token string">"---new folder {path}---"</span><span class="token punctuation">)</span>mkdir<span class="token punctuation">(</span><span class="token string">"output/level_31"</span><span class="token punctuation">)</span>im0 <span class="token operator">=</span> Image<span class="token punctuation">.</span>open<span class="token punctuation">(</span><span class="token string">'assets/mandelbrot.gif'</span><span class="token punctuation">)</span>w<span class="token punctuation">,</span> h <span class="token operator">=</span> im0<span class="token punctuation">.</span>size  <span class="token comment" spellcheck="true"># 640, 480</span>im1 <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">'P'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>w<span class="token punctuation">,</span> h<span class="token punctuation">)</span><span class="token punctuation">)</span>im1<span class="token punctuation">.</span>putpalette<span class="token punctuation">(</span>im0<span class="token punctuation">.</span>getpalette<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>left<span class="token punctuation">,</span> top<span class="token punctuation">,</span> width<span class="token punctuation">,</span> height <span class="token operator">=</span> <span class="token number">0.34</span><span class="token punctuation">,</span> <span class="token number">0.57</span><span class="token punctuation">,</span> <span class="token number">0.036</span><span class="token punctuation">,</span> <span class="token number">0.027</span><span class="token comment" spellcheck="true"># 曼德勃罗集（Mandelbrot Set）</span><span class="token comment" spellcheck="true"># ! 构造复平面</span><span class="token comment" spellcheck="true"># left=“0.34” top=“0.57” width=“0.036” height=“0.027”</span><span class="token comment" spellcheck="true"># w = 640px —— x轴 范围 [left, left+width] = [0.34, 0.376]</span><span class="token comment" spellcheck="true"># h = 480px —— y轴 范围 [top, top+height] = [0.57, 0.597]</span><span class="token comment" spellcheck="true"># 复平面坐标(x,y)</span><span class="token keyword">for</span> x <span class="token keyword">in</span> range<span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> y <span class="token keyword">in</span> range<span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment" spellcheck="true"># 从左上角开始遍历</span>        z <span class="token operator">=</span> complex<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># z0 = 0</span>        <span class="token comment" spellcheck="true"># c = x + yi</span>        c <span class="token operator">=</span> complex<span class="token punctuation">(</span>left <span class="token operator">+</span> x <span class="token operator">*</span> width <span class="token operator">/</span> <span class="token number">640</span><span class="token punctuation">,</span> top <span class="token operator">+</span> <span class="token punctuation">(</span>h<span class="token number">-1</span><span class="token operator">-</span>y<span class="token punctuation">)</span> <span class="token operator">*</span> height <span class="token operator">/</span> <span class="token number">480</span><span class="token punctuation">)</span>        <span class="token comment" spellcheck="true"># 进行迭代 ,迭代次数 &lt;option iterations="128"/></span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            z <span class="token operator">=</span> z<span class="token operator">**</span><span class="token number">2</span> <span class="token operator">+</span> c  <span class="token comment" spellcheck="true"># zi = zi-1**2 + c</span>            <span class="token comment" spellcheck="true"># 若复数c ∈ M  ，则|zi| &lt; 2, ∀ i ∈ N </span>            <span class="token keyword">if</span> abs<span class="token punctuation">(</span>z<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">2</span><span class="token punctuation">:</span>                im1<span class="token punctuation">.</span>putpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">,</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>                <span class="token keyword">break</span>        <span class="token comment" spellcheck="true"># 128次迭代完, 其模仍小于2，则该点的颜色值为127</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>              <span class="token comment" spellcheck="true"># ! 不只是if有，while和for都有else分支:循环体的else分支触发条件是循环正常结束。如果循环内被break跳出，就不执行else。</span>            im1<span class="token punctuation">.</span>putpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">127</span><span class="token punctuation">)</span>im1<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">"output/level_31/mandelbrot_2.gif"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 比较两张图的差别,得到diff列表</span>data0 <span class="token operator">=</span> list<span class="token punctuation">(</span>im0<span class="token punctuation">.</span>getdata<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>data1 <span class="token operator">=</span> list<span class="token punctuation">(</span>im1<span class="token punctuation">.</span>getdata<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 如果p0&lt;p1,则取0即黑色,如果p0>p1,则取255,即白色</span>diff <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">255</span> <span class="token operator">*</span> <span class="token punctuation">(</span>p0 <span class="token operator">&lt;</span> p1<span class="token punctuation">)</span> <span class="token keyword">for</span> p0<span class="token punctuation">,</span> p1 <span class="token keyword">in</span> zip<span class="token punctuation">(</span>data0<span class="token punctuation">,</span> data1<span class="token punctuation">)</span> <span class="token keyword">if</span> p0 <span class="token operator">!=</span> p1<span class="token punctuation">]</span>len <span class="token operator">=</span> len<span class="token punctuation">(</span>diff<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>diff<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token string">"length: {len}"</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 1679</span>factors <span class="token operator">=</span> <span class="token punctuation">[</span>f <span class="token keyword">for</span> f <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span> <span class="token keyword">if</span> len <span class="token operator">%</span> f <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>factors<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># [23,73]</span><span class="token comment" spellcheck="true"># 输出</span>im2 <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">"L"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">73</span><span class="token punctuation">)</span><span class="token punctuation">)</span>im2<span class="token punctuation">.</span>putdata<span class="token punctuation">(</span>diff<span class="token punctuation">)</span>im2<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">230</span><span class="token punctuation">,</span> <span class="token number">730</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>im2<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">"output/level_31/result.jpg"</span><span class="token punctuation">)</span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/Achuan-2/PicBed/assets/mandelbrot_2-2020-12-23.gif" alt="mandelbrot"><br><img src="https://cdn.jsdelivr.net/gh/Achuan-2/PicBed/assets/result-2020-12-23.jpg" alt="Arecibo message"></p><h2 id="level-32-刻印-2020-12-24"><a href="#level-32-刻印-2020-12-24" class="headerlink" title="level_32_刻印_2020.12.24"></a>level_32_刻印_2020.12.24</h2><p><strong>🔑Solution</strong><br>啊，没有Solution，完全不知道这是啥，等以后补吧<br>学习<br>见识到复杂的代码，觉得自己毫无长进吧<br><strong>🖊Learned</strong><br><a href="https://en.wikipedia.org/wiki/Nonogram">Nonogram</a>,一种类似于数独的游戏，每一行每一列的数字来填格子，行列都符合的图案就是要求的答案</p><p><strong>代码</strong></p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">from</span> PIL <span class="token keyword">import</span> Imageis_solved <span class="token operator">=</span> <span class="token boolean">False</span>ans_points <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># n = 9</span><span class="token comment" spellcheck="true"># horizontal = [[2, 1, 2], [1, 3, 1], [5], [7], [9], [3], [2, 3, 2], [2, 3, 2],[2, 3, 2]]</span><span class="token comment" spellcheck="true"># vertical = [[2, 1, 3], [1, 2, 3], [3], [8], [9], [8], [3], [1, 2, 3],[2, 1, 3]]</span>n <span class="token operator">=</span> <span class="token number">32</span>horizontal <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                <span class="token punctuation">[</span><span class="token number">19</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span>vertical <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>            <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span>            <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>            <span class="token punctuation">[</span><span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>            <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>            <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>            <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>            <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token keyword">def</span> <span class="token function">print_points</span><span class="token punctuation">(</span>points<span class="token punctuation">:</span> np<span class="token punctuation">.</span>array<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> None<span class="token punctuation">:</span>    <span class="token comment" spellcheck="true"># print array in console</span>    <span class="token keyword">if</span> points<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"ERROR\n"</span><span class="token punctuation">)</span>        <span class="token keyword">return</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">for</span> j <span class="token keyword">in</span> range<span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> points<span class="token punctuation">[</span>i<span class="token punctuation">,</span> j<span class="token punctuation">]</span> <span class="token operator">>=</span> <span class="token number">1</span><span class="token punctuation">:</span>                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'█'</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span>            <span class="token keyword">elif</span> points<span class="token punctuation">[</span>i<span class="token punctuation">,</span> j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'■'</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span>            <span class="token keyword">elif</span> points<span class="token punctuation">[</span>i<span class="token punctuation">,</span> j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span>            <span class="token keyword">elif</span> points<span class="token punctuation">[</span>i<span class="token punctuation">,</span> j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'×'</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">horizontal_put</span><span class="token punctuation">(</span>points<span class="token punctuation">:</span> np<span class="token punctuation">.</span>array<span class="token punctuation">,</span> x<span class="token punctuation">:</span> int<span class="token punctuation">,</span> y0<span class="token punctuation">:</span> int<span class="token punctuation">,</span> y1<span class="token punctuation">:</span> int<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> np<span class="token punctuation">.</span>array<span class="token punctuation">:</span>    <span class="token comment" spellcheck="true"># the next position of current array is already occupied</span>    <span class="token keyword">if</span> y1 <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> n <span class="token operator">and</span> np<span class="token punctuation">.</span>min<span class="token punctuation">(</span>points<span class="token punctuation">[</span>x<span class="token punctuation">,</span> y0<span class="token punctuation">:</span>y1 <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">>=</span> <span class="token number">1</span><span class="token punctuation">:</span>        points<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">3</span>        <span class="token keyword">return</span> points    <span class="token comment" spellcheck="true"># some positions of current array are inaccessible</span>    <span class="token keyword">if</span> np<span class="token punctuation">.</span>min<span class="token punctuation">(</span>points<span class="token punctuation">[</span>x<span class="token punctuation">,</span> y0<span class="token punctuation">:</span>y1<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">or</span> <span class="token punctuation">(</span>y1 <span class="token operator">&lt;</span> n <span class="token operator">and</span> points<span class="token punctuation">[</span>x<span class="token punctuation">,</span> y1<span class="token punctuation">]</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        points<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">2</span>        <span class="token keyword">return</span> points    <span class="token comment" spellcheck="true"># set all positions of current array occupied</span>    points<span class="token punctuation">[</span>x<span class="token punctuation">,</span> y0<span class="token punctuation">:</span>y1<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>    <span class="token comment" spellcheck="true"># set the next position of current array inaccessible</span>    <span class="token keyword">if</span> y1 <span class="token operator">&lt;</span> n<span class="token punctuation">:</span>        points<span class="token punctuation">[</span>x<span class="token punctuation">,</span> y1<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>    <span class="token keyword">return</span> points<span class="token keyword">def</span> <span class="token function">vertical_put</span><span class="token punctuation">(</span>points<span class="token punctuation">:</span> np<span class="token punctuation">.</span>array<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> np<span class="token punctuation">.</span>array<span class="token punctuation">:</span>    <span class="token keyword">for</span> y <span class="token keyword">in</span> range<span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>        x <span class="token operator">=</span> <span class="token number">0</span>        <span class="token comment" spellcheck="true"># this column is already finished</span>        <span class="token keyword">if</span> points<span class="token punctuation">[</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token keyword">continue</span>        <span class="token keyword">for</span> i<span class="token punctuation">,</span> nums <span class="token keyword">in</span> enumerate<span class="token punctuation">(</span>vertical<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token comment" spellcheck="true"># find next begin position of this column</span>            <span class="token keyword">while</span> x <span class="token operator">&lt;</span> n <span class="token operator">and</span> points<span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">:</span>                x <span class="token operator">+=</span> <span class="token number">1</span>            <span class="token comment" spellcheck="true"># at the end of this column</span>            <span class="token keyword">if</span> x <span class="token operator">==</span> n<span class="token punctuation">:</span>                <span class="token keyword">break</span>            <span class="token comment" spellcheck="true"># goto the end position of current array</span>            <span class="token keyword">if</span> points<span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>                x <span class="token operator">+=</span> nums            <span class="token comment" spellcheck="true"># not enough positions to put current array</span>            <span class="token keyword">elif</span> points<span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">and</span> x <span class="token operator">+</span> nums <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">>=</span> n<span class="token punctuation">:</span>                points<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">2</span>                <span class="token keyword">return</span> points            <span class="token comment" spellcheck="true"># set positions of current array occupied</span>            <span class="token keyword">elif</span> points<span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>                points<span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span>                points<span class="token punctuation">[</span>x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">:</span>x <span class="token operator">+</span> nums<span class="token punctuation">,</span> y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>                <span class="token comment" spellcheck="true"># set the next position of current array inaccessible</span>                <span class="token keyword">if</span> x <span class="token operator">+</span> nums <span class="token operator">&lt;</span> n<span class="token punctuation">:</span>                    points<span class="token punctuation">[</span>x <span class="token operator">+</span> nums<span class="token punctuation">,</span> y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>                <span class="token comment" spellcheck="true"># this is the last array and set all rest positions inaccessible</span>                <span class="token keyword">if</span> i <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">==</span> len<span class="token punctuation">(</span>vertical<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">and</span> x <span class="token operator">+</span> nums <span class="token operator">&lt;</span> n<span class="token punctuation">:</span>                    points<span class="token punctuation">[</span>x <span class="token operator">+</span> nums<span class="token punctuation">:</span><span class="token punctuation">,</span> y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>                <span class="token keyword">break</span>    <span class="token keyword">return</span> points<span class="token keyword">def</span> <span class="token function">search</span><span class="token punctuation">(</span>points<span class="token punctuation">:</span> np<span class="token punctuation">.</span>array<span class="token punctuation">,</span> x<span class="token punctuation">:</span> int<span class="token punctuation">,</span> y<span class="token punctuation">:</span> int<span class="token punctuation">,</span> k<span class="token punctuation">:</span> int<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> None<span class="token punctuation">:</span>    <span class="token keyword">global</span> is_solved<span class="token punctuation">,</span> ans_points    <span class="token comment" spellcheck="true"># solution is found</span>    <span class="token keyword">if</span> x <span class="token operator">==</span> n<span class="token punctuation">:</span>        print_points<span class="token punctuation">(</span>points<span class="token punctuation">)</span>        ans_points <span class="token operator">=</span> points<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span>        is_solved <span class="token operator">=</span> <span class="token boolean">True</span>        <span class="token keyword">return</span>    <span class="token comment" spellcheck="true"># the last position of this row can start this array</span>    j_end <span class="token operator">=</span> n <span class="token operator">-</span> sum<span class="token punctuation">(</span>horizontal<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token punctuation">(</span>len<span class="token punctuation">(</span>horizontal<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span> k <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>    <span class="token keyword">for</span> j <span class="token keyword">in</span> range<span class="token punctuation">(</span>y<span class="token punctuation">,</span> j_end <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment" spellcheck="true"># the previous position of current array is occupied</span>        <span class="token keyword">if</span> j <span class="token operator">>=</span> <span class="token number">1</span> <span class="token operator">and</span> points<span class="token punctuation">[</span>x<span class="token punctuation">,</span> j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token keyword">break</span>        <span class="token comment" spellcheck="true"># create a copy</span>        j1 <span class="token operator">=</span> j <span class="token operator">+</span> horizontal<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span>        new_points <span class="token operator">=</span> points<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment" spellcheck="true"># try to put current array into positions row[x] column[j-j1]</span>        new_points <span class="token operator">=</span> horizontal_put<span class="token punctuation">(</span>new_points<span class="token punctuation">,</span> x<span class="token punctuation">,</span> j<span class="token punctuation">,</span> j1<span class="token punctuation">)</span>        <span class="token comment" spellcheck="true"># error code -2</span>        <span class="token keyword">if</span> new_points<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">:</span>            <span class="token keyword">continue</span>        <span class="token comment" spellcheck="true"># error code -3</span>        <span class="token keyword">elif</span> new_points<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">:</span>            <span class="token keyword">break</span>        <span class="token comment" spellcheck="true"># check and put arrays in columns</span>        new_points <span class="token operator">=</span> vertical_put<span class="token punctuation">(</span>new_points<span class="token punctuation">)</span>        <span class="token keyword">if</span> new_points<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">:</span>            <span class="token keyword">continue</span>        <span class="token comment" spellcheck="true"># this is the last array of this row, but some rest positions of this row are still occupied</span>        <span class="token keyword">if</span> k <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">==</span> len<span class="token punctuation">(</span>                horizontal<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">and</span> j1 <span class="token operator">&lt;</span> n <span class="token operator">and</span> np<span class="token punctuation">.</span>max<span class="token punctuation">(</span>new_points<span class="token punctuation">[</span>x<span class="token punctuation">,</span> j1<span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token keyword">continue</span>        <span class="token comment" spellcheck="true"># recur to next</span>        <span class="token keyword">if</span> k <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">==</span> len<span class="token punctuation">(</span>horizontal<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            search<span class="token punctuation">(</span>new_points<span class="token punctuation">,</span> x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            search<span class="token punctuation">(</span>new_points<span class="token punctuation">,</span> x<span class="token punctuation">,</span> j1 <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> k <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>        <span class="token comment" spellcheck="true"># solution is already found</span>        <span class="token keyword">if</span> is_solved<span class="token punctuation">:</span>            <span class="token keyword">return</span>search<span class="token punctuation">(</span>np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">,</span> dtype<span class="token operator">=</span>np<span class="token punctuation">.</span>int<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>ans_points<span class="token punctuation">[</span>ans_points <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">255</span>ans_points<span class="token punctuation">[</span>ans_points <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>im <span class="token operator">=</span> Image<span class="token punctuation">.</span>fromarray<span class="token punctuation">(</span>ans_points<span class="token punctuation">.</span>astype<span class="token punctuation">(</span>np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"L"</span><span class="token punctuation">)</span>im<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># im.save("level_32/python.jpg")</span></code></pre><p><strong>Output</strong><br><a href="http://www.pythonchallenge.com/pc/rock/warmup.txt">warmup.txt</a></p><pre><code>██×.█×.███×.███××█×.█████××.███████×█████████×××███×××██×███×████×███×████×███×██</code></pre><p><a href="http://www.pythonchallenge.com/pc/rock/up.txt">up.text</a></p><pre><code>...................███×██×........................████████×......................██████████×.....................███×××█××█×.....................█████×██×█×.....................█████×██×█×....................████××.█×.█×.................███████████████×..............███████████████████×...........██████×██████████████×.........██████×..×.█×██████████........███████×..██×.█×████████........██████×█×█×██××.█×█×█××█........█████×.×█×.████××.×.×..█........█████×████×█×████×█×█×█×........█████×××█×█×.×████████××........×█████×██××█×.×████████×.........██████××█××██×××█×███××.........×██████×███××██××.××█××..........×██████×××█×××█████×××█×.........×██████×.███×××××××××██×.........×███████×××██×.×××××███×.███×..██████████×████××××××█████████×████████████××××█×××××██████████████████████×...█××××××█████████████████████×████×××××××█××█████████████████××××█××××××××██××████████×█████×....█×××××××××××××██×××××██××××.████××××××××××××××××█████××██×█×××█××××××××××××××××××××××××××█████××××××××</code></pre><p>输入“python.html”到下一页面，直接搜索下面那段话 “Free” as in “Free speech”, not as in “free…<br>了解到“Free as in beer”指免费软件，“Free as in speech”指开源软件，答案就是“beer”。</p><h2 id="level-33-remove-light-2020-12-25"><a href="#level-33-remove-light-2020-12-25" class="headerlink" title="level_33_remove light_2020.12.25"></a>level_33_remove light_2020.12.25</h2><p>今天圣诞节嘞，圣诞快乐🎄！然而并没有收到礼物/(ㄒoㄒ)/~~<br><strong>🔑Solution</strong><br>不明白为什么32关那么难,33关又正常了…小小吐槽一下<br>这一关就是根据网页提示得到beer2.png图片,保存到本地,打开,发现图片是138*138的正方形<br>之前的网页源代码提示,”如果你被光蒙蔽了双眼，用它的力量移除它的力量。然后在灰烬中，另一个真相将向你光明正大地展示。”额,这句话真有哲理(●’◡’●)<br>总之,是之后用im.getdata()查看图片的灰度值,找到最大的两个数c0,c1,把等于c0,c1的数都变为255(白色),把小于的数都变成0(黑色),然后再删除等于c0和c1的数,得到的列表长度依然是一个平方数,之后需要重复操作33次,得到33张图片,发现33张图片里几张被方框括起来了,按顺序拼接,于是答案就为”gremlins”<br><strong>学习</strong></p><ul><li>最后一关的输出我用了红色和绿色来美化输出哦,还回想起了<code>center(10,'*')</code></li><li>numpy可能要学习一下<ul><li> <code>data_np = np.array(data_list, dtype=np.uint8).reshape(n, n)</code>把列表搞成n*n的矩阵</li><li> <code>data_np[data_np &gt;= max_2] = 255</code>可以直接把矩阵里大于某个数的值重新赋值</li></ul></li></ul><p><strong>💻Code</strong></p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token keyword">import</span> math<span class="token keyword">import</span> os<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">import</span> heapq<span class="token keyword">def</span> <span class="token function">mkdir</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true"># 创建文件夹函数</span>    folder <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span>path<span class="token punctuation">)</span>    <span class="token keyword">if</span> <span class="token operator">not</span> folder<span class="token punctuation">:</span>        os<span class="token punctuation">.</span>makedirs<span class="token punctuation">(</span>path<span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token string">"---new folder {path} created---"</span><span class="token punctuation">)</span>mkdir<span class="token punctuation">(</span><span class="token string">'output/level_33'</span><span class="token punctuation">)</span>im <span class="token operator">=</span> Image<span class="token punctuation">.</span>open<span class="token punctuation">(</span><span class="token string">'assets/beer2.png'</span><span class="token punctuation">)</span>data_list <span class="token operator">=</span> list<span class="token punctuation">(</span>im<span class="token punctuation">.</span>getdata<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">33</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token string">'\033[31m开始处理第{i+1}张图片\033[0m'</span><span class="token punctuation">)</span>    max_number <span class="token operator">=</span> heapq<span class="token punctuation">.</span>nlargest<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> set<span class="token punctuation">(</span>data_list<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token string">"data中最大的两个数：{max_number}"</span><span class="token punctuation">)</span>    max_2 <span class="token operator">=</span> max_number<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>    length <span class="token operator">=</span> len<span class="token punctuation">(</span>data_list<span class="token punctuation">)</span>    n <span class="token operator">=</span> int<span class="token punctuation">(</span>math<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>len<span class="token punctuation">(</span>data_list<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token string">'列表总长度：{length}'</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token string">'图片大小:{n}*{n}'</span><span class="token punctuation">)</span>    data_np <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>data_list<span class="token punctuation">,</span> dtype<span class="token operator">=</span>np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span>n<span class="token punctuation">,</span> n<span class="token punctuation">)</span>    data_np<span class="token punctuation">[</span>data_np <span class="token operator">>=</span> max_2<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">255</span>    data_np<span class="token punctuation">[</span>data_np <span class="token operator">&lt;</span> max_2<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>    data_list <span class="token operator">=</span> <span class="token punctuation">[</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> data_list <span class="token keyword">if</span> x <span class="token operator">&lt;</span> max_2<span class="token punctuation">]</span>    im1 <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">'L'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>n<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">)</span>    im <span class="token operator">=</span> Image<span class="token punctuation">.</span>fromarray<span class="token punctuation">(</span>data_np<span class="token punctuation">,</span> <span class="token string">"L"</span><span class="token punctuation">)</span>    im<span class="token punctuation">.</span>save<span class="token punctuation">(</span>f<span class="token string">'output/level_33/{i+1}.png'</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token string">'\033[32m第{i+1}张图片成功保存至本地\033[0m'</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p><strong>Output</strong><br><img src="https://cdn.jsdelivr.net/gh/Achuan-2/PicBed/assets/20201225110813-2020-12-25.png" alt="生成的33张图"></p><p>撒花完结!!!!<br><img src="https://cdn.jsdelivr.net/gh/Achuan-2/PicBed/assets/20201225111138-2020-12-25.png"></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python基础练习 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
